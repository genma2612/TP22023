"use strict";(self.webpackChunkTP22023=self.webpackChunkTP22023||[]).push([[179],{2313:(fn,at,ee)=>{ee.d(at,{nm:()=>Or});var y=ee(3530),fe=(ee(1902),ee(3692),ee(259),ee(5861)),ne=ee(6881),de=ee(4859),ut=ee(2090),Fe=ee(1877);const ue=new Map,oe={activated:!1,tokenObservers:[]},Re={initialized:!1,enabled:!1};function je(ye){return ue.get(ye)||Object.assign({},oe)}function It(){return Re}const st="https://content-firebaseappcheck.googleapis.com/v1",Pn="exchangeDebugToken",Fn={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ot{constructor(ge,Ae,Ye,wt,Ht){if(this.operation=ge,this.retryPolicy=Ae,this.getWaitDuration=Ye,this.lowerBound=wt,this.upperBound=Ht,this.pending=null,this.nextErrorWaitInterval=wt,wt>Ht)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ge){var Ae=this;return(0,fe.Z)(function*(){Ae.stop();try{Ae.pending=new ut.BH,yield function Ge(ye){return new Promise(ge=>{setTimeout(ge,ye)})}(Ae.getNextRun(ge)),Ae.pending.resolve(),yield Ae.pending.promise,Ae.pending=new ut.BH,yield Ae.operation(),Ae.pending.resolve(),yield Ae.pending.promise,Ae.process(!0).catch(()=>{})}catch(Ye){Ae.retryPolicy(Ye)?Ae.process(!1).catch(()=>{}):Ae.stop()}})()}getNextRun(ge){if(ge)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ae=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ae}}}const _t=new ut.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function et(ye){if(!je(ye).activated)throw _t.create("use-before-activation",{appName:ye.name})}function yr(ye,ge){return yt.apply(this,arguments)}function yt(){return(yt=(0,fe.Z)(function*({url:ye,body:ge},Ae){const Ye={"Content-Type":"application/json"},wt=Ae.getImmediate({optional:!0});if(wt){const Ci=yield wt.getHeartbeatsHeader();Ci&&(Ye["X-Firebase-Client"]=Ci)}const Ht={method:"POST",body:JSON.stringify(ge),headers:Ye};let $n,wn;try{$n=yield fetch(ye,Ht)}catch(Ci){throw _t.create("fetch-network-error",{originalErrorMessage:Ci?.message})}if(200!==$n.status)throw _t.create("fetch-status-error",{httpStatus:$n.status});try{wn=yield $n.json()}catch(Ci){throw _t.create("fetch-parse-error",{originalErrorMessage:Ci?.message})}const vn=wn.ttl.match(/^([\d.]+)(s)$/);if(!vn||!vn[2]||isNaN(Number(vn[1])))throw _t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${wn.ttl}`});const ss=1e3*Number(vn[1]),vi=Date.now();return{token:wn.token,expireTimeMillis:vi+ss,issuedAtTimeMillis:vi}})).apply(this,arguments)}function me(ye,ge){const{projectId:Ae,appId:Ye,apiKey:wt}=ye.options;return{url:`${st}/projects/${Ae}/apps/${Ye}:${Pn}?key=${wt}`,body:{debug_token:ge}}}const Oe="firebase-app-check-database",We=1,vt="firebase-app-check-store";let Ce=null;function mn(){return(mn=(0,fe.Z)(function*(ye,ge){const Ye=(yield function rt(){return Ce||(Ce=new Promise((ye,ge)=>{try{const Ae=indexedDB.open(Oe,We);Ae.onsuccess=Ye=>{ye(Ye.target.result)},Ae.onerror=Ye=>{var wt;ge(_t.create("storage-open",{originalErrorMessage:null===(wt=Ye.target.error)||void 0===wt?void 0:wt.message}))},Ae.onupgradeneeded=Ye=>{0===Ye.oldVersion&&Ye.target.result.createObjectStore(vt,{keyPath:"compositeKey"})}}catch(Ae){ge(_t.create("storage-open",{originalErrorMessage:Ae?.message}))}}),Ce)}()).transaction(vt,"readwrite"),Ht=Ye.objectStore(vt).put({compositeKey:ye,value:ge});return new Promise(($n,wn)=>{Ht.onsuccess=vn=>{$n()},Ye.onerror=vn=>{var ss;wn(_t.create("storage-set",{originalErrorMessage:null===(ss=vn.target.error)||void 0===ss?void 0:ss.message}))}})})).apply(this,arguments)}const Wn=new Fe.Yd("@firebase/app-check");function Zn(ye,ge){return(0,ut.hl)()?function Le(ye,ge){return function Ut(ye,ge){return mn.apply(this,arguments)}(function Hn(ye){return`${ye.options.appId}-${ye.name}`}(ye),ge)}(ye,ge).catch(Ae=>{Wn.warn(`Failed to write token to IndexedDB. Error: ${Ae}`)}):Promise.resolve()}function Yr(){return It().enabled}function Vr(){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,fe.Z)(function*(){const ye=It();if(ye.enabled&&ye.token)return ye.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Pt={error:"UNKNOWN_ERROR"};function Yt(ye){return ut.US.encodeString(JSON.stringify(ye),!1)}function Sr(ye){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,fe.Z)(function*(ye,ge=!1){const Ae=ye.app;et(Ae);const Ye=je(Ae);let Ht,wt=Ye.token;if(wt&&!yi(wt)&&(Ye.token=void 0,wt=void 0),!wt){const vn=yield Ye.cachedTokenPromise;vn&&(yi(vn)?wt=vn:yield Zn(Ae,void 0))}if(!ge&&wt&&yi(wt))return{token:wt.token};let wn,$n=!1;if(Yr()){Ye.exchangeTokenPromise||(Ye.exchangeTokenPromise=yr(me(Ae,yield Vr()),ye.heartbeatServiceProvider).finally(()=>{Ye.exchangeTokenPromise=void 0}),$n=!0);const vn=yield Ye.exchangeTokenPromise;return yield Zn(Ae,vn),Ye.token=vn,{token:vn.token}}try{Ye.exchangeTokenPromise||(Ye.exchangeTokenPromise=Ye.provider.getToken().finally(()=>{Ye.exchangeTokenPromise=void 0}),$n=!0),wt=yield je(Ae).exchangeTokenPromise}catch(vn){"appCheck/throttled"===vn.code?Wn.warn(vn.message):Wn.error(vn),Ht=vn}return wt?Ht?wn=yi(wt)?{token:wt.token,internalError:Ht}:ui(Ht):(wn={token:wt.token},Ye.token=wt,yield Zn(Ae,wt)):wn=ui(Ht),$n&&function Dt(ye,ge){const Ae=je(ye).tokenObservers;for(const Ye of Ae)try{"EXTERNAL"===Ye.type&&null!=ge.error?Ye.error(ge.error):Ye.next(ge)}catch{}}(Ae,wn),wn})).apply(this,arguments)}function qr(ye){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,fe.Z)(function*(ye){const ge=ye.app;et(ge);const{provider:Ae}=je(ge);if(Yr()){const Ye=yield Vr(),{token:wt}=yield yr(me(ge,Ye),ye.heartbeatServiceProvider);return{token:wt}}{const{token:Ye}=yield Ae.getToken();return{token:Ye}}})).apply(this,arguments)}function Wr(ye,ge){const Ae=je(ye),Ye=Ae.tokenObservers.filter(wt=>wt.next!==ge);0===Ye.length&&Ae.tokenRefresher&&Ae.tokenRefresher.isRunning()&&Ae.tokenRefresher.stop(),Ae.tokenObservers=Ye}function Un(ye){const{app:ge}=ye,Ae=je(ge);let Ye=Ae.tokenRefresher;Ye||(Ye=function $i(ye){const{app:ge}=ye;return new ot((0,fe.Z)(function*(){let Ye;if(Ye=je(ge).token?yield Sr(ye,!0):yield Sr(ye),Ye.error)throw Ye.error;if(Ye.internalError)throw Ye.internalError}),()=>!0,()=>{const Ae=je(ge);if(Ae.token){let Ye=Ae.token.issuedAtTimeMillis+.5*(Ae.token.expireTimeMillis-Ae.token.issuedAtTimeMillis)+3e5;return Ye=Math.min(Ye,Ae.token.expireTimeMillis-3e5),Math.max(0,Ye-Date.now())}return 0},Fn.RETRIAL_MIN_WAIT,Fn.RETRIAL_MAX_WAIT)}(ye),Ae.tokenRefresher=Ye),!Ye.isRunning()&&Ae.isTokenAutoRefreshEnabled&&Ye.start()}function yi(ye){return ye.expireTimeMillis-Date.now()>0}function ui(ye){return{token:Yt(Pt),error:ye}}class cr{constructor(ge,Ae){this.app=ge,this.heartbeatServiceProvider=Ae}_delete(){const{tokenObservers:ge}=je(this.app);for(const Ae of ge)Wr(this.app,Ae.next);return Promise.resolve()}}const $t="app-check-internal";!function Wt(){(0,ne.Xd)(new de.wA("app-check",ye=>function gn(ye,ge){return new cr(ye,ge)}(ye.getProvider("app").getImmediate(),ye.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ye,ge,Ae)=>{ye.getProvider($t).initialize()})),(0,ne.Xd)(new de.wA($t,ye=>function wr(ye){return{getToken:ge=>Sr(ye,ge),getLimitedUseToken:()=>qr(ye),addTokenListener:ge=>function Qn(ye,ge,Ae,Ye){const{app:wt}=ye,Ht=je(wt);if(Ht.tokenObservers=[...Ht.tokenObservers,{next:Ae,error:Ye,type:ge}],Ht.token&&yi(Ht.token)){const wn=Ht.token;Promise.resolve().then(()=>{Ae({token:wn.token}),Un(ye)}).catch(()=>{})}Ht.cachedTokenPromise.then(()=>Un(ye))}(ye,"INTERNAL",ge),removeTokenListener:ge=>Wr(ye.app,ge)}}(ye.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ne.KN)("@firebase/app-check","0.8.0")}();class Or{constructor(){return(0,y.vb)("app-check")}}typeof window<"u"&&window},3692:(fn,at,ee)=>{ee.d(at,{Ot:()=>Me,ZF:()=>ht,hX:()=>je,z6:()=>fe});var y=ee(259),ce=ee(1902),U=ee(3530);class Me{constructor(ot){return ot}}class fe{constructor(){return(0,y.C6)()}}const ut=new ce.OlP("angularfire2._apps"),Fe={provide:Me,useFactory:function de(qe){return qe&&1===qe.length?qe[0]:new Me((0,y.Mq)())},deps:[[new ce.FiY,ut]]},ue={provide:fe,deps:[[new ce.FiY,ut]]};function oe(qe){return(ot,Ge)=>{const Je=ot.runOutsideAngular(()=>qe(Ge));return new Me(Je)}}let Re=(()=>{class qe{constructor(Ge){(0,y.KN)("angularfire",U.q4.full,"core"),(0,y.KN)("angularfire",U.q4.full,"app"),(0,y.KN)("angular",ce.q4F.full,Ge.toString())}}return qe.\u0275fac=function(Ge){return new(Ge||qe)(ce.LFG(ce.Lbi))},qe.\u0275mod=ce.oAB({type:qe}),qe.\u0275inj=ce.cJS({providers:[Fe,ue]}),qe})();function je(qe,...ot){return{ngModule:Re,providers:[{provide:ut,useFactory:oe(qe),multi:!0,deps:[ce.R0b,ce.zs3,U.HU,...ot]}]}}const ht=(0,U.u3)(y.ZF,!0)},2309:(fn,at,ee)=>{ee.d(at,{gx:()=>Ju,dh:()=>bl,Xb:()=>fp,v0:()=>pp,AR:()=>tc,e5:()=>Uc,w7:()=>Za});var y=ee(3530),ce=ee(1902),U=ee(3692),Me=ee(259),fe=ee(2313),ne=ee(5861),de=ee(2090),ut=ee(6881),Fe=ee(7582),ue=ee(1877),oe=ee(4859);const Fn=function Qt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qe=new de.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new ue.Yd("@firebase/auth");function _t(w,...h){Ge.logLevel<=ue.in.ERROR&&Ge.error(`Auth (${ut.Jn}): ${w}`,...h)}function Xe(w,...h){throw yr(w,...h)}function et(w,...h){return yr(w,...h)}function yr(w,...h){if("string"!=typeof w){const p=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=w.name),w._errorFactory.create(p,...C)}return qe.create(w,...h)}function yt(w,h,...p){if(!w)throw yr(h,...p)}function ft(w){const h="INTERNAL ASSERTION FAILED: "+w;throw _t(h),new Error(h)}function Ne(w,h){w||ft(h)}function me(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function We(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ce{constructor(h,p){this.shortDelay=h,this.longDelay=p,Ne(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,de.uI)()||(0,de.b$)()}get(){return function vt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Oe(){return"http:"===We()||"https:"===We()}()||(0,de.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rt(w,h){Ne(w.emulator,"Emulator should always be set here");const{url:p}=w.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class tt{static initialize(h,p,C){this.fetchImpl=h,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ft("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ft("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ft("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Le={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Vt=new Ce(3e4,6e4);function At(w,h){return w.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:w.tenantId}):h}function Ut(w,h,p,C){return mn.apply(this,arguments)}function mn(){return(mn=(0,ne.Z)(function*(w,h,p,C,j={}){return pr(w,j,(0,ne.Z)(function*(){let J={},we={};C&&("GET"===h?we=C:J={body:JSON.stringify(C)});const He=(0,de.xO)(Object.assign({key:w.config.apiKey},we)).slice(1),Mt=yield w._getAdditionalHeaders();return Mt["Content-Type"]="application/json",w.languageCode&&(Mt["X-Firebase-Locale"]=w.languageCode),tt.fetch()(gr(w,w.config.apiHost,p,He),Object.assign({method:h,headers:Mt,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function pr(w,h,p){return vr.apply(this,arguments)}function vr(){return(vr=(0,ne.Z)(function*(w,h,p){w._canInitEmulator=!1;const C=Object.assign(Object.assign({},Le),h);try{const j=new _r(w),J=yield Promise.race([p(),j.promise]);j.clearNetworkTimeout();const we=yield J.json();if("needConfirmation"in we)throw Zn(w,"account-exists-with-different-credential",we);if(J.ok&&!("errorMessage"in we))return we;{const He=J.ok?we.errorMessage:we.error.message,[Mt,jt]=He.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Mt)throw Zn(w,"credential-already-in-use",we);if("EMAIL_EXISTS"===Mt)throw Zn(w,"email-already-in-use",we);if("USER_DISABLED"===Mt)throw Zn(w,"user-disabled",we);const hn=C[Mt]||Mt.toLowerCase().replace(/[_\s]+/g,"-");if(jt)throw function kt(w,h,p){const C=Object.assign(Object.assign({},Fn()),{[h]:p});return new de.LL("auth","Firebase",C).create(h,{appName:w.name})}(w,hn,jt);Xe(w,hn)}}catch(j){if(j instanceof de.ZR)throw j;Xe(w,"network-request-failed",{message:String(j)})}})).apply(this,arguments)}function Hn(w,h,p,C){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,ne.Z)(function*(w,h,p,C,j={}){const J=yield Ut(w,h,p,C,j);return"mfaPendingCredential"in J&&Xe(w,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function gr(w,h,p,C){const j=`${h}${p}?${C}`;return w.config.emulator?rt(w.config,j):`${w.config.apiScheme}://${j}`}class _r{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(et(this.auth,"network-request-failed")),Vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zn(w,h,p){const C={appName:w.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const j=et(w,h,C);return j.customData._tokenResponse=p,j}function In(){return(In=(0,ne.Z)(function*(w,h){return Ut(w,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Gn(){return(Gn=(0,ne.Z)(function*(w,h){return Ut(w,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Pt(w){if(w)try{const h=new Date(Number(w));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Yn(){return(Yn=(0,ne.Z)(function*(w,h=!1){const p=(0,de.m9)(w),C=yield p.getIdToken(h),j=Vn(C);yt(j&&j.exp&&j.auth_time&&j.iat,p.auth,"internal-error");const J="object"==typeof j.firebase?j.firebase:void 0,we=J?.sign_in_provider;return{claims:j,token:C,authTime:Pt(qr(j.auth_time)),issuedAtTime:Pt(qr(j.iat)),expirationTime:Pt(qr(j.exp)),signInProvider:we||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function qr(w){return 1e3*Number(w)}function Vn(w){const[h,p,C]=w.split(".");if(void 0===h||void 0===p||void 0===C)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,de.tV)(p);return j?JSON.parse(j):(_t("Failed to decode base64 JWT payload"),null)}catch(j){return _t("Caught error parsing JWT payload as JSON",j?.toString()),null}}function Wr(w,h){return Un.apply(this,arguments)}function Un(){return(Un=(0,ne.Z)(function*(w,h,p=!1){if(p)return h;try{return yield h}catch(C){throw C instanceof de.ZR&&function $i({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(C)&&w.auth.currentUser===w&&(yield w.auth.signOut()),C}})).apply(this,arguments)}class Dt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const j=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,ne.Z)(function*(){yield p.iteration()}),C)}iteration(){var h=this;return(0,ne.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class yi{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pt(this.lastLoginAt),this.creationTime=Pt(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ui(w){return cr.apply(this,arguments)}function cr(){return cr=(0,ne.Z)(function*(w){var h;const p=w.auth,C=yield w.getIdToken(),j=yield Wr(w,function Sn(w,h){return Gn.apply(this,arguments)}(p,{idToken:C}));yt(j?.users.length,p,"internal-error");const J=j.users[0];w._notifyReloadListener(J);const we=null!==(h=J.providerUserInfo)&&void 0!==h&&h.length?function Kr(w){return w.map(h=>{var{providerId:p}=h,C=(0,Fe._T)(h,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(J.providerUserInfo):[],He=function Jn(w,h){return[...w.filter(C=>!h.some(j=>j.providerId===C.providerId)),...h]}(w.providerData,we),hn=!!w.isAnonymous&&!(w.email&&J.passwordHash||He?.length),ur={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:He,metadata:new yi(J.createdAt,J.lastLoginAt),isAnonymous:hn};Object.assign(w,ur)}),cr.apply(this,arguments)}function wr(){return(wr=(0,ne.Z)(function*(w){const h=(0,de.m9)(w);yield ui(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Nr(){return(Nr=(0,ne.Z)(function*(w,h){const p=yield pr(w,{},(0,ne.Z)(function*(){const C=(0,de.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:j,apiKey:J}=w.config,we=gr(w,j,"/v1/token",`key=${J}`),He=yield w._getAdditionalHeaders();return He["Content-Type"]="application/x-www-form-urlencoded",tt.fetch()(we,{method:"POST",headers:He,body:C})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class An{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){yt(h.idToken,"internal-error"),yt(typeof h.idToken<"u","internal-error"),yt(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Qn(w){const h=Vn(w);return yt(h,"internal-error"),yt(typeof h.exp<"u","internal-error"),yt(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var C=this;return(0,ne.Z)(function*(){return yt(!C.accessToken||C.refreshToken,h,"user-token-expired"),p||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var C=this;return(0,ne.Z)(function*(){const{accessToken:j,refreshToken:J,expiresIn:we}=yield function Di(w,h){return Nr.apply(this,arguments)}(h,p);C.updateTokensAndExpiration(j,J,Number(we))})()}updateTokensAndExpiration(h,p,C){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,p){const{refreshToken:C,accessToken:j,expirationTime:J}=p,we=new An;return C&&(yt("string"==typeof C,"internal-error",{appName:h}),we.refreshToken=C),j&&(yt("string"==typeof j,"internal-error",{appName:h}),we.accessToken=j),J&&(yt("number"==typeof J,"internal-error",{appName:h}),we.expirationTime=J),we}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new An,this.toJSON())}_performRefresh(){return ft("not implemented")}}function rn(w,h){yt("string"==typeof w||typeof w>"u","internal-error",{appName:h})}class Bn{constructor(h){var{uid:p,auth:C,stsTokenManager:j}=h,J=(0,Fe._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new yi(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,ne.Z)(function*(){const C=yield Wr(p,p.stsTokenManager.getToken(p.auth,h));return yt(C,p.auth,"internal-error"),p.accessToken!==C&&(p.accessToken=C,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),C})()}getIdTokenResult(h){return function Sr(w){return Yn.apply(this,arguments)}(this,h)}reload(){return function gn(w){return wr.apply(this,arguments)}(this)}_assign(h){this!==h&&(yt(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new Bn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var C=this;return(0,ne.Z)(function*(){let j=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),j=!0),p&&(yield ui(C)),yield C.auth._persistUserIfCurrent(C),j&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,ne.Z)(function*(){const p=yield h.getIdToken();return yield Wr(h,function Rt(w,h){return In.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var C,j,J,we,He,Mt,jt,hn;const ur=null!==(C=p.displayName)&&void 0!==C?C:void 0,Bs=null!==(j=p.email)&&void 0!==j?j:void 0,ua=null!==(J=p.phoneNumber)&&void 0!==J?J:void 0,fu=null!==(we=p.photoURL)&&void 0!==we?we:void 0,jc=null!==(He=p.tenantId)&&void 0!==He?He:void 0,Hc=null!==(Mt=p._redirectEventId)&&void 0!==Mt?Mt:void 0,Gc=null!==(jt=p.createdAt)&&void 0!==jt?jt:void 0,Nl=null!==(hn=p.lastLoginAt)&&void 0!==hn?hn:void 0,{uid:zc,emailVerified:Md,isAnonymous:xd,providerData:qc,stsTokenManager:Rd}=p;yt(zc&&Rd,h,"internal-error");const xu=An.fromJSON(this.name,Rd);yt("string"==typeof zc,h,"internal-error"),rn(ur,h.name),rn(Bs,h.name),yt("boolean"==typeof Md,h,"internal-error"),yt("boolean"==typeof xd,h,"internal-error"),rn(ua,h.name),rn(fu,h.name),rn(jc,h.name),rn(Hc,h.name),rn(Gc,h.name),rn(Nl,h.name);const Ol=new Bn({uid:zc,auth:h,email:Bs,emailVerified:Md,displayName:ur,isAnonymous:xd,photoURL:fu,phoneNumber:ua,tenantId:jc,stsTokenManager:xu,createdAt:Gc,lastLoginAt:Nl});return qc&&Array.isArray(qc)&&(Ol.providerData=qc.map(Pl=>Object.assign({},Pl))),Hc&&(Ol._redirectEventId=Hc),Ol}static _fromIdTokenResponse(h,p,C=!1){return(0,ne.Z)(function*(){const j=new An;j.updateFromServerResponse(p);const J=new Bn({uid:p.localId,auth:h,stsTokenManager:j,isAnonymous:C});return yield ui(J),J})()}}const he=new Map;function G(w){Ne(w instanceof Function,"Expected a class definition");let h=he.get(w);return h?(Ne(h instanceof w,"Instance stored in cache mismatched with class"),h):(h=new w,he.set(w,h),h)}const K=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ne.Z)(function*(){return!0})()}_set(p,C){var j=this;return(0,ne.Z)(function*(){j.storage[p]=C})()}_get(p){var C=this;return(0,ne.Z)(function*(){const j=C.storage[p];return void 0===j?null:j})()}_remove(p){var C=this;return(0,ne.Z)(function*(){delete C.storage[p]})()}_addListener(p,C){}_removeListener(p,C){}}return w.type="NONE",w})();function te(w,h,p){return`firebase:${w}:${h}:${p}`}class Te{constructor(h,p,C){this.persistence=h,this.auth=p,this.userKey=C;const{config:j,name:J}=this.auth;this.fullUserKey=te(this.userKey,j.apiKey,J),this.fullPersistenceKey=te("persistence",j.apiKey,J),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,ne.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Bn._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,ne.Z)(function*(){if(p.persistence===h)return;const C=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,C?p.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,C="authUser"){return(0,ne.Z)(function*(){if(!p.length)return new Te(G(K),h,C);const j=(yield Promise.all(p.map(function(){var jt=(0,ne.Z)(function*(hn){if(yield hn._isAvailable())return hn});return function(hn){return jt.apply(this,arguments)}}()))).filter(jt=>jt);let J=j[0]||G(K);const we=te(C,h.config.apiKey,h.name);let He=null;for(const jt of p)try{const hn=yield jt._get(we);if(hn){const ur=Bn._fromJSON(h,hn);jt!==J&&(He=ur),J=jt;break}}catch{}const Mt=j.filter(jt=>jt._shouldAllowMigration);return J._shouldAllowMigration&&Mt.length?(J=Mt[0],He&&(yield J._set(we,He.toJSON())),yield Promise.all(p.map(function(){var jt=(0,ne.Z)(function*(hn){if(hn!==J)try{yield hn._remove(we)}catch{}});return function(hn){return jt.apply(this,arguments)}}())),new Te(J,h,C)):new Te(J,h,C)})()}}function Qe(w){const h=w.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(nn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(bt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(kn(h))return"Blackberry";if(lr(h))return"Webos";if(Bt(h))return"Safari";if((h.includes("chrome/")||un(h))&&!h.includes("edge/"))return"Chrome";if(Jt(h))return"Android";{const C=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function bt(w=(0,de.z$)()){return/firefox\//i.test(w)}function Bt(w=(0,de.z$)()){const h=w.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function un(w=(0,de.z$)()){return/crios\//i.test(w)}function nn(w=(0,de.z$)()){return/iemobile/i.test(w)}function Jt(w=(0,de.z$)()){return/android/i.test(w)}function kn(w=(0,de.z$)()){return/blackberry/i.test(w)}function lr(w=(0,de.z$)()){return/webos/i.test(w)}function di(w=(0,de.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function nt(w=(0,de.z$)()){return di(w)||Jt(w)||lr(w)||kn(w)||/windows phone/i.test(w)||nn(w)}function Wt(w,h=[]){let p;switch(w){case"Browser":p=Qe((0,de.z$)());break;case"Worker":p=`${Qe((0,de.z$)())}-${w}`;break;default:p=w}const C=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${ut.Jn}/${C}`}function Or(w,h){return Er.apply(this,arguments)}function Er(){return(Er=(0,ne.Z)(function*(w,h){return Ut(w,"GET","/v2/recaptchaConfig",At(w,h))})).apply(this,arguments)}function Jr(w){return void 0!==w&&void 0!==w.enterprise}class ci{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function is(w){return new Promise((h,p)=>{const C=document.createElement("script");C.setAttribute("src",w),C.onload=h,C.onerror=j=>{const J=et("internal-error");J.customData=j,p(J)},C.type="text/javascript",C.charset="UTF-8",function Hi(){var w,h;return null!==(h=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==h?h:document}().appendChild(C)})}function Yi(w){return`__${w}${Math.floor(1e6*Math.random())}`}class Xn{constructor(h){this.type="recaptcha-enterprise",this.auth=ye(h)}verify(h="verify",p=!1){var C=this;return(0,ne.Z)(function*(){function J(){return J=(0,ne.Z)(function*(He){if(!p){if(null==He.tenantId&&null!=He._agentRecaptchaConfig)return He._agentRecaptchaConfig.siteKey;if(null!=He.tenantId&&void 0!==He._tenantRecaptchaConfigs[He.tenantId])return He._tenantRecaptchaConfigs[He.tenantId].siteKey}return new Promise(function(){var Mt=(0,ne.Z)(function*(jt,hn){Or(He,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ur=>{if(void 0!==ur.recaptchaKey){const Bs=new ci(ur);return null==He.tenantId?He._agentRecaptchaConfig=Bs:He._tenantRecaptchaConfigs[He.tenantId]=Bs,jt(Bs.siteKey)}hn(new Error("recaptcha Enterprise site key undefined"))}).catch(ur=>{hn(ur)})});return function(jt,hn){return Mt.apply(this,arguments)}}())}),J.apply(this,arguments)}function we(He,Mt,jt){const hn=window.grecaptcha;Jr(hn)?hn.enterprise.ready(()=>{hn.enterprise.execute(He,{action:h}).then(ur=>{Mt(ur)}).catch(()=>{Mt("NO_RECAPTCHA")})}):jt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((He,Mt)=>{(function j(He){return J.apply(this,arguments)})(C.auth).then(jt=>{if(!p&&Jr(window.grecaptcha))we(jt,He,Mt);else{if(typeof window>"u")return void Mt(new Error("RecaptchaVerifier is only supported in browser"));is("https://www.google.com/recaptcha/enterprise.js?render="+jt).then(()=>{we(jt,He,Mt)}).catch(hn=>{Mt(hn)})}}).catch(jt=>{Mt(jt)})})})()}}function Ji(w,h,p){return Li.apply(this,arguments)}function Li(){return(Li=(0,ne.Z)(function*(w,h,p,C=!1){const j=new Xn(w);let J;try{J=yield j.verify(p)}catch{J=yield j.verify(p,!0)}const we=Object.assign({},h);return Object.assign(we,C?{captchaResp:J}:{captchaResponse:J}),Object.assign(we,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(we,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),we})).apply(this,arguments)}class Vi{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const C=J=>new Promise((we,He)=>{try{we(h(J))}catch(Mt){He(Mt)}});C.onAbort=p,this.queue.push(C);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,ne.Z)(function*(){if(p.auth.currentUser===h)return;const C=[];try{for(const j of p.queue)yield j(h),j.onAbort&&C.push(j.onAbort)}catch(j){C.reverse();for(const J of C)try{J()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:j?.message})}})()}}class Bo{constructor(h,p,C,j){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=C,this.config=j,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ge(this),this.idTokenSubscription=new ge(this),this.beforeStateQueue=new Vi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=j.sdkClientVersion}_initializeWithPersistence(h,p){var C=this;return p&&(this._popupRedirectResolver=G(p)),this._initializationPromise=this.queue((0,ne.Z)(function*(){var j,J;if(!C._deleted&&(C.persistenceManager=yield Te.create(C,h),!C._deleted)){if(null!==(j=C._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(p),C.lastNotifiedUid=(null===(J=C.currentUser)||void 0===J?void 0:J.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,ne.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,ne.Z)(function*(){var C;const j=yield p.assertedPersistence.getCurrentUser();let J=j,we=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const He=null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId,Mt=J?._redirectEventId,jt=yield p.tryRedirectSignIn(h);(!He||He===Mt)&&jt?.user&&(J=jt.user,we=!0)}if(!J)return p.directlySetCurrentUser(null);if(!J._redirectEventId){if(we)try{yield p.beforeStateQueue.runMiddleware(J)}catch(He){J=j,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(He))}return J?p.reloadAndSetCurrentUserOrClear(J):p.directlySetCurrentUser(null)}return yt(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===J._redirectEventId?p.directlySetCurrentUser(J):p.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(h){var p=this;return(0,ne.Z)(function*(){let C=null;try{C=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,ne.Z)(function*(){try{yield ui(h)}catch(C){if("auth/network-request-failed"!==C?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function ct(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var h=this;return(0,ne.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,ne.Z)(function*(){const C=h?(0,de.m9)(h):null;return C&&yt(C.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(C&&C._clone(p))})()}_updateCurrentUser(h,p=!1){var C=this;return(0,ne.Z)(function*(){if(!C._deleted)return h&&yt(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),p||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,ne.Z)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,ne.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,ne.Z)(function*(){yield p.assertedPersistence.setPersistence(G(h))}))}initializeRecaptchaConfig(){var h=this;return(0,ne.Z)(function*(){const p=yield Or(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new ci(p);null==h.tenantId?h._agentRecaptchaConfig=C:h._tenantRecaptchaConfigs[h.tenantId]=C,C.emailPasswordEnabled&&new Xn(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new de.LL("auth","Firebase",h())}onAuthStateChanged(h,p,C){return this.registerStateListener(this.authStateSubscription,h,p,C)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,C){return this.registerStateListener(this.idTokenSubscription,h,p,C)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var C=this;return(0,ne.Z)(function*(){const j=yield C.getOrInitRedirectPersistenceManager(p);return null===h?j.removeCurrentUser():j.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,ne.Z)(function*(){if(!p.redirectPersistenceManager){const C=h&&G(h)||p._popupRedirectResolver;yt(C,p,"argument-error"),p.redirectPersistenceManager=yield Te.create(p,[G(C._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,ne.Z)(function*(){var C,j;return p._isInitialized&&(yield p.queue((0,ne.Z)(function*(){}))),(null===(C=p._currentUser)||void 0===C?void 0:C._redirectEventId)===h?p._currentUser:(null===(j=p.redirectUser)||void 0===j?void 0:j._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,ne.Z)(function*(){if(h===p.currentUser)return p.queue((0,ne.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,C,j){if(this._deleted)return()=>{};const J="function"==typeof p?p:p.next.bind(p),we=this._isInitialized?Promise.resolve():this._initializationPromise;return yt(we,this,"internal-error"),we.then(()=>J(this.currentUser)),"function"==typeof p?h.addObserver(p,C,j):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,ne.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Wt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,ne.Z)(function*(){var p;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const j=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();j&&(C["X-Firebase-Client"]=j);const J=yield h._getAppCheckToken();return J&&(C["X-Firebase-AppCheck"]=J),C})()}_getAppCheckToken(){var h=this;return(0,ne.Z)(function*(){var p;const C=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return C?.error&&function Je(w,...h){Ge.logLevel<=ue.in.WARN&&Ge.warn(`Auth (${ut.Jn}): ${w}`,...h)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function ye(w){return(0,de.m9)(w)}class ge{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,de.ne)(p=>this.observer=p)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ht(w){const h=w.indexOf(":");return h<0?"":w.substr(0,h+1)}function wn(w){if(!w)return null;const h=Number(w);return isNaN(h)?null:h}class ss{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return ft("not implemented")}_getIdTokenResponse(h){return ft("not implemented")}_linkToIdToken(h,p){return ft("not implemented")}_getReauthenticationResolver(h){return ft("not implemented")}}function hi(w,h){return po.apply(this,arguments)}function po(){return(po=(0,ne.Z)(function*(w,h){return Ut(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ls(w,h){return mo.apply(this,arguments)}function mo(){return(mo=(0,ne.Z)(function*(w,h){return Hn(w,"POST","/v1/accounts:signInWithPassword",At(w,h))})).apply(this,arguments)}function Ur(){return(Ur=(0,ne.Z)(function*(w,h){return Hn(w,"POST","/v1/accounts:signInWithEmailLink",At(w,h))})).apply(this,arguments)}function Ir(){return(Ir=(0,ne.Z)(function*(w,h){return Hn(w,"POST","/v1/accounts:signInWithEmailLink",At(w,h))})).apply(this,arguments)}class St extends ss{constructor(h,p,C,j=null){super("password",C),this._email=h,this._password=p,this._tenantId=j}static _fromEmailAndPassword(h,p){return new St(h,p,"password")}static _fromEmailAndCode(h,p,C=null){return new St(h,p,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,ne.Z)(function*(){var C;switch(p.signInMethod){case"password":const j={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=h._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const J=yield Ji(h,j,"signInWithPassword");return ls(h,J)}return ls(h,j).catch(function(){var J=(0,ne.Z)(function*(we){if("auth/missing-recaptcha-token"===we.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const He=yield Ji(h,j,"signInWithPassword");return ls(h,He)}return Promise.reject(we)});return function(we){return J.apply(this,arguments)}}());case"emailLink":return function qs(w,h){return Ur.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Xe(h,"internal-error")}})()}_linkToIdToken(h,p){var C=this;return(0,ne.Z)(function*(){switch(C.signInMethod){case"password":return hi(h,{idToken:p,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Ti(w,h){return Ir.apply(this,arguments)}(h,{idToken:p,email:C._email,oobCode:C._password});default:Xe(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function ln(w,h){return tn.apply(this,arguments)}function tn(){return(tn=(0,ne.Z)(function*(w,h){return Hn(w,"POST","/v1/accounts:signInWithIdp",At(w,h))})).apply(this,arguments)}class ei{constructor(h){var p,C,j,J,we,He;const Mt=(0,de.zd)((0,de.pd)(h)),jt=null!==(p=Mt.apiKey)&&void 0!==p?p:null,hn=null!==(C=Mt.oobCode)&&void 0!==C?C:null,ur=function Mo(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=Mt.mode)&&void 0!==j?j:null);yt(jt&&hn&&ur,"argument-error"),this.apiKey=jt,this.operation=ur,this.code=hn,this.continueUrl=null!==(J=Mt.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(we=Mt.languageCode)&&void 0!==we?we:null,this.tenantId=null!==(He=Mt.tenantId)&&void 0!==He?He:null}static parseLink(h){const p=function ms(w){const h=(0,de.zd)((0,de.pd)(w)).link,p=h?(0,de.zd)((0,de.pd)(h)).deep_link_id:null,C=(0,de.zd)((0,de.pd)(w)).deep_link_id;return(C?(0,de.zd)((0,de.pd)(C)).link:null)||C||p||h||w}(h);try{return new ei(p)}catch{return null}}}let ys=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(p,C){return St._fromEmailAndPassword(p,C)}static credentialWithLink(p,C){const j=ei.parseLink(C);return yt(j,"argument-error"),St._fromEmailAndCode(p,j.code,j.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class ti{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Si extends ti{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function Ws(w,h){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,ne.Z)(function*(w,h){return Hn(w,"POST","/v1/accounts:signUp",At(w,h))})).apply(this,arguments)}class Ai{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,C,j=!1){return(0,ne.Z)(function*(){const J=yield Bn._fromIdTokenResponse(h,C,j),we=pi(C);return new Ai({user:J,providerId:we,_tokenResponse:C,operationType:p})})()}static _forOperation(h,p,C){return(0,ne.Z)(function*(){yield h._updateTokensIfNecessary(C,!0);const j=pi(C);return new Ai({user:h,providerId:j,_tokenResponse:C,operationType:p})})()}}function pi(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}class Cr extends de.ZR{constructor(h,p,C,j){var J;super(p.code,p.message),this.operationType=C,this.user=j,Object.setPrototypeOf(this,Cr.prototype),this.customData={appName:h.name,tenantId:null!==(J=h.tenantId)&&void 0!==J?J:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,p,C,j){return new Cr(h,p,C,j)}}function ks(w,h,p,C){return("reauthenticate"===h?p._getReauthenticationResolver(w):p._getIdTokenResponse(w)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?Cr._fromErrorAndOperation(w,J,h,C):J})}function Jo(){return(Jo=(0,ne.Z)(function*(w,h,p=!1){const C=yield Wr(w,h._linkToIdToken(w.auth,yield w.getIdToken()),p);return Ai._forOperation(w,"link",C)})).apply(this,arguments)}function H(){return(H=(0,ne.Z)(function*(w,h,p=!1){const{auth:C}=w,j="reauthenticate";try{const J=yield Wr(w,ks(C,j,h,w),p);yt(J.idToken,C,"internal-error");const we=Vn(J.idToken);yt(we,C,"internal-error");const{sub:He}=we;return yt(w.uid===He,C,"user-mismatch"),Ai._forOperation(w,j,J)}catch(J){throw"auth/user-not-found"===J?.code&&Xe(C,"user-mismatch"),J}})).apply(this,arguments)}function B(w,h){return ie.apply(this,arguments)}function ie(){return(ie=(0,ne.Z)(function*(w,h,p=!1){const C="signIn",j=yield ks(w,C,h),J=yield Ai._fromIdTokenResponse(w,C,j);return p||(yield w._updateCurrentUser(J.user)),J})).apply(this,arguments)}function be(){return(be=(0,ne.Z)(function*(w,h){return B(ye(w),h)})).apply(this,arguments)}function Ei(w,h,p){return _o.apply(this,arguments)}function _o(){return _o=(0,ne.Z)(function*(w,h,p){var C;const j=ye(w),J={returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"};let we;if(null!==(C=j._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const jt=yield Ji(j,J,"signUpPassword");we=Ws(j,jt)}else we=Ws(j,J).catch(function(){var jt=(0,ne.Z)(function*(hn){if("auth/missing-recaptcha-token"===hn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ur=yield Ji(j,J,"signUpPassword");return Ws(j,ur)}return Promise.reject(hn)});return function(hn){return jt.apply(this,arguments)}}());const He=yield we.catch(jt=>Promise.reject(jt)),Mt=yield Ai._fromIdTokenResponse(j,"signIn",He);return yield j._updateCurrentUser(Mt.user),Mt}),_o.apply(this,arguments)}function zi(w,h,p){return function se(w,h){return be.apply(this,arguments)}((0,de.m9)(w),ys.credential(h,p))}function jr(w){return(0,de.m9)(w).signOut()}const Ct="__sak";class $e{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Ct,"1"),this.storage.removeItem(Ct),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gu=(()=>{class w extends $e{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,C)=>this.onStorageEvent(p,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function dt(){const w=(0,de.z$)();return Bt(w)||di(w)}()&&function $t(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=nt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const C of Object.keys(this.listeners)){const j=this.storage.getItem(C),J=this.localCache[C];j!==J&&p(C,J,j)}}onStorageEvent(p,C=!1){if(!p.key)return void this.forAllChangedKeys((He,Mt,jt)=>{this.notifyListeners(He,jt)});const j=p.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const He=this.storage.getItem(j);if(p.newValue!==He)null!==p.newValue?this.storage.setItem(j,p.newValue):this.storage.removeItem(j);else if(this.localCache[j]===p.newValue&&!C)return}const J=()=>{const He=this.storage.getItem(j);!C&&this.localCache[j]===He||this.notifyListeners(j,He)},we=this.storage.getItem(j);!function Se(){return(0,de.w1)()&&10===document.documentMode}()||we===p.newValue||p.newValue===p.oldValue?J():setTimeout(J,10)}notifyListeners(p,C){this.localCache[p]=C;const j=this.listeners[p];if(j)for(const J of Array.from(j))J(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,C,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:C,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,C){var j=()=>super._set,J=this;return(0,ne.Z)(function*(){yield j().call(J,p,C),J.localCache[p]=JSON.stringify(C)})()}_get(p){var C=()=>super._get,j=this;return(0,ne.Z)(function*(){const J=yield C().call(j,p);return j.localCache[p]=JSON.stringify(J),J})()}_remove(p){var C=()=>super._remove,j=this;return(0,ne.Z)(function*(){yield C().call(j,p),delete j.localCache[p]})()}}return w.type="LOCAL",w})(),Tc=(()=>{class w extends $e{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,C){}_removeListener(p,C){}}return w.type="SESSION",w})();let sr=(()=>{class w{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const C=this.receivers.find(J=>J.isListeningto(p));if(C)return C;const j=new w(p);return this.receivers.push(j),j}isListeningto(p){return this.eventTarget===p}handleEvent(p){var C=this;return(0,ne.Z)(function*(){const j=p,{eventId:J,eventType:we,data:He}=j.data,Mt=C.handlersMap[we];if(!Mt?.size)return;j.ports[0].postMessage({status:"ack",eventId:J,eventType:we});const jt=Array.from(Mt).map(function(){var ur=(0,ne.Z)(function*(Bs){return Bs(j.origin,He)});return function(Bs){return ur.apply(this,arguments)}}()),hn=yield function lt(w){return Promise.all(w.map(function(){var h=(0,ne.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(C){return{fulfilled:!1,reason:C}}});return function(p){return h.apply(this,arguments)}}()))}(jt);j.ports[0].postMessage({status:"done",eventId:J,eventType:we,response:hn})})()}_subscribe(p,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(C)}_unsubscribe(p,C){this.handlersMap[p]&&C&&this.handlersMap[p].delete(C),(!C||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Cu(w="",h=10){let p="";for(let C=0;C<h;C++)p+=Math.floor(10*Math.random());return w+p}class zu{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,C=50){var j=this;return(0,ne.Z)(function*(){const J=typeof MessageChannel<"u"?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let we,He;return new Promise((Mt,jt)=>{const hn=Cu("",20);J.port1.start();const ur=setTimeout(()=>{jt(new Error("unsupported_event"))},C);He={messageChannel:J,onMessage(Bs){const ua=Bs;if(ua.data.eventId===hn)switch(ua.data.status){case"ack":clearTimeout(ur),we=setTimeout(()=>{jt(new Error("timeout"))},3e3);break;case"done":clearTimeout(we),Mt(ua.data.response);break;default:clearTimeout(ur),clearTimeout(we),jt(new Error("invalid_response"))}}},j.handlers.add(He),J.port1.addEventListener("message",He.onMessage),j.target.postMessage({eventType:h,eventId:hn,data:p},[J.port2])}).finally(()=>{He&&j.removeMessageHandler(He)})})()}}function xn(){return window}function Kt(){return typeof xn().WorkerGlobalScope<"u"&&"function"==typeof xn().importScripts}function Wi(){return(Wi=(0,ne.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const fa="firebaseLocalStorageDb",ns="firebaseLocalStorage",kr="fbase_key";class xt{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function io(w,h){return w.transaction([ns],h?"readwrite":"readonly").objectStore(ns)}function ea(){const w=indexedDB.open(fa,1);return new Promise((h,p)=>{w.addEventListener("error",()=>{p(w.error)}),w.addEventListener("upgradeneeded",()=>{const C=w.result;try{C.createObjectStore(ns,{keyPath:kr})}catch(j){p(j)}}),w.addEventListener("success",(0,ne.Z)(function*(){const C=w.result;C.objectStoreNames.contains(ns)?h(C):(C.close(),yield function so(){const w=indexedDB.deleteDatabase(fa);return new xt(w).toPromise()}(),h(yield ea()))}))})}function qu(w,h,p){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,ne.Z)(function*(w,h,p){const C=io(w,!0).put({[kr]:h,value:p});return new xt(C).toPromise()})).apply(this,arguments)}function No(){return(No=(0,ne.Z)(function*(w,h){const p=io(w,!1).get(h),C=yield new xt(p).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Ba(w,h){const p=io(w,!0).delete(h);return new xt(p).toPromise()}const $a=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,ne.Z)(function*(){return p.db||(p.db=yield ea()),p.db})()}_withRetries(p){var C=this;return(0,ne.Z)(function*(){let j=0;for(;;)try{const J=yield C._openDb();return yield p(J)}catch(J){if(j++>3)throw J;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,ne.Z)(function*(){return Kt()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,ne.Z)(function*(){p.receiver=sr._getInstance(function an(){return Kt()?self:null}()),p.receiver._subscribe("keyChanged",function(){var C=(0,ne.Z)(function*(j,J){return{keyProcessed:(yield p._poll()).includes(J.key)}});return function(j,J){return C.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var C=(0,ne.Z)(function*(j,J){return["keyChanged"]});return function(j,J){return C.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,ne.Z)(function*(){var C,j;if(p.activeServiceWorker=yield function Us(){return Wi.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new zu(p.activeServiceWorker);const J=yield p.sender._send("ping",{},800);J&&null!==(C=J[0])&&void 0!==C&&C.fulfilled&&null!==(j=J[0])&&void 0!==j&&j.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var C=this;return(0,ne.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function ii(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:p},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ne.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ea();return yield qu(p,Ct,"1"),yield Ba(p,Ct),!0}catch{}return!1})()}_withPendingWrite(p){var C=this;return(0,ne.Z)(function*(){C.pendingWrites++;try{yield p()}finally{C.pendingWrites--}})()}_set(p,C){var j=this;return(0,ne.Z)(function*(){return j._withPendingWrite((0,ne.Z)(function*(){return yield j._withRetries(J=>qu(J,p,C)),j.localCache[p]=C,j.notifyServiceWorker(p)}))})()}_get(p){var C=this;return(0,ne.Z)(function*(){const j=yield C._withRetries(J=>function yl(w,h){return No.apply(this,arguments)}(J,p));return C.localCache[p]=j,j})()}_remove(p){var C=this;return(0,ne.Z)(function*(){return C._withPendingWrite((0,ne.Z)(function*(){return yield C._withRetries(j=>Ba(j,p)),delete C.localCache[p],C.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,ne.Z)(function*(){const C=yield p._withRetries(we=>{const He=io(we,!1).getAll();return new xt(He).toPromise()});if(!C)return[];if(0!==p.pendingWrites)return[];const j=[],J=new Set;for(const{fbase_key:we,value:He}of C)J.add(we),JSON.stringify(p.localCache[we])!==JSON.stringify(He)&&(p.notifyListeners(we,He),j.push(we));for(const we of Object.keys(p.localCache))p.localCache[we]&&!J.has(we)&&(p.notifyListeners(we,null),j.push(we));return j})()}notifyListeners(p,C){this.localCache[p]=C;const j=this.listeners[p];if(j)for(const J of Array.from(j))J(C)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,ne.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();Yi("rcb"),new Ce(3e4,6e4);class bc extends ss{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return ln(h,this._buildIdpRequest())}_linkToIdToken(h,p){return ln(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return ln(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function _l(w){return B(w.auth,new bc(w),w.bypassAuthState)}function na(w){const{auth:h,user:p}=w;return yt(p,h,"internal-error"),function vo(w,h){return H.apply(this,arguments)}(p,new bc(w),w.bypassAuthState)}function wl(w){return md.apply(this,arguments)}function md(){return(md=(0,ne.Z)(function*(w){const{auth:h,user:p}=w;return yt(p,h,"internal-error"),function to(w,h){return Jo.apply(this,arguments)}(p,new bc(w),w.bypassAuthState)})).apply(this,arguments)}class El{constructor(h,p,C,j,J=!1){this.auth=h,this.resolver=C,this.user=j,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,ne.Z)(function*(C,j){h.pendingPromise={resolve:C,reject:j};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(J){h.reject(J)}});return function(C,j){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,ne.Z)(function*(){const{urlResponse:C,sessionId:j,postBody:J,tenantId:we,error:He,type:Mt}=h;if(He)return void p.reject(He);const jt={auth:p.auth,requestUri:C,sessionId:j,tenantId:we||void 0,postBody:J||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Mt)(jt))}catch(hn){p.reject(hn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return _l;case"linkViaPopup":case"linkViaRedirect":return wl;case"reauthViaPopup":case"reauthViaRedirect":return na;default:Xe(this.auth,"internal-error")}}resolve(h){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Ce(2e3,1e4);const Il="pendingRedirect",Gr=new Map;class yd extends El{constructor(h,p,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,ne.Z)(function*(){let C=Gr.get(p.auth._key());if(!C){try{const J=(yield function ra(w,h){return tu.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;C=()=>Promise.resolve(J)}catch(j){C=()=>Promise.reject(j)}Gr.set(p.auth._key(),C)}return p.bypassAuthState||Gr.set(p.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,C=this;return(0,ne.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(C,h);if("unknown"!==h.type){if(h.eventId){const j=yield C.auth._redirectUserForId(h.eventId);if(j)return C.user=j,p().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,ne.Z)(function*(){})()}cleanUp(){}}function tu(){return(tu=(0,ne.Z)(function*(w,h){const p=function Sa(w){return te(Il,w.config.apiKey,w.name)}(h),C=function Yu(w){return G(w._redirectPersistence)}(w);if(!(yield C._isAvailable()))return!1;const j="true"===(yield C._get(p));return yield C._remove(p),j})).apply(this,arguments)}function Ii(w,h){Gr.set(w._key(),h)}function Rc(w,h){return sa.apply(this,arguments)}function sa(){return(sa=(0,ne.Z)(function*(w,h,p=!1){const C=ye(w),j=function ko(w,h){return h?G(h):(yt(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}(C,h),we=yield new yd(C,j,p).execute();return we&&!p&&(delete we.user._redirectEventId,yield C._persistUserIfCurrent(we.user),yield C._setRedirectUser(null,h)),we})).apply(this,arguments)}class Ys{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(p=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function nu(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fo(w);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var C;if(h.error&&!Fo(h)){const j=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";p.onError(et(this.auth,j))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const C=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(To(h))}saveEventToCache(h){this.cachedEventUids.add(To(h)),this.lastProcessedEventTime=Date.now()}}function To(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(h=>h).join("-")}function Fo({type:w,error:h}){return"unknown"===w&&"auth/no-auth-event"===h?.code}function ru(){return(ru=(0,ne.Z)(function*(w,h={}){return Ut(w,"GET","/v1/projects",h)})).apply(this,arguments)}const iu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xa=/^https?/;function bu(){return bu=(0,ne.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:h}=yield function bo(w){return ru.apply(this,arguments)}(w);for(const p of h)try{if(Rh(p))return}catch{}Xe(w,"unauthorized-domain")}),bu.apply(this,arguments)}function Rh(w){const h=me(),{protocol:p,hostname:C}=new URL(h);if(w.startsWith("chrome-extension://")){const we=new URL(w);return""===we.hostname&&""===C?"chrome-extension:"===p&&w.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&we.hostname===C}if(!xa.test(p))return!1;if(iu.test(w))return C===w;const j=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(C)}const _d=new Ce(3e4,6e4);function Qu(){const w=xn().___jsl;if(w?.H)for(const h of Object.keys(w.H))if(w.H[h].r=w.H[h].r||[],w.H[h].L=w.H[h].L||[],w.H[h].r=[...w.H[h].L],w.CP)for(let p=0;p<w.CP.length;p++)w.CP[p]=null}let Su=null;const cs=new Ce(5e3,15e3),Ra="__/auth/iframe",su="emulator/auth/iframe",ki={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oi(w){const h=w.config;yt(h.authDomain,w,"auth-domain-config-required");const p=h.emulator?rt(h,su):`https://${w.config.authDomain}/${Ra}`,C={apiKey:h.apiKey,appName:w.name,v:ut.Jn},j=Lo.get(w.config.apiHost);j&&(C.eid=j);const J=w._getFrameworks();return J.length&&(C.fw=J.join(",")),`${p}?${(0,de.xO)(C).slice(1)}`}function Ga(){return Ga=(0,ne.Z)(function*(w){const h=yield function Nh(w){return Su=Su||function uo(w){return new Promise((h,p)=>{var C,j,J;function we(){Qu(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Qu(),p(et(w,"network-request-failed"))},timeout:_d.get()})}if(null!==(j=null===(C=xn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==j&&j.Iframe)h(gapi.iframes.getContext());else{if(null===(J=xn().gapi)||void 0===J||!J.load){const He=Yi("iframefcb");return xn()[He]=()=>{gapi.load?we():p(et(w,"network-request-failed"))},is(`https://apis.google.com/js/api.js?onload=${He}`).catch(Mt=>p(Mt))}we()}}).catch(h=>{throw Su=null,h})}(w),Su}(w),p=xn().gapi;return yt(p,w,"internal-error"),h.open({where:document.body,url:oi(w),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ki,dontclear:!0},C=>new Promise(function(){var j=(0,ne.Z)(function*(J,we){yield C.restyle({setHideOnLeave:!1});const He=et(w,"network-request-failed"),Mt=xn().setTimeout(()=>{we(He)},cs.get());function jt(){xn().clearTimeout(Mt),J(C)}C.ping(jt).then(jt,()=>{we(He)})});return function(J,we){return j.apply(this,arguments)}}()))}),Ga.apply(this,arguments)}const ou={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Y{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ze="__/auth/handler",Ft="emulator/auth/handler",Ot=encodeURIComponent("fac");function sn(w,h,p,C,j,J){return En.apply(this,arguments)}function En(){return(En=(0,ne.Z)(function*(w,h,p,C,j,J){yt(w.config.authDomain,w,"auth-domain-config-required"),yt(w.config.apiKey,w,"invalid-api-key");const we={apiKey:w.config.apiKey,appName:w.name,authType:p,redirectUrl:C,v:ut.Jn,eventId:j};if(h instanceof ti){h.setDefaultLanguage(w.languageCode),we.providerId=h.providerId||"",(0,de.xb)(h.getCustomParameters())||(we.customParameters=JSON.stringify(h.getCustomParameters()));for(const[hn,ur]of Object.entries(J||{}))we[hn]=ur}if(h instanceof Si){const hn=h.getScopes().filter(ur=>""!==ur);hn.length>0&&(we.scopes=hn.join(","))}w.tenantId&&(we.tid=w.tenantId);const He=we;for(const hn of Object.keys(He))void 0===He[hn]&&delete He[hn];const Mt=yield w._getAppCheckToken(),jt=Mt?`#${Ot}=${encodeURIComponent(Mt)}`:"";return`${function Rn({config:w}){return w.emulator?rt(w,Ft):`https://${w.authDomain}/${ze}`}(w)}?${(0,de.xO)(He).slice(1)}${jt}`})).apply(this,arguments)}const co="webStorageSupport",uu=class Cs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tc,this._completeRedirectFn=Rc,this._overrideRedirectResult=Ii}_openPopup(h,p,C,j){var J=this;return(0,ne.Z)(function*(){var we;Ne(null===(we=J.eventManagers[h._key()])||void 0===we?void 0:we.manager,"_initialize() not called before _openPopup()");const He=yield sn(h,p,C,me(),j);return function pe(w,h,p,C=500,j=600){const J=Math.max((window.screen.availHeight-j)/2,0).toString(),we=Math.max((window.screen.availWidth-C)/2,0).toString();let He="";const Mt=Object.assign(Object.assign({},ou),{width:C.toString(),height:j.toString(),top:J,left:we}),jt=(0,de.z$)().toLowerCase();p&&(He=un(jt)?"_blank":p),bt(jt)&&(h=h||"http://localhost",Mt.scrollbars="yes");const hn=Object.entries(Mt).reduce((Bs,[ua,fu])=>`${Bs}${ua}=${fu},`,"");if(function Ve(w=(0,de.z$)()){var h;return di(w)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(jt)&&"_self"!==He)return function Ie(w,h){const p=document.createElement("a");p.href=w,p.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}(h||"",He),new Y(null);const ur=window.open(h||"",He,hn);yt(ur,w,"popup-blocked");try{ur.focus()}catch{}return new Y(ur)}(h,He,Cu())})()}_openRedirect(h,p,C,j){var J=this;return(0,ne.Z)(function*(){return yield J._originValidation(h),function Ua(w){xn().location.href=w}(yield sn(h,p,C,me(),j)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:j,promise:J}=this.eventManagers[p];return j?Promise.resolve(j):(Ne(J,"If manager is not set, promise should be"),J)}const C=this.initAndGetManager(h);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}initAndGetManager(h){var p=this;return(0,ne.Z)(function*(){const C=yield function ma(w){return Ga.apply(this,arguments)}(h),j=new Ys(h);return C.register("authEvent",J=>(yt(J?.authEvent,h,"invalid-auth-event"),{status:j.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:j},p.iframes[h._key()]=C,j})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(co,{type:co},j=>{var J;const we=null===(J=j?.[0])||void 0===J?void 0:J[co];void 0!==we&&p(!!we),Xe(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function vd(w){return bu.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return nt()||Bt()||di()}};var Na="@firebase/auth";class Nc{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,ne.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(C=>{h(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Zo=(0,de.Pz)("authIdTokenMaxAge")||300;let wd=null;const Oc=w=>function(){var h=(0,ne.Z)(function*(p){const C=p&&(yield p.getIdTokenResult()),j=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(j&&j>Zo)return;const J=C?.token;wd!==J&&(wd=J,yield fetch(w,{method:J?"POST":"DELETE",headers:J?{Authorization:`Bearer ${J}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function Ed(w=(0,ut.Mq)()){const h=(0,ut.qX)(w,"auth");if(h.isInitialized())return h.getImmediate();const p=function Ae(w,h){const p=(0,ut.qX)(w,"auth");if(p.isInitialized()){const j=p.getImmediate(),J=p.getOptions();if((0,de.vZ)(J,h??{}))return j;Xe(j,"already-initialized")}return p.initialize({options:h})}(w,{popupRedirectResolver:uu,persistence:[$a,Gu,Tc]}),C=(0,de.Pz)("authTokenSyncURL");if(C){const J=Oc(C);(function dr(w,h,p){(0,de.m9)(w).beforeAuthStateChanged(h,p)})(p,J,()=>J(p.currentUser)),function Dn(w,h,p,C){(0,de.m9)(w).onIdTokenChanged(h,p,C)}(p,we=>J(we))}const j=(0,de.q4)("auth");return j&&function wt(w,h,p){const C=ye(w);yt(C._canInitEmulator,C,"emulator-config-failed"),yt(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const j=!!p?.disableWarnings,J=Ht(h),{host:we,port:He}=function $n(w){const h=Ht(w),p=/(\/\/)?([^?#/]+)/.exec(w.substr(h.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(C);if(j){const J=j[1];return{host:J,port:wn(C.substr(J.length+1))}}{const[J,we]=C.split(":");return{host:J,port:wn(we)}}}(h);C.config.emulator={url:`${J}//${we}${null===He?"":`:${He}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:we,port:He,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function vn(){function w(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(p,`http://${j}`),p}!function Ph(w){(0,ut.Xd)(new oe.wA("auth",(h,{options:p})=>{const C=h.getProvider("app").getImmediate(),j=h.getProvider("heartbeat"),J=h.getProvider("app-check-internal"),{apiKey:we,authDomain:He}=C.options;yt(we&&!we.includes(":"),"invalid-api-key",{appName:C.name});const Mt={apiKey:we,authDomain:He,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wt(w)},jt=new Bo(C,j,J,Mt);return function Ye(w,h){const p=h?.persistence||[],C=(Array.isArray(p)?p:[p]).map(G);h?.errorMap&&w._updateErrorMap(h.errorMap),w._initializeWithPersistence(C,h?.popupRedirectResolver)}(jt,p),jt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,C)=>{h.getProvider("auth-internal").initialize()})),(0,ut.Xd)(new oe.wA("auth-internal",h=>{const p=ye(h.getProvider("auth").getImmediate());return new Nc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ut.KN)(Na,"0.23.2",function Cl(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,ut.KN)(Na,"0.23.2","esm2017")}("Browser");class Ju{constructor(h){return h}}class bl{constructor(){return(0,y.vb)("auth")}}const Qs=new ce.OlP("angularfire2.auth-instances");function Pc(w){return(h,p)=>{const C=h.runOutsideAngular(()=>w(p));return new Ju(C)}}const kc={provide:bl,deps:[[new ce.FiY,Qs]]},Id={provide:Ju,useFactory:function ec(w,h){const p=(0,y.JM)("auth",w,h);return p&&new Ju(p)},deps:[[new ce.FiY,Qs],U.Ot]};let kh=(()=>{class w{constructor(){(0,Me.KN)("angularfire",y.q4.full,"auth")}}return w.\u0275fac=function(p){return new(p||w)},w.\u0275mod=ce.oAB({type:w}),w.\u0275inj=ce.cJS({providers:[Id,kc]}),w})();function tc(w,...h){return{ngModule:kh,providers:[{provide:Qs,useFactory:Pc(w),multi:!0,deps:[ce.R0b,ce.zs3,y.HU,U.z6,[new ce.FiY,fe.nm],...h]}]}}const fp=(0,y.u3)(Ei,!0),pp=(0,y.u3)(Ed,!0),Uc=(0,y.u3)(zi,!0),Za=(0,y.u3)(jr,!0)},4102:(fn,at,ee)=>{ee.d(at,{gg:()=>Th,ET:()=>Q_,hJ:()=>J_,BS:()=>Y_,JU:()=>X_,QT:()=>iv,PL:()=>sv,ad:()=>l0,Xo:()=>Tn,Cm:()=>rv,IO:()=>f0,pl:()=>sp,r7:()=>m0});var Ee,y=ee(3530),ce=ee(1902),U=ee(2309),Me=ee(3692),fe=ee(259),ne=ee(2313),de=ee(5861),ut=ee(6881),Fe=ee(4859),ue=ee(1877),oe=ee(2090),Re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},je={},It=It||{},st=Re||self;function ht(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Qt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Fn="closure_uid_"+(1e9*Math.random()>>>0),qe=0;function ot(i,e,t){return i.call.apply(i.bind,arguments)}function Ge(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Je(i,e,t){return(Je=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ot:Ge).apply(null,arguments)}function _t(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Xe(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(s,u,l){for(var f=Array(arguments.length-2),D=2;D<arguments.length;D++)f[D-2]=arguments[D];return e.prototype[u].apply(s,f)}}function et(){this.s=this.s,this.o=this.o}et.prototype.s=!1,et.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Pn(i){Object.prototype.hasOwnProperty.call(i,Fn)&&i[Fn]||(i[Fn]=++qe)}(this)},et.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ln=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function yr(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function yt(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ht(s)){const u=i.length||0,l=s.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=s[f]}else i.push(s)}}function ft(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!st.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{st.addEventListener("test",()=>{},e),st.removeEventListener("test",()=>{},e)}catch{}return i}();function me(i){return/^[\s\xa0]*$/.test(i)}function Oe(){var i=st.navigator;return i&&(i=i.userAgent)?i:""}function We(i){return-1!=Oe().indexOf(i)}function vt(i){return vt[" "](i),i}vt[" "]=function(){};var mn,i,Ce=We("Opera"),rt=We("Trident")||We("MSIE"),tt=We("Edge"),Le=tt||rt,Vt=We("Gecko")&&!(-1!=Oe().toLowerCase().indexOf("webkit")&&!We("Edge"))&&!(We("Trident")||We("MSIE"))&&!We("Edge"),At=-1!=Oe().toLowerCase().indexOf("webkit")&&!We("Edge");function Ut(){var i=st.document;return i?i.documentMode:void 0}e:{var pr="",vr=(i=Oe(),Vt?/rv:([^\);]+)(\)|;)/.exec(i):tt?/Edge\/([\d\.]+)/.exec(i):rt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):At?/WebKit\/(\S+)/.exec(i):Ce?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(vr&&(pr=vr?vr[1]:""),rt){var Hn=Ut();if(null!=Hn&&Hn>parseFloat(pr)){mn=String(Hn);break e}}mn=pr}var _r=st.document&&rt&&(Ut()||parseInt(mn,10))||void 0;function Zn(i,e){if(ft.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Vt){e:{try{vt(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Rt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Zn.$.h.call(this)}}Xe(Zn,ft);var Rt={2:"touch",3:"pen",4:"mouse"};Zn.prototype.h=function(){Zn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var In="closure_listenable_"+(1e6*Math.random()|0),Yr=0;function Vr(i,e,t,s,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=u,this.key=++Yr,this.fa=this.ia=!1}function Sn(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Gn(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function Yt(i){const e={};for(const t in i)e[t]=i[t];return e}const Sr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yn(i,e){let t,s;for(let u=1;u<arguments.length;u++){for(t in s=arguments[u],s)i[t]=s[t];for(let l=0;l<Sr.length;l++)t=Sr[l],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function qr(i){this.src=i,this.g={},this.h=0}function Vn(i,e){var t=e.type;if(t in i.g){var l,s=i.g[t],u=Ln(s,e);(l=0<=u)&&Array.prototype.splice.call(s,u,1),l&&(Sn(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Qn(i,e,t,s){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!t&&l.la==s)return u}return-1}qr.prototype.add=function(i,e,t,s,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=Qn(i,e,s,u);return-1<f?(e=i[f],t||(e.ia=!1)):((e=new Vr(e,this.src,l,!!s,u)).ia=t,i.push(e)),e};var Wr="closure_lm_"+(1e6*Math.random()|0),Un={};function $i(i,e,t,s,u){if(s&&s.once)return ui(i,e,t,s,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)$i(i,e[l],t,s,u);return null}return t=Nr(t),i&&i[In]?i.O(e,t,Qt(s)?!!s.capture:!!s,u):Dt(i,e,t,!1,s,u)}function Dt(i,e,t,s,u,l){if(!e)throw Error("Invalid event type");var f=Qt(u)?!!u.capture:!!u,D=Kr(i);if(D||(i[Wr]=D=new qr(i)),(t=D.add(e,t,s,f,l)).proxy)return t;if(s=function yi(){const e=Jn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)Ne||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),s,u);else if(i.attachEvent)i.attachEvent(wr(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function ui(i,e,t,s,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)ui(i,e[l],t,s,u);return null}return t=Nr(t),i&&i[In]?i.P(e,t,Qt(s)?!!s.capture:!!s,u):Dt(i,e,t,!0,s,u)}function cr(i,e,t,s,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)cr(i,e[l],t,s,u);else s=Qt(s)?!!s.capture:!!s,t=Nr(t),i&&i[In]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Qn(l=i.g[e],t,s,u))&&(Sn(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=Kr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Qn(e,t,s,u)),(t=-1<i?e[i]:null)&&gn(t))}function gn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[In])Vn(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(wr(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Kr(e))?(Vn(t,i),0==t.h&&(t.src=null,e[Wr]=null)):Sn(i)}}}function wr(i){return i in Un?Un[i]:Un[i]="on"+i}function Jn(i,e){if(i.fa)i=!0;else{e=new Zn(e,this);var t=i.listener,s=i.la||i.src;i.ia&&gn(i),i=t.call(s,e)}return i}function Kr(i){return(i=i[Wr])instanceof qr?i:null}var Di="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nr(i){return"function"==typeof i?i:(i[Di]||(i[Di]=function(e){return i.handleEvent(e)}),i[Di])}function An(){et.call(this),this.i=new qr(this),this.S=this,this.J=null}function rn(i,e){var t,s=i.J;if(s)for(t=[];s;s=s.J)t.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new ft(e,i);else if(e instanceof ft)e.target=e.target||i;else{var u=e;Yn(e=new ft(s,i),u)}if(u=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];u=Bn(f,s,!0,e)&&u}if(u=Bn(f=e.g=i,s,!0,e)&&u,u=Bn(f,s,!1,e)&&u,t)for(l=0;l<t.length;l++)u=Bn(f=e.g=t[l],s,!1,e)&&u}function Bn(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==t){var D=f.listener,O=f.la||f.src;f.ia&&Vn(i.i,f),u=!1!==D.call(O,s)&&u}}return u&&!s.defaultPrevented}Xe(An,et),An.prototype[In]=!0,An.prototype.removeEventListener=function(i,e,t,s){cr(this,i,e,t,s)},An.prototype.N=function(){if(An.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)Sn(t[s]);delete i.g[e],i.h--}}this.J=null},An.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},An.prototype.P=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var he=st.JSON.stringify;function q(){var i=nn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var te=new class G{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Te,i=>i.reset());class Te{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Qe(i){var e=1;i=i.split(":");const t=[];for(;0<e&&i.length;)t.push(i.shift()),e--;return i.length&&t.push(i.join(":")),t}function bt(i){st.setTimeout(()=>{throw i},0)}let Bt,un=!1,nn=new class K{constructor(){this.h=this.g=null}add(e,t){const s=te.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},Jt=()=>{const i=st.Promise.resolve(void 0);Bt=()=>{i.then(kn)}};var kn=()=>{for(var i;i=q();){try{i.h.call(i.g)}catch(t){bt(t)}var e=te;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}un=!1};function lr(i,e){An.call(this),this.h=i||1,this.g=e||st,this.j=Je(this.qb,this),this.l=Date.now()}function di(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function ji(i,e,t){if("function"==typeof i)t&&(i=Je(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Je(i.handleEvent,i)}return 2147483647<Number(e)?-1:st.setTimeout(i,e||0)}function Ve(i){i.g=ji(()=>{i.g=null,i.i&&(i.i=!1,Ve(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Xe(lr,An),(Ee=lr.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rn(this,"tick"),this.ga&&(di(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){lr.$.N.call(this),di(this),delete this.g};class Se extends et{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ve(this)}N(){super.N(),this.g&&(st.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nt(i){et.call(this),this.h=i,this.g={}}Xe(nt,et);var $t=[];function Wt(i,e,t,s){Array.isArray(t)||(t&&($t[0]=t.toString()),t=$t);for(var u=0;u<t.length;u++){var l=$i(e,t[u],s||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function Nt(i){Gn(i.g,function(e,t){this.g.hasOwnProperty(t)&&gn(e)},i),i.g={}}function pn(){this.g=!0}function Qr(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ci(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return he(t)}catch{return e}}(i,t)+(s?" "+s:"")})}nt.prototype.N=function(){nt.$.N.call(this),Nt(this)},nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pn.prototype.Ea=function(){this.g=!1},pn.prototype.info=function(){};var Hi={},is=null;function Yi(){return is=is||new An}function Gs(i){ft.call(this,Hi.Ta,i)}function ps(i){const e=Yi();rn(e,new Gs(e))}function Qi(i,e){ft.call(this,Hi.STAT_EVENT,i),this.stat=e}function Xn(i){const e=Yi();rn(e,new Qi(e,i))}function Ji(i,e){ft.call(this,Hi.Ua,i),this.size=e}function Li(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return st.setTimeout(function(){i()},e)}Hi.Ta="serverreachability",Xe(Gs,ft),Hi.STAT_EVENT="statevent",Xe(Qi,ft),Hi.Ua="timingevent",Xe(Ji,ft);var Vi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Bo={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ye(){}function Ae(){}ye.prototype.h=null;var $n,Ye={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wt(){ft.call(this,"d")}function Ht(){ft.call(this,"c")}function wn(){}function vn(i,e,t,s){this.l=i,this.j=e,this.m=t,this.W=s||1,this.U=new nt(this),this.P=vi,this.V=new lr(i=Le?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ss}function ss(){this.i=null,this.g="",this.h=!1}Xe(wt,ft),Xe(Ht,ft),Xe(wn,ye),wn.prototype.g=function(){return new XMLHttpRequest},wn.prototype.i=function(){return{}},$n=new wn;var vi=45e3,Ci={},hi={};function po(i,e,t){i.L=1,i.v=bi(Ti(e)),i.s=t,i.S=!0,$o(i,null)}function $o(i,e){i.G=Date.now(),Xi(i),i.A=Ti(i.v);var t=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),ms(t.i,"t",s),i.C=0,t=i.l.J,i.h=new ss,i.g=_o(i.l,t?e:null,!i.s),0<i.O&&(i.M=new Se(Je(i.Pa,i,i.g),i.O)),Wt(i.U,i.g,"readystatechange",i.nb),e=i.I?Yt(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),ps(),function Or(i,e,t,s,u,l){i.info(function(){if(i.g)if(l)for(var f="",D=l.split("&"),O=0;O<D.length;O++){var L=D[O].split("=");if(1<L.length){var Q=L[0];L=L[1];var le=Q.split("_");f=2<=le.length&&"type"==le[1]?f+(Q+"=")+L+"&":f+(Q+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+t+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function go(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function ls(i,e,t){let u,s=!0;for(;!i.J&&i.C<t.length;){if(u=mo(i,t),u==hi){4==e&&(i.o=4,Xn(14),s=!1),Qr(i.j,i.m,null,"[Incomplete Response]");break}if(u==Ci){i.o=4,Xn(15),Qr(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}Qr(i.j,i.m,u,null),fi(i,u)}go(i)&&u!=hi&&u!=Ci&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Xn(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ni(e),e.M=!0,Xn(11))):(Qr(i.j,i.m,t,"[Invalid Chunked Response]"),Ar(i),bn(i))}function mo(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?hi:(t=Number(e.substring(t,s)),isNaN(t)?Ci:(s+=1)+t>e.length?hi:(e=e.slice(s,s+t),i.C=s+t,e))}function Xi(i){i.Y=Date.now()+i.P,Ao(i,i.P)}function Ao(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Li(Je(i.lb,i),e)}function zs(i){i.B&&(st.clearTimeout(i.B),i.B=null)}function bn(i){0==i.l.H||i.J||Xo(i.l,i)}function Ar(i){zs(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,di(i.V),Nt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function fi(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||On(t.i,i)))if(!i.K&&On(t.i,i)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;es(t),yn(t)}wi(t),Xn(18)}}else t.Fa=u[1],0<t.Fa-t.V&&37500>u[2]&&t.G&&0==t.A&&!t.v&&(t.v=Li(Je(t.ib,t),6e3));if(1>=os(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ni(t,11)}else if((i.K||t.g==i)&&es(t),!me(e))for(u=t.Ja.g.parse(e),e=0;e<u.length;e++){let L=u[e];if(t.V=L[0],L=L[1],2==t.H)if("c"==L[0]){t.K=L[1],t.pa=L[2];const Q=L[3];null!=Q&&(t.ra=Q,t.l.info("VER="+t.ra));const le=L[4];null!=le&&(t.Ga=le,t.l.info("SVER="+t.Ga));const ke=L[5];null!=ke&&"number"==typeof ke&&0<ke&&(t.L=s=1.5*ke,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const Ze=i.g;if(Ze){const Tt=Ze.g?Ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tt){var l=s.i;l.g||-1==Tt.indexOf("spdy")&&-1==Tt.indexOf("quic")&&-1==Tt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Qo(l,l.h),l.h=null))}if(s.F){const qt=Ze.g?Ze.g.getResponseHeader("X-HTTP-Session-Id"):null;qt&&(s.Da=qt,tn(s.I,s.F,qt))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-i.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=i;if((s=t).wa=Ei(s,s.J?s.pa:null,s.Y),f.K){xo(s.i,f);var D=f,O=s.L;O&&D.setTimeout(O),D.B&&(zs(D),Xi(D)),s.g=f}else $r(s);0<t.j.length&&rr(t)}else"stop"!=L[0]&&"close"!=L[0]||Ni(t,7);else 3==t.H&&("stop"==L[0]||"close"==L[0]?"stop"==L[0]?Ni(t,7):pt(t):"noop"!=L[0]&&t.h&&t.h.Aa(L),t.A=0)}ps()}catch{}}function jo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ht(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Xr(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ht(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function ds(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ht(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),u=s.length,l=0;l<u;l++)e.call(void 0,s[l],t&&t[l],i)}(Ee=vn.prototype).setTimeout=function(i){this.P=i},Ee.nb=function(i){i=i.target;const e=this.M;e&&3==se(i)?e.l():this.Pa(i)},Ee.Pa=function(i){try{if(i==this.g)e:{const Q=se(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Q)&&(3!=Q||Le||this.g&&(this.h.h||this.g.ja()||be(this.g)))){this.J||4!=Q||7==e||ps(),zs(this);var t=this.g.da();this.ca=t;t:if(go(this)){var s=be(this.g);i="";var u=s.length,l=4==se(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ar(this),bn(this);var f="";break t}this.h.i=new st.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:l&&e==u-1});s.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function Er(i,e,t,s,u,l,f){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,Q,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,O=this.g;if((D=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!me(D)){var L=D;break t}}L=null}if(!(t=L)){this.i=!1,this.o=3,Xn(12),Ar(this),bn(this);break e}Qr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fi(this,t)}this.S?(ls(this,Q,f),Le&&this.i&&3==Q&&(Wt(this.U,this.V,"tick",this.mb),this.V.start())):(Qr(this.j,this.m,f,null),fi(this,f)),4==Q&&Ar(this),this.i&&!this.J&&(4==Q?Xo(this.l,this):(this.i=!1,Xi(this)))}else(function x(i){const e={};i=(i.g&&2<=se(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(me(i[s]))continue;var t=Qe(i[s]);const u=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const l=e[u]||[];e[u]=l,l.push(t)}!function Pt(i,e){for(const t in i)e.call(void 0,i[t],t,i)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Xn(12)):(this.o=0,Xn(13)),Ar(this),bn(this)}}}catch{}},Ee.mb=function(){if(this.g){var i=se(this.g),e=this.g.ja();this.C<e.length&&(zs(this),ls(this,i,e),this.i&&4!=i&&Xi(this))}},Ee.cancel=function(){this.J=!0,Ar(this)},Ee.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Jr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ps(),Xn(17)),Ar(this),this.o=2,bn(this)):Ao(this,this.Y-i)};var As=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ur(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ur){this.h=i.h,Ir(this,i.j),this.s=i.s,this.g=i.g,St(this,i.m),this.l=i.l;var e=i.i,t=new Xs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ln(this,t),this.o=i.o}else i&&(e=String(i).match(As))?(this.h=!1,Ir(this,e[1]||"",!0),this.s=xi(e[2]||""),this.g=xi(e[3]||"",!0),St(this,e[4]),this.l=xi(e[5]||"",!0),ln(this,e[6]||"",!0),this.o=xi(e[7]||"")):(this.h=!1,this.i=new Xs(null,this.h))}function Ti(i){return new Ur(i)}function Ir(i,e,t){i.j=t?xi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function St(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ln(i,e,t){e instanceof Xs?(i.i=e,function Rs(i,e){e&&!i.j&&(_i(i),i.i=null,i.g.forEach(function(t,s){var u=s.toLowerCase();s!=u&&(Dr(this,s),ms(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Br(e,cn)),i.i=new Xs(e,i.h))}function tn(i,e,t){i.i.set(e,t)}function bi(i){return tn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function xi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Br(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Ms),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ms(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ur.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Br(e,mr,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Br(e,mr,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Br(t,"/"==t.charAt(0)?Gi:xs,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Br(t,gs)),i.join("")};var mr=/[#\/\?@]/g,xs=/[#\?:]/g,Gi=/[#\?]/g,cn=/[#\?@]/g,gs=/#/g;function Xs(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function _i(i){i.g||(i.g=new Map,i.h=0,i.i&&function qs(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),u=null;if(0<=s){var l=i[t].substring(0,s);u=i[t].substring(s+1)}else l=i[t];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Dr(i,e){_i(i),e=ei(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Mo(i,e){return _i(i),e=ei(i,e),i.g.has(e)}function ms(i,e,t){Dr(i,e),0<t.length&&(i.i=null,i.g.set(ei(i,e),yr(t)),i.h+=t.length)}function ei(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function ti(i){this.l=i||Si,i=st.PerformanceNavigationTiming?0<(i=st.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(st.g&&st.g.Ka&&st.g.Ka()&&st.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=Xs.prototype).add=function(i,e){_i(this),this.i=null,i=ei(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Ee.forEach=function(i,e){_i(this),this.g.forEach(function(t,s){t.forEach(function(u){i.call(e,u,s,this)},this)},this)},Ee.ta=function(){_i(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const u=i[s];for(let l=0;l<u.length;l++)t.push(e[s])}return t},Ee.Z=function(i){_i(this);let e=[];if("string"==typeof i)Mo(this,i)&&(e=e.concat(this.g.get(ei(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},Ee.set=function(i,e){return _i(this),this.i=null,Mo(this,i=ei(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ee.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const l=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var u=l;""!==f[s]&&(u+="="+encodeURIComponent(String(f[s]))),i.push(u)}}return this.i=i.join("&")};var Si=10;function Ns(i){return!!i.h||!!i.g&&i.g.size>=i.j}function os(i){return i.h?1:i.g?i.g.size:0}function On(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Qo(i,e){i.g?i.g.add(e):i.h=e}function xo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Os(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return yr(i.i)}ti.prototype.cancel=function(){if(this.i=Os(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Ri=class{stringify(i){return st.JSON.stringify(i,void 0)}parse(i){return st.JSON.parse(i,void 0)}};function Ps(){this.g=new Ri}function vs(i,e,t){const s=t||"";try{jo(i,function(u,l){let f=u;Qt(u)&&(f=he(u)),e.push(s+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function Zr(i,e,t,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch{}}function Ai(i){this.l=i.fc||null,this.j=i.ob||!1}function pi(i,e){An.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Mr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xe(Ai,ye),Ai.prototype.g=function(){return new pi(this.l,this.j)},Ai.prototype.i=function(i){return function(){return i}}({}),Xe(pi,An);var Mr=0;function eo(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Cr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ks(i)}function ks(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ee=pi.prototype).open=function(i,e){if(this.readyState!=Mr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ks(this)},Ee.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||st).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cr(this)),this.readyState=Mr},Ee.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ks(this)),this.g&&(this.readyState=3,ks(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof st.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eo(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Cr(this):ks(this),3==this.readyState&&eo(this)}},Ee.Za=function(i){this.g&&(this.response=this.responseText=i,Cr(this))},Ee.Ya=function(i){this.g&&(this.response=i,Cr(this))},Ee.ka=function(){this.g&&Cr(this)},Ee.setRequestHeader=function(i,e){this.v.append(i,e)},Ee.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var as=st.JSON.parse;function Pr(i){An.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yo,this.L=this.M=!1}Xe(Pr,An);var yo="",to=/^https?$/i,Jo=["POST","PUT"];function Fs(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,vo(i),B(i)}function vo(i){i.F||(i.F=!0,rn(i,"complete"),rn(i,"error"))}function H(i){if(i.h&&typeof It<"u"&&(!i.C[1]||4!=se(i)||2!=i.da()))if(i.v&&4==se(i))ji(i.La,0,i);else if(rn(i,"readystatechange"),4==se(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===f){var u=String(i.I).match(As)[1]||null;!u&&st.self&&st.self.location&&(u=st.self.location.protocol.slice(0,-1)),s=!to.test(u?u.toLowerCase():"")}t=s}if(t)rn(i,"complete"),rn(i,"success");else{i.m=6;try{var l=2<se(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",vo(i)}}finally{B(i)}}}function B(i,e){if(i.g){ie(i);const t=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||rn(i,"ready");try{t.onreadystatechange=s}catch{}}}function ie(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(st.clearTimeout(i.A),i.A=null)}function se(i){return i.g?i.g.readyState:0}function be(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case yo:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function R(i){let e="";return Gn(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function T(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=R(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):tn(i,e,t))}function $(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function De(i){this.Ga=0,this.j=[],this.l=new pn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$("baseRetryDelayMs",5e3,i),this.hb=$("retryDelaySeedMs",1e4,i),this.eb=$("forwardChannelMaxRetries",2,i),this.xa=$("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new ti(i&&i.concurrentRequestLimit),this.Ja=new Ps,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function pt(i){if(zn(i),3==i.H){var e=i.W++,t=Ti(i.I);if(tn(t,"SID",i.K),tn(t,"RID",e),tn(t,"TYPE","terminate"),tr(i,t),(e=new vn(i,i.l,e)).L=2,e.v=bi(Ti(t)),t=!1,st.navigator&&st.navigator.sendBeacon)try{t=st.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&st.Image&&((new Image).src=e.v,t=!0),t||(e.g=_o(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xi(e)}_s(i)}function yn(i){i.g&&(ni(i),i.g.cancel(),i.g=null)}function zn(i){yn(i),i.u&&(st.clearTimeout(i.u),i.u=null),es(i),i.i.cancel(),i.m&&("number"==typeof i.m&&st.clearTimeout(i.m),i.m=null)}function rr(i){if(!Ns(i.i)&&!i.m){i.m=!0;var e=i.Na;Bt||Jt(),un||(Bt(),un=!0),nn.add(e,i),i.C=0}}function Rr(i,e){var t;t=e?e.m:i.W++;const s=Ti(i.I);tn(s,"SID",i.K),tn(s,"RID",t),tn(s,"AID",i.V),tr(i,s),i.o&&i.s&&T(s,i.o,i.s),t=new vn(i,i.l,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.j=e.F.concat(i.j)),e=hs(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Qo(i.i,t),po(t,s,e)}function tr(i,e){i.na&&Gn(i.na,function(t,s){tn(e,s,t)}),i.h&&jo({},function(t,s){tn(e,s,t)})}function hs(i,e,t){t=Math.min(i.j.length,t);var s=i.h?Je(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let D=!0;for(let O=0;O<t;O++){let L=u[O].g;const Q=u[O].map;if(L-=l,0>L)l=Math.max(0,u[O].g-100),D=!1;else try{vs(Q,f,"req"+L+"_")}catch{s&&s(Q)}}if(D){s=f.join("&");break e}}}return i=i.j.splice(0,t),e.F=i,s}function $r(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Bt||Jt(),un||(Bt(),un=!0),nn.add(e,i),i.A=0}}function wi(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Li(Je(i.Ma,i),Ls(i,i.A)),i.A++,0))}function ni(i){null!=i.B&&(st.clearTimeout(i.B),i.B=null)}function no(i){i.g=new vn(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Ti(i.wa);tn(e,"RID","rpc"),tn(e,"SID",i.K),tn(e,"AID",i.V),tn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&tn(e,"TO",i.qa),tn(e,"TYPE","xmlhttp"),tr(i,e),i.o&&i.s&&T(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var t=i.g;i=i.pa,t.L=1,t.v=bi(Ti(e)),t.s=null,t.S=!0,$o(t,i)}function es(i){null!=i.v&&(st.clearTimeout(i.v),i.v=null)}function Xo(i,e){var t=null;if(i.g==e){es(i),ni(i),i.g=null;var s=2}else{if(!On(i.i,e))return;t=e.F,xo(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;rn(s=Yi(),new Ji(s,t)),rr(i)}else $r(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==s&&function er(i,e){return!(os(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Li(Je(i.Na,i,e),Ls(i,i.C)),i.C++,0)))}(i,e)||2==s&&wi(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),u){case 1:Ni(i,5);break;case 4:Ni(i,10);break;case 3:Ni(i,6);break;default:Ni(i,2)}}function Ls(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(t*=2),t*e}function Ni(i,e){if(i.l.info("Error code "+e),2==e){var t=null;i.h&&(t=null);var s=Je(i.pb,i);t||(t=new Ur("//www.google.com/images/cleardot.gif"),st.location&&"http"==st.location.protocol||Ir(t,"https"),bi(t)),function Ws(i,e){const t=new pn;if(st.Image){const s=new Image;s.onload=_t(Zr,t,s,"TestLoadImage: loaded",!0,e),s.onerror=_t(Zr,t,s,"TestLoadImage: error",!1,e),s.onabort=_t(Zr,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=_t(Zr,t,s,"TestLoadImage: timeout",!1,e),st.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else Xn(2);i.H=0,i.h&&i.h.za(e),_s(i),zn(i)}function _s(i){if(i.H=0,i.ma=[],i.h){const e=Os(i.i);(0!=e.length||0!=i.j.length)&&(yt(i.ma,e),yt(i.ma,i.j),i.i.i.length=0,yr(i.j),i.j.length=0),i.h.ya()}}function Ei(i,e,t){var s=t instanceof Ur?Ti(t):new Ur(t);if(""!=s.g)e&&(s.g=e+"."+s.g),St(s,s.m);else{var u=st.location;s=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new Ur(null);s&&Ir(l,s),e&&(l.g=e),u&&St(l,u),t&&(l.l=t),s=l}return e=i.Da,(t=i.F)&&e&&tn(s,t,e),tn(s,"VER",i.ra),tr(i,s),s}function _o(i,e,t){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pr(t&&i.Ha&&!i.va?new Ai({ob:!0}):i.va)).Oa(i.J),e}function zi(){}function _a(){if(rt&&!(10<=Number(_r)))throw Error("Environmental error: no available transport.")}function Ui(i,e){An.call(this),this.g=new De(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!me(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!me(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ho(this)}function Va(i){wt.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function wa(){Ht.call(this),this.status=1}function Ho(i){this.g=i}function qi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ea(i,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)s[u]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(u=0;16>u;++u)s[u]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(t=i.g[1])&((u=i.g[2])^l))+s[0]+3614090360&4294967295;f=(t=(u=(l=(e=(t=(u=(l=(e=(t=(u=(l=(e=(t=(u=(l=(e=(t=(u=(l=(e=(t=(u=(l=(e=(t=(u=(l=(e=(t=(u=(l=(e=(t=(u=(l=(e=(t=(u=(l=(e=(t=(u=(l=(e=(t=(u=(l=(e=(t=(u=(l=(e=(t=(u=(l=(e=(t=(u=(l=(e=t+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(t^u))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(t^l&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^u&(l^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(u^l))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(t^u))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(t^l&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^u&(l^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(u^l))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(t^u))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(t^l&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^u&(l^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(u^l))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(t^u))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(t^l&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^u&(l^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(t^u))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^u&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^t&(l^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(u^l))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(t^u))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^u&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^t&(l^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(u^l))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(t^u))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^u&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^t&(l^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(u^l))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(t^u))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^u&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^t&(l^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(u^l))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^u^l)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^u)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(u^l^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^u^l)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^u)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(u^l^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^u^l)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^u)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(u^l^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^u^l)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^u)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(u^l^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(t|~l))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~u))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(u|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(t|~l))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~u))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(u|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(t|~l))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~u))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(u|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=t+((f=e+(u^(t|~l))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~u))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function nr(i,e){this.h=e;for(var t=[],s=!0,u=i.length-1;0<=u;u--){var l=0|i[u];s&&l==e||(t[u]=l,s=!1)}this.g=t}(Ee=Pr.prototype).Oa=function(i){this.M=i},Ee.ha=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$n.g(),this.C=function ge(i){return i.h||(i.h=i.i())}(this.u?this.u:$n),this.g.onreadystatechange=Je(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void Fs(this,l)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var u in s)t.set(u,s[u]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const l of s.keys())t.set(l,s.get(l))}s=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),u=st.FormData&&i instanceof st.FormData,!(0<=Ln(Jo,e))||s||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of t)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ie(this),0<this.B&&((this.L=function Ro(i){return rt&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Je(this.ua,this)):this.A=ji(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){Fs(this,l)}},Ee.ua=function(){typeof It<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rn(this,"timeout"),this.abort(8))},Ee.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,rn(this,"complete"),rn(this,"abort"),B(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),B(this,!0)),Pr.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?H(this):this.kb())},Ee.kb=function(){H(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<se(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),as(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=De.prototype).ra=8,Ee.H=1,Ee.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new vn(this,this.l,i);let l=this.s;if(this.U&&(l?(l=Yt(l),Yn(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=hs(this,u,e),tn(t=Ti(this.I),"RID",i),tn(t,"CVER",22),this.F&&tn(t,"X-HTTP-Session-Id",this.F),tr(this,t),l&&(this.O?e="headers="+encodeURIComponent(String(R(l)))+"&"+e:this.o&&T(t,this.o,l)),Qo(this.i,u),this.bb&&tn(t,"TYPE","init"),this.P?(tn(t,"$req",e),tn(t,"SID","null"),u.aa=!0,po(u,t,null)):po(u,t,e),this.H=2}}else 3==this.H&&(i?Rr(this,i):0==this.j.length||Ns(this.i)||Rr(this))},Ee.Ma=function(){if(this.u=null,no(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Li(Je(this.jb,this),i)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xn(10),yn(this),no(this))},Ee.ib=function(){null!=this.v&&(this.v=null,yn(this),wi(this),Xn(19))},Ee.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Xn(2)):(this.l.info("Failed to ping google.com"),Xn(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=zi.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},_a.prototype.g=function(i,e){return new Ui(i,e)},Xe(Ui,An),Ui.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,t=this.h||void 0;Xn(0),i.Y=e,i.na=t||{},i.G=i.aa,i.I=Ei(i,null,i.Y),rr(i)},Ui.prototype.close=function(){pt(this.g)},Ui.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=he(i),i=t);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&rr(e)},Ui.prototype.N=function(){this.g.h=null,delete this.j,pt(this.g),delete this.g,Ui.$.N.call(this)},Xe(Va,wt),Xe(wa,Ht),Xe(Ho,zi),Ho.prototype.Ba=function(){rn(this.g,"a")},Ho.prototype.Aa=function(i){rn(this.g,new Va(i))},Ho.prototype.za=function(i){rn(this.g,new wa)},Ho.prototype.ya=function(){rn(this.g,"b")},Xe(qi,function da(){this.blockSize=-1}),qi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qi.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,s=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=t;)Ea(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(s[u++]=i.charCodeAt(l++),u==this.blockSize){Ea(this,s),u=0;break}}else for(;l<e;)if(s[u++]=i[l++],u==this.blockSize){Ea(this,s),u=0;break}}this.h=u,this.i+=e},qi.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)i[t++]=this.g[e]>>>s&255;return i};var Iu={};function Ia(i){return-128<=i&&128>i?function ct(i,e){var t=Iu;return Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=e(i)}(i,function(e){return new nr([0|e],0>e?-1:0)}):new nr([0|i],0>i?-1:0)}function ro(i){if(isNaN(i)||!isFinite(i))return wo;if(0>i)return ts(ro(-i));for(var e=[],t=1,s=0;i>=t;s++)e[s]=i/t|0,t*=Da;return new nr(e,0)}var Da=4294967296,wo=Ia(0),Du=Ia(1),Go=Ia(16777216);function Eo(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function ws(i){return-1==i.h}function ts(i){for(var e=i.g.length,t=[],s=0;s<e;s++)t[s]=~i.g[s];return new nr(t,~i.h).add(Du)}function Io(i,e){return i.add(ts(e))}function Do(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function S(i,e){this.g=i,this.h=e}function V(i,e){if(Eo(e))throw Error("division by zero");if(Eo(i))return new S(wo,wo);if(ws(i))return e=V(ts(i),e),new S(ts(e.g),ts(e.h));if(ws(e))return e=V(i,ts(e)),new S(ts(e.g),e.h);if(30<i.g.length){if(ws(i)||ws(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Du,s=e;0>=s.X(i);)t=N(t),s=N(s);var u=z(t,1),l=z(s,1);for(s=z(s,2),t=z(t,2);!Eo(s);){var f=l.add(s);0>=f.X(i)&&(u=u.add(t),l=f),s=z(s,1),t=z(t,1)}return e=Io(i,u.R(e)),new S(u,e)}for(u=wo;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(l=ro(t)).R(e);ws(f)||0<f.X(i);)f=(l=ro(t-=s)).R(e);Eo(l)&&(l=Du),u=u.add(l),i=Io(i,f)}return new S(u,i)}function N(i){for(var e=i.g.length+1,t=[],s=0;s<e;s++)t[s]=i.D(s)<<1|i.D(s-1)>>>31;return new nr(t,i.h)}function z(i,e){var t=e>>5;e%=32;for(var s=i.g.length-t,u=[],l=0;l<s;l++)u[l]=0<e?i.D(l+t)>>>e|i.D(l+t+1)<<32-e:i.D(l+t);return new nr(u,i.h)}(Ee=nr.prototype).ea=function(){if(ws(this))return-ts(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);i+=(0<=s?s:Da+s)*e,e*=Da}return i},Ee.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Eo(this))return"0";if(ws(this))return"-"+ts(this).toString(i);for(var e=ro(Math.pow(i,6)),t=this,s="";;){var u=V(t,e).g,l=((0<(t=Io(t,u.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(Eo(t=u))return l+s;for(;6>l.length;)l="0"+l;s=l+s}},Ee.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ee.X=function(i){return ws(i=Io(this,i))?-1:Eo(i)?0:1},Ee.abs=function(){return ws(this)?ts(this):this},Ee.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0,u=0;u<=e;u++){var l=s+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);s=f>>>16,t[u]=(f&=65535)<<16|(l&=65535)}return new nr(t,-2147483648&t[t.length-1]?-1:0)},Ee.R=function(i){if(Eo(this)||Eo(i))return wo;if(ws(this))return ws(i)?ts(this).R(ts(i)):ts(ts(this).R(i));if(ws(i))return ts(this.R(ts(i)));if(0>this.X(Go)&&0>i.X(Go))return ro(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var u=0;u<i.g.length;u++){var l=this.D(s)>>>16,f=65535&this.D(s),D=i.D(u)>>>16,O=65535&i.D(u);t[2*s+2*u]+=f*O,Do(t,2*s+2*u),t[2*s+2*u+1]+=l*O,Do(t,2*s+2*u+1),t[2*s+2*u+1]+=f*D,Do(t,2*s+2*u+1),t[2*s+2*u+2]+=l*D,Do(t,2*s+2*u+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new nr(t,0)},Ee.gb=function(i){return V(this,i).h},Ee.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&i.D(s);return new nr(t,this.h&i.h)},Ee.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|i.D(s);return new nr(t,this.h|i.h)},Ee.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^i.D(s);return new nr(t,this.h^i.h)},_a.prototype.createWebChannel=_a.prototype.g,Ui.prototype.send=Ui.prototype.u,Ui.prototype.open=Ui.prototype.m,Ui.prototype.close=Ui.prototype.close,Vi.NO_ERROR=0,Vi.TIMEOUT=8,Vi.HTTP_ERROR=6,Bo.COMPLETE="complete",Ae.EventType=Ye,Ye.OPEN="a",Ye.CLOSE="b",Ye.ERROR="c",Ye.MESSAGE="d",An.prototype.listen=An.prototype.O,Pr.prototype.listenOnce=Pr.prototype.P,Pr.prototype.getLastError=Pr.prototype.Sa,Pr.prototype.getLastErrorCode=Pr.prototype.Ia,Pr.prototype.getStatus=Pr.prototype.da,Pr.prototype.getResponseJson=Pr.prototype.Wa,Pr.prototype.getResponseText=Pr.prototype.ja,Pr.prototype.send=Pr.prototype.ha,Pr.prototype.setWithCredentials=Pr.prototype.Oa,qi.prototype.digest=qi.prototype.l,qi.prototype.reset=qi.prototype.reset,qi.prototype.update=qi.prototype.j,nr.prototype.add=nr.prototype.add,nr.prototype.multiply=nr.prototype.R,nr.prototype.modulo=nr.prototype.gb,nr.prototype.compare=nr.prototype.X,nr.prototype.toNumber=nr.prototype.ea,nr.prototype.toString=nr.prototype.toString,nr.prototype.getBits=nr.prototype.D,nr.fromNumber=ro,nr.fromString=function ha(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return ts(ha(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ro(Math.pow(e,8)),s=wo,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=ro(Math.pow(e,l)),s=s.R(l).add(ro(f))):s=(s=s.R(t)).add(ro(f))}return s};var ae=je.createWebChannelTransport=function(){return new _a},Ue=je.getStatEventTarget=function(){return Yi()},Be=je.ErrorCode=Vi,Xt=je.EventType=Bo,ir=je.Event=Hi,Dn=je.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},dr=je.FetchXmlHttpFactory=Ai,Mn=je.WebChannel=Ae,Tr=je.XhrIo=Pr,jn=je.Md5=qi,jr=je.Integer=nr;const Vs="@firebase/firestore";class br{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");let ri="9.22.2";const li=new ue.Yd("@firebase/firestore");function Ks(){return li.logLevel}function gt(i,...e){if(li.logLevel<=ue.in.DEBUG){const t=e.map(_n);li.debug(`Firestore (${ri}): ${i}`,...t)}}function hr(i,...e){if(li.logLevel<=ue.in.ERROR){const t=e.map(_n);li.error(`Firestore (${ri}): ${i}`,...t)}}function Zs(i,...e){if(li.logLevel<=ue.in.WARN){const t=e.map(_n);li.warn(`Firestore (${ri}): ${i}`,...t)}}function _n(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function zt(i="Unexpected state"){const e=`FIRESTORE (${ri}) INTERNAL ASSERTION FAILED: `+i;throw hr(e),new Error(e)}function on(i,e){i||zt()}function Ct(i,e){return i}const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends oe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Cc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ml{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(br.UNAUTHENTICATED))}shutdown(){}}class Gu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Mh{constructor(e){this.t=e,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let u=this.i;const l=L=>this.i!==u?(u=this.i,t(L)):Promise.resolve();let f=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new gi,e.enqueueRetryable(()=>l(this.currentUser))};const D=()=>{const L=f;e.enqueueRetryable((0,de.Z)(function*(){yield L.promise,yield l(s.currentUser)}))},O=L=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=L,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(L=>O(L)),setTimeout(()=>{if(!this.auth){const L=this.t.getImmediate({optional:!0});L?O(L):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new gi)}},0),D()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(on("string"==typeof s.accessToken),new Cc(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return on(null===e||"string"==typeof e),new br(e)}}class Tc{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=br.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class lt{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Tc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=l=>{null!=l.error&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,gt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const u=l=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(on("string"==typeof t.token),this.T=t.token,new sr(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function xn(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class Ua{static A(){const t=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=xn(40);for(let l=0;l<u.length;++l)s.length<20&&u[l]<t&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return s}}function Kt(i,e){return i<e?-1:i>e?1:0}function Us(i,e,t){return i.length===e.length&&i.every((s,u)=>t(s,e[u]))}class ii{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new dt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new dt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new dt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ii.fromMillis(Date.now())}static fromDate(e){return ii.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new ii(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class an{constructor(e){this.timestamp=e}static fromTimestamp(e){return new an(e)}static min(){return new an(new ii(0,0))}static max(){return new an(new ii(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fa{constructor(e,t,s){void 0===t?t=0:t>e.length&&zt(),void 0===s?s=e.length-t:s>e.length-t&&zt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===fa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fa?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let u=0;u<s;u++){const l=e.get(u),f=t.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ar extends fa{construct(e,t,s){return new ar(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new dt($e.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(u=>u.length>0))}return new ar(t)}static emptyPath(){return new ar([])}}const ns=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kr extends fa{construct(e,t,s){return new kr(e,t,s)}static isValidIdentifier(e){return ns.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kr(["__name__"])}static fromServerFormat(e){const t=[];let s="",u=0;const l=()=>{if(0===s.length)throw new dt($e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;u<e.length;){const D=e[u];if("\\"===D){if(u+1===e.length)throw new dt($e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[u+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new dt($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=O,u+=2}else"`"===D?(f=!f,u++):"."!==D||f?(s+=D,u++):(l(),u++)}if(l(),f)throw new dt($e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kr(t)}static emptyPath(){return new kr([])}}class xt{constructor(e){this.path=e}static fromPath(e){return new xt(ar.fromString(e))}static fromName(e){return new xt(ar.fromString(e).popFirst(5))}static empty(){return new xt(ar.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ar.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ar.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xt(new ar(e.slice()))}}function Ja(i){return new Es(i.readTime,i.key,-1)}class Es{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Es(an.min(),xt.empty(),-1)}static max(){return new Es(an.max(),xt.empty(),-1)}}function Wu(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=xt.comparator(i.documentKey,e.documentKey),0!==t?t:Kt(i.largestBatchId,e.largestBatchId))}const $a="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Co(i){return ja.apply(this,arguments)}function ja(){return ja=(0,de.Z)(function*(i){if(i.code!==$e.FAILED_PRECONDITION||i.message!==$a)throw i;gt("LocalStore","Unexpectedly lost primary lease")}),ja.apply(this,arguments)}class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pe((s,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,u)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Pe?t:Pe.resolve(t)}catch(t){return Pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.reject(t)}static resolve(e){return new Pe((t,s)=>{t(e)})}static reject(e){return new Pe((t,s)=>{s(e)})}static waitFor(e){return new Pe((t,s)=>{let u=0,l=0,f=!1;e.forEach(D=>{++u,D.next(()=>{++l,f&&l===u&&t()},O=>s(O))}),f=!0,l===u&&t()})}static or(e){let t=Pe.resolve(!1);for(const s of e)t=t.next(u=>u?Pe.resolve(u):s());return t}static forEach(e,t){const s=[];return e.forEach((u,l)=>{s.push(t.call(this,u,l))}),this.waitFor(s)}static mapArray(e,t){return new Pe((s,u)=>{const l=e.length,f=new Array(l);let D=0;for(let O=0;O<l;O++){const L=O;t(e[L]).next(Q=>{f[L]=Q,++D,D===l&&s(f)},Q=>u(Q))}})}static doWhile(e,t){return new Pe((s,u)=>{const l=()=>{!0===e()?t().next(()=>{l()},u):s()};l()})}}function Oi(i){return"IndexedDbTransactionError"===i.name}let k=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>s.writeSequenceNumber(u))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function Z(i){return null==i}function X(i){return 0===i&&1/i==-1/0}function yd(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ra(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function tu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class si{constructor(e,t){this.comparator=e,this.root=t||us.EMPTY}insert(e,t){return new si(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,us.BLACK,null,null))}remove(e){return new si(this.comparator,this.root.remove(e,this.comparator).copy(null,null,us.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return t+s.left.size;u<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pa(this.root,e,this.comparator,!1)}getReverseIterator(){return new pa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pa(this.root,e,this.comparator,!0)}}class pa{constructor(e,t,s,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class us{constructor(e,t,s,u,l){this.key=e,this.value=t,this.color=s??us.RED,this.left=u??us.EMPTY,this.right=l??us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,u,l){return new us(e??this.key,t??this.value,s??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let u=this;const l=s(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,t,s),null):0===l?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return us.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zt();const e=this.left.check();if(e!==this.right.check())throw zt();return e+(this.isRed()?0:1)}}us.EMPTY=null,us.RED=!0,us.BLACK=!1,us.EMPTY=new class{constructor(){this.size=0}get key(){throw zt()}get value(){throw zt()}get color(){throw zt()}get left(){throw zt()}get right(){throw zt()}copy(i,e,t,s,u){return this}insert(i,e,t){return new us(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ii{constructor(e){this.comparator=e,this.data=new si(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yu(this.data.getIterator())}getIteratorFrom(e){return new Yu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ii)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ii(this.comparator);return t.data=e,t}}class Yu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ds{constructor(e){this.fields=e,e.sort(kr.comparator)}static empty(){return new Ds([])}unionWith(e){let t=new Ii(kr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ds(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Mc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ki{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Mc("Invalid base64 string: "+u):u}}(e);return new Ki(t)}static fromUint8Array(e){const t=function(s){let u="";for(let l=0;l<s.length;++l)u+=String.fromCharCode(s[l]);return u}(e);return new Ki(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ki.EMPTY_BYTE_STRING=new Ki("");const Aa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(i){if(on(!!i),"string"==typeof i){let e=0;const t=Aa.exec(i);if(on(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Pi(i.seconds),nanos:Pi(i.nanos)}}function Pi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ia(i){return"string"==typeof i?Ki.fromBase64String(i):Ki.fromUint8Array(i)}function Ko(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Dl(i){const e=i.mapValue.fields.__previous_value__;return Ko(e)?Dl(e):e}function Ma(i){const e=oo(i.mapValue.fields.__local_write_time__.timestampValue);return new ii(e.seconds,e.nanos)}class Rc{constructor(e,t,s,u,l,f,D,O,L){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=D,this.longPollingOptions=O,this.useFetchStreams=L}}class sa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sa&&e.projectId===this.projectId&&e.database===this.database}}const oa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ao(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ko(i)?4:Su(i)?9007199254740991:10:zt()}function Ys(i,e){if(i===e)return!0;const t=ao(i);if(t!==ao(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ma(i).isEqual(Ma(e));case 3:return function(s,u){if("string"==typeof s.timestampValue&&"string"==typeof u.timestampValue&&s.timestampValue.length===u.timestampValue.length)return s.timestampValue===u.timestampValue;const l=oo(s.timestampValue),f=oo(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,ia(i.bytesValue).isEqual(ia(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,u){return Pi(s.geoPointValue.latitude)===Pi(u.geoPointValue.latitude)&&Pi(s.geoPointValue.longitude)===Pi(u.geoPointValue.longitude)}(i,e);case 2:return function(s,u){if("integerValue"in s&&"integerValue"in u)return Pi(s.integerValue)===Pi(u.integerValue);if("doubleValue"in s&&"doubleValue"in u){const l=Pi(s.doubleValue),f=Pi(u.doubleValue);return l===f?X(l)===X(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return Us(i.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:return function(s,u){const l=s.mapValue.fields||{},f=u.mapValue.fields||{};if(yd(l)!==yd(f))return!1;for(const D in l)if(l.hasOwnProperty(D)&&(void 0===f[D]||!Ys(l[D],f[D])))return!1;return!0}(i,e);default:return zt()}var u}function To(i,e){return void 0!==(i.values||[]).find(t=>Ys(t,e))}function Fo(i,e){if(i===e)return 0;const t=ao(i),s=ao(e);if(t!==s)return Kt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=Pi(u.integerValue||u.doubleValue),D=Pi(l.integerValue||l.doubleValue);return f<D?-1:f>D?1:f===D?0:isNaN(f)?isNaN(D)?0:-1:1}(i,e);case 3:return nu(i.timestampValue,e.timestampValue);case 4:return nu(Ma(i),Ma(e));case 5:return Kt(i.stringValue,e.stringValue);case 6:return function(u,l){const f=ia(u),D=ia(l);return f.compareTo(D)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),D=l.split("/");for(let O=0;O<f.length&&O<D.length;O++){const L=Kt(f[O],D[O]);if(0!==L)return L}return Kt(f.length,D.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=Kt(Pi(u.latitude),Pi(l.latitude));return 0!==f?f:Kt(Pi(u.longitude),Pi(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],D=l.values||[];for(let O=0;O<f.length&&O<D.length;++O){const L=Fo(f[O],D[O]);if(L)return L}return Kt(f.length,D.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===oa.mapValue&&l===oa.mapValue)return 0;if(u===oa.mapValue)return 1;if(l===oa.mapValue)return-1;const f=u.fields||{},D=Object.keys(f),O=l.fields||{},L=Object.keys(O);D.sort(),L.sort();for(let Q=0;Q<D.length&&Q<L.length;++Q){const le=Kt(D[Q],L[Q]);if(0!==le)return le;const ke=Fo(f[D[Q]],O[L[Q]]);if(0!==ke)return ke}return Kt(D.length,L.length)}(i.mapValue,e.mapValue);default:throw zt()}}function nu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Kt(i,e);const t=oo(i),s=oo(e),u=Kt(t.seconds,s.seconds);return 0!==u?u:Kt(t.nanos,s.nanos)}function bo(i){return ru(i)}function ru(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const u=oo(s);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ia(i.bytesValue).toBase64():"referenceValue"in i?xt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let u="[",l=!0;for(const f of s.values||[])l?l=!1:u+=",",u+=ru(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(s){const u=Object.keys(s.fields||{}).sort();let l="{",f=!0;for(const D of u)f?f=!1:l+=",",l+=`${D}:${ru(s.fields[D])}`;return l+"}"}(i.mapValue):zt();var e}function xa(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vd(i){return!!i&&"integerValue"in i}function bu(i){return!!i&&"arrayValue"in i}function Rh(i){return!!i&&"nullValue"in i}function _d(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Qu(i){return!!i&&"mapValue"in i}function uo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ra(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=uo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uo(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Su(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class ki{constructor(e){this.value=e}static empty(){return new ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Qu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uo(t)}setAll(e){let t=kr.emptyPath(),s={},u=[];e.forEach((f,D)=>{if(!t.isImmediateParentOf(D)){const O=this.getFieldsMap(t);this.applyChanges(O,s,u),s={},u=[],t=D.popLast()}f?s[D.lastSegment()]=uo(f):u.push(D.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,u)}delete(e){const t=this.field(e.popLast());Qu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=t.mapValue.fields[e.get(s)];Qu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,s){ra(t,(u,l)=>e[u]=l);for(const u of s)delete e[u]}clone(){return new ki(uo(this.value))}}function Lo(i){const e=[];return ra(i.fields,(t,s)=>{const u=new kr([t]);if(Qu(s)){const l=Lo(s.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new Ds(e)}class oi{constructor(e,t,s,u,l,f,D){this.key=e,this.documentType=t,this.version=s,this.readTime=u,this.createTime=l,this.data=f,this.documentState=D}static newInvalidDocument(e){return new oi(e,0,an.min(),an.min(),an.min(),ki.empty(),0)}static newFoundDocument(e,t,s,u){return new oi(e,1,t,an.min(),s,u,0)}static newNoDocument(e,t){return new oi(e,2,t,an.min(),an.min(),ki.empty(),0)}static newUnknownDocument(e,t){return new oi(e,3,t,an.min(),an.min(),ki.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(an.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ma{constructor(e,t){this.position=e,this.inclusive=t}}function Ga(i,e,t){let s=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(s=l.field.isKeyField()?xt.comparator(xt.fromName(f.referenceValue),t.key):Fo(f,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return s}function ou(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ys(i.position[t],e.position[t]))return!1;return!0}class au{constructor(e,t="asc"){this.field=e,this.dir=t}}function E(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class A{}class P extends A{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new co(e,t,s):"array-contains"===t?new lu(e,s):"in"===t?new lo(e,s):"not-in"===t?new za(e,s):"array-contains-any"===t?new qa(e,s):new P(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Cs(e,s):new uu(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Fo(t,this.value)):null!==t&&ao(this.value)===ao(t)&&this.matchesComparison(Fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Y extends A{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Y(e,t)}matches(e){return pe(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function pe(i){return"and"===i.op}function ze(i){return function Ft(i){for(const e of i.filters)if(e instanceof Y)return!1;return!0}(i)&&pe(i)}function Ot(i){if(i instanceof P)return i.field.canonicalString()+i.op.toString()+bo(i.value);if(ze(i))return i.filters.map(e=>Ot(e)).join(",");{const e=i.filters.map(t=>Ot(t)).join(",");return`${i.op}(${e})`}}function sn(i,e){return i instanceof P?(t=i,(s=e)instanceof P&&t.op===s.op&&t.field.isEqual(s.field)&&Ys(t.value,s.value)):i instanceof Y?function(t,s){return s instanceof Y&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((u,l,f)=>u&&sn(l,s.filters[f]),!0)}(i,e):void zt();var t,s}function Rn(i){return i instanceof P?`${(e=i).field.canonicalString()} ${e.op} ${bo(e.value)}`:i instanceof Y?function(e){return e.op.toString()+" {"+e.getFilters().map(Rn).join(" ,")+"}"}(i):"Filter";var e}class co extends P{constructor(e,t,s){super(e,t,s),this.key=xt.fromName(s.referenceValue)}matches(e){const t=xt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Cs extends P{constructor(e,t){super(e,"in",t),this.keys=cu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uu extends P{constructor(e,t){super(e,"not-in",t),this.keys=cu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cu(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>xt.fromName(s.referenceValue))}class lu extends P{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bu(t)&&To(t.arrayValue,this.value)}}class lo extends P{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&To(this.value.arrayValue,t)}}class za extends P{constructor(e,t){super(e,"not-in",t)}matches(e){if(To(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!To(this.value.arrayValue,t)}}class qa extends P{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>To(this.value.arrayValue,s))}}class Oh{constructor(e,t=null,s=[],u=[],l=null,f=null,D=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=u,this.limit=l,this.startAt=f,this.endAt=D,this.dt=null}}function Au(i,e=null,t=[],s=[],u=null,l=null,f=null){return new Oh(i,e,t,s,u,l,f)}function Na(i){const e=Ct(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Ot(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(u=s).field.canonicalString()+u.dir;var u}).join(","),Z(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>bo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>bo(s)).join(",")),e.dt=t}return e.dt}function Wa(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!E(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!sn(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ou(i.startAt,e.startAt)&&ou(i.endAt,e.endAt)}function Nc(i){return xt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Zo{constructor(e,t=null,s=[],u=[],l=null,f="F",D=null,O=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=u,this.limit=l,this.limitType=f,this.startAt=D,this.endAt=O,this.wt=null,this._t=null}}function Oc(i){return new Zo(i)}function Ed(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Tl(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Ju(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function bl(i){return null!==i.collectionGroup}function Xu(i){const e=Ct(i);if(null===e.wt){e.wt=[];const t=Ju(e),s=Tl(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new au(t)),e.wt.push(new au(kr.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new au(kr.keyField(),l))}}}return e.wt}function Qs(i){const e=Ct(i);if(!e._t)if("F"===e.limitType)e._t=Au(e.path,e.collectionGroup,Xu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Xu(e))t.push(new au(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new ma(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new ma(e.startAt.position,e.startAt.inclusive):null;e._t=Au(e.path,e.collectionGroup,t,e.filters,e.limit,s,u)}return e._t}function ec(i,e){e.getFirstInequalityField(),Ju(i);const t=i.filters.concat([e]);return new Zo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Pc(i,e,t){return new Zo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function kc(i,e){return Wa(Qs(i),Qs(e))&&i.limitType===e.limitType}function Id(i){return`${Na(Qs(i))}|lt:${i.limitType}`}function kh(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Rn(s)).join(", ")}]`),Z(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(u=s).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>bo(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>bo(s)).join(",")),`Target(${t})`}(Qs(i))}; limitType=${i.limitType})`}function tc(i,e){return e.isFoundDocument()&&function(t,s){const u=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):xt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,s){for(const u of Xu(t))if(!u.field.isKeyField()&&null===s.data.field(u.field))return!1;return!0}(i,e)&&function(t,s){for(const u of t.filters)if(!u.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(u,l,f){const D=Ga(u,l,f);return u.inclusive?D<=0:D<0}(t.startAt,Xu(t),s)||t.endAt&&!function(u,l,f){const D=Ga(u,l,f);return u.inclusive?D>=0:D>0}(t.endAt,Xu(t),s)));var t,s}function hp(i){return(e,t)=>{let s=!1;for(const u of Xu(i)){const l=vm(u,e,t);if(0!==l)return l;s=s||u.field.isKeyField()}return 0}}function vm(i,e,t){const s=i.field.isKeyField()?xt.comparator(e.key,t.key):function(u,l,f){const D=l.data.field(u),O=f.data.field(u);return null!==D&&null!==O?Fo(D,O):zt()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return zt()}}class Oa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[u,l]of s)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[t]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(t,s)=>{for(const[u,l]of s)e(u,l)})}isEmpty(){return tu(this.inner)}size(){return this.innerSize}}const mv=new si(xt.comparator);function aa(){return mv}const Dd=new si(xt.comparator);function Cd(...i){let e=Dd;for(const t of i)e=e.insert(t.key,t);return e}function fp(i){let e=Dd;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function du(){return Td()}function _m(){return Td()}function Td(){return new Oa(i=>i.toString(),(i,e)=>i.isEqual(e))}const pp=new si(xt.comparator),bd=new Ii(xt.comparator);function Kn(...i){let e=bd;for(const t of i)e=e.add(t);return e}const gp=new Ii(Kt);function Fh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:X(e)?"-0":e}}function nc(i){return{integerValue:""+i}}function Lh(i,e){return function _e(i){return"number"==typeof i&&Number.isInteger(i)&&!X(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?nc(e):Fh(i,e)}class rc{constructor(){this._=void 0}}function Ad(i,e,t){return i instanceof Fc?function(s,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return u&&Ko(u)&&(u=Dl(u)),u&&(l.fields.__previous_value__=u),{mapValue:l}}(t,e):i instanceof ic?Vh(i,e):i instanceof hu?yp(i,e):function(s,u){const l=mp(s,u),f=vp(l)+vp(s.gt);return vd(l)&&vd(s.gt)?nc(f):Fh(s.serializer,f)}(i,e)}function Ka(i,e,t){return i instanceof ic?Vh(i,e):i instanceof hu?yp(i,e):t}function mp(i,e){return i instanceof Lc?vd(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Fc extends rc{}class ic extends rc{constructor(e){super(),this.elements=e}}function Vh(i,e){const t=Uh(e);for(const s of i.elements)t.some(u=>Ys(u,s))||t.push(s);return{arrayValue:{values:t}}}class hu extends rc{constructor(e){super(),this.elements=e}}function yp(i,e){let t=Uh(e);for(const s of i.elements)t=t.filter(u=>!Ys(u,s));return{arrayValue:{values:t}}}class Lc extends rc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function vp(i){return Pi(i.integerValue||i.doubleValue)}function Uh(i){return bu(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Yo{constructor(e,t){this.version=e,this.transformResults=t}}class Fi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fi}static exists(e){return new Fi(void 0,e)}static updateTime(e){return new Fi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Al(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Vc{}function ho(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new $c(i.key,Fi.none()):new sc(i.key,i.data,Fi.none());{const t=i.data,s=ki.empty();let u=new Ii(kr.comparator);for(let l of e.fields)if(!u.has(l)){let f=t.field(l);null===f&&l.length>1&&(l=l.popLast(),f=t.field(l)),null===f?s.delete(l):s.set(l,f),u=u.add(l)}return new Za(i.key,s,new Ds(u.toArray()),Fi.none())}}function Uc(i,e,t){i instanceof sc?function(s,u,l){const f=s.value.clone(),D=Ep(s.fieldTransforms,u,l.transformResults);f.setAll(D),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,t):i instanceof Za?function(s,u,l){if(!Al(s.precondition,u))return void u.convertToUnknownDocument(l.version);const f=Ep(s.fieldTransforms,u,l.transformResults),D=u.data;D.setAll(Bh(s)),D.setAll(f),u.convertToFoundDocument(l.version,D).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Bc(i,e,t,s){return i instanceof sc?function(u,l,f,D){if(!Al(u.precondition,l))return f;const O=u.value.clone(),L=$h(u.fieldTransforms,D,l);return O.setAll(L),l.convertToFoundDocument(l.version,O).setHasLocalMutations(),null}(i,e,t,s):i instanceof Za?function(u,l,f,D){if(!Al(u.precondition,l))return f;const O=$h(u.fieldTransforms,D,l),L=l.data;return L.setAll(Bh(u)),L.setAll(O),l.convertToFoundDocument(l.version,L).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(Q=>Q.field))}(i,e,t,s):(f=t,Al(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function _p(i,e){let t=null;for(const s of i.fieldTransforms){const u=e.data.field(s.field),l=mp(s.transform,u||null);null!=l&&(null===t&&(t=ki.empty()),t.set(s.field,l))}return t||null}function wp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&Us(t,s,(u,l)=>function wm(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof ic&&s instanceof ic||t instanceof hu&&s instanceof hu?Us(t.elements,s.elements,Ys):t instanceof Lc&&s instanceof Lc?Ys(t.gt,s.gt):t instanceof Fc&&s instanceof Fc);var t,s}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class sc extends Vc{constructor(e,t,s,u=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Za extends Vc{constructor(e,t,s,u,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Bh(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function Ep(i,e,t){const s=new Map;on(i.length===t.length);for(let u=0;u<t.length;u++){const l=i[u],f=l.transform,D=e.data.field(l.field);s.set(l.field,Ka(f,D,t[u]))}return s}function $h(i,e,t){const s=new Map;for(const u of i){const l=u.transform,f=t.data.field(u.field);s.set(u.field,Ad(l,f,e))}return s}class $c extends Vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jh extends Vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ml{constructor(e,t,s,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Uc(l,e,s[u])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Bc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Bc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=_m();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let D=this.applyToLocalView(f,l.mutatedFields);D=t.has(u.key)?null:D;const O=ho(f,D);null!==O&&s.set(u.key,O),f.isValidDocument()||f.convertToNoDocument(an.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Kn())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(t,s)=>wp(t,s))&&Us(this.baseMutations,e.baseMutations,(t,s)=>wp(t,s))}}class xl{constructor(e,t,s,u){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=u}static from(e,t,s){on(e.mutations.length===s.length);let u=pp;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,s[f].version);return new xl(e,t,s,u)}}class Hh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class w{constructor(e,t){this.count=e,this.unchangedNames=t}}var h,p;function j(i){if(void 0===i)return hr("GRPC error has no .code"),$e.UNKNOWN;switch(i){case h.OK:return $e.OK;case h.CANCELLED:return $e.CANCELLED;case h.UNKNOWN:return $e.UNKNOWN;case h.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case h.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case h.INTERNAL:return $e.INTERNAL;case h.UNAVAILABLE:return $e.UNAVAILABLE;case h.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case h.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case h.NOT_FOUND:return $e.NOT_FOUND;case h.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case h.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case h.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case h.ABORTED:return $e.ABORTED;case h.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case h.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case h.DATA_LOSS:return $e.DATA_LOSS;default:return zt()}}(p=h||(h={}))[p.OK=0]="OK",p[p.CANCELLED=1]="CANCELLED",p[p.UNKNOWN=2]="UNKNOWN",p[p.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",p[p.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",p[p.NOT_FOUND=5]="NOT_FOUND",p[p.ALREADY_EXISTS=6]="ALREADY_EXISTS",p[p.PERMISSION_DENIED=7]="PERMISSION_DENIED",p[p.UNAUTHENTICATED=16]="UNAUTHENTICATED",p[p.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",p[p.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",p[p.ABORTED=10]="ABORTED",p[p.OUT_OF_RANGE=11]="OUT_OF_RANGE",p[p.UNIMPLEMENTED=12]="UNIMPLEMENTED",p[p.INTERNAL=13]="INTERNAL",p[p.UNAVAILABLE=14]="UNAVAILABLE",p[p.DATA_LOSS=15]="DATA_LOSS";class J{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return we}static getOrCreateInstance(){return null===we&&(we=new J),we}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let we=null;const Mt=new jr([4294967295,4294967295],0);function jt(i){const e=function He(){return new TextEncoder}().encode(i),t=new jn;return t.update(e),new Uint8Array(t.digest())}function hn(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new jr([t,s],0),new jr([u,l],0)]}class ur{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Bs(`Invalid padding: ${t}`);if(s<0)throw new Bs(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Bs(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Bs(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=jr.fromNumber(this.It)}Et(e,t,s){let u=e.add(t.multiply(jr.fromNumber(s)));return 1===u.compare(Mt)&&(u=new jr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=jt(e),[s,u]=hn(t);for(let l=0;l<this.hashCount;l++){const f=this.Et(s,u,l);if(!this.At(f))return!1}return!0}static create(e,t,s){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new ur(l,u,t);return s.forEach(D=>f.insert(D)),f}insert(e){if(0===this.It)return;const t=jt(e),[s,u]=hn(t);for(let l=0;l<this.hashCount;l++){const f=this.Et(s,u,l);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Bs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ua{constructor(e,t,s,u,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const u=new Map;return u.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ua(an.min(),u,new si(Kt),aa(),Kn())}}class fu{constructor(e,t,s,u,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new fu(s,t,Kn(),Kn(),Kn())}}class jc{constructor(e,t,s,u){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=u}}class Hc{constructor(e,t){this.targetId=e,this.Vt=t}}class Gc{constructor(e,t,s=Ki.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=u}}class Nl{constructor(){this.St=0,this.Dt=xd(),this.Ct=Ki.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Kn(),t=Kn(),s=Kn();return this.Dt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:s=s.add(u);break;default:zt()}}),new fu(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=xd()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class zc{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=aa(),this.zt=Md(),this.Wt=new si(Kt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:zt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,u)=>{this.te(u)&&t(u)})}ne(e){var t;const s=e.targetId,u=e.Vt.count,l=this.se(s);if(l){const f=l.target;if(Nc(f))if(0===u){const D=new xt(f.path);this.Yt(s,D,oi.newNoDocument(D,an.min()))}else on(1===u);else{const D=this.ie(s);if(D!==u){const O=this.re(e,D);0!==O&&(this.ee(s),this.Wt=this.Wt.insert(s,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=J.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(L,Q,le){var ke,Ze,Tt,qt,en,or;const Lr={localCacheCount:Q,existenceFilterCount:le.count},fr=le.unchangedNames;return fr&&(Lr.bloomFilter={applied:0===L,hashCount:null!==(ke=fr?.hashCount)&&void 0!==ke?ke:0,bitmapLength:null!==(qt=null===(Tt=null===(Ze=fr?.bits)||void 0===Ze?void 0:Ze.bitmap)||void 0===Tt?void 0:Tt.length)&&void 0!==qt?qt:0,padding:null!==(or=null===(en=fr?.bits)||void 0===en?void 0:en.padding)&&void 0!==or?or:0}),Lr}(O,D,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:u}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:D=0}=s;let O,L;try{O=ia(l).toUint8Array()}catch(Q){if(Q instanceof Mc)return Zs("Decoding the base64 bloom filter in existence filter failed ("+Q.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Q}try{L=new ur(O,f,D)}catch(Q){return Zs(Q instanceof Bs?"BloomFilter error: ":"Applying bloom filter failed: ",Q),1}return 0===L.It?1:u!==t-this.oe(e.targetId,L)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let u=0;return s.forEach(l=>{const f=this.Gt.ue(),D=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;t.vt(D)||(this.Yt(e,l,null),u++)}),u}ce(e){const t=new Map;this.Qt.forEach((l,f)=>{const D=this.se(f);if(D){if(l.current&&Nc(D.target)){const O=new xt(D.target.path);null!==this.jt.get(O)||this.ae(f,O)||this.Yt(f,O,oi.newNoDocument(O,e))}l.Mt&&(t.set(f,l.Ot()),l.Ft())}});let s=Kn();this.zt.forEach((l,f)=>{let D=!0;f.forEachWhile(O=>{const L=this.se(O);return!L||"TargetPurposeLimboResolution"===L.purpose||(D=!1,!1)}),D&&(s=s.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const u=new ua(e,t,this.Wt,this.jt,s);return this.jt=aa(),this.zt=Md(),this.Wt=new si(Kt),u}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,t)?u.Bt(t,1):u.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Nl,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ii(Kt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||gt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Nl),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Md(){return new si(xt.comparator)}function xd(){return new si(xt.comparator)}const qc={asc:"ASCENDING",desc:"DESCENDING"},Rd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xu={and:"AND",or:"OR"};class Ol{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Pl(i,e){return i.useProto3Json||Z(e)?e:{value:e}}function kl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yv(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Gh(i,e){return kl(i,e.toTimestamp())}function Ts(i){return on(!!i),an.fromTimestamp(function(e){const t=oo(e);return new ii(t.seconds,t.nanos)}(i))}function zh(i,e){return(t=i,new ar(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ip(i){const e=ar.fromString(i);return on(Zh(e)),e}function Fl(i,e){return zh(i.databaseId,e.path)}function Pa(i,e){const t=Ip(e);if(t.get(1)!==i.databaseId.projectId)throw new dt($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new dt($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new xt(Dp(t))}function qh(i,e){return zh(i.databaseId,e)}function Ru(i){return new ar(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Dp(i){return on(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Wh(i,e,t){return{name:Fl(i,e),fields:t.value.mapValue.fields}}function Dm(i,e){return{documents:[qh(i,e.path)]}}function bp(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=qh(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=qh(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const u=function(O){if(0!==O.length)return vv(Y.create(O,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const l=function(O){if(0!==O.length)return O.map(L=>{return{field:oc((Q=L).field),direction:Kh(Q.dir)};var Q})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=Pl(i,e.limit);var D,O;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt={before:!(O=e.endAt).inclusive,values:O.position}),t}function Cm(i){let e=function Nd(i){const e=Ip(i);return 4===e.length?ar.emptyPath():Dp(e)}(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let u=null;if(s>0){on(1===s);const Q=t.from[0];Q.allDescendants?u=Q.collectionId:e=e.child(Q.collectionId)}let l=[];t.where&&(l=function(Q){const le=Sp(Q);return le instanceof Y&&ze(le)?le.getFilters():[le]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(Q=>{return new au(Vl((le=Q).field),function(ke){switch(ke){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(le.direction));var le}));let D=null;t.limit&&(D=function(Q){let le;return le="object"==typeof Q?Q.value:Q,Z(le)?null:le}(t.limit));let O=null;var Q;t.startAt&&(O=new ma((Q=t.startAt).values||[],!!Q.before));let L=null;return t.endAt&&(L=function(Q){return new ma(Q.values||[],!Q.before)}(t.endAt)),function wd(i,e,t,s,u,l,f,D){return new Zo(i,e,t,s,u,l,f,D)}(e,u,f,l,D,"F",O,L)}function Sp(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Vl(e.unaryFilter.field);return P.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Vl(e.unaryFilter.field);return P.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Vl(e.unaryFilter.field);return P.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Vl(e.unaryFilter.field);return P.create(l,"!=",{nullValue:"NULL_VALUE"});default:return zt()}}(i):void 0!==i.fieldFilter?P.create(Vl((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Y.create(e.compositeFilter.filters.map(t=>Sp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return zt()}}(e.compositeFilter.op))}(i):zt();var e}function Kh(i){return qc[i]}function Ap(i){return Rd[i]}function Ll(i){return xu[i]}function oc(i){return{fieldPath:i.canonicalString()}}function Vl(i){return kr.fromServerFormat(i.fieldPath)}function vv(i){return i instanceof P?function(e){if("=="===e.op){if(_d(e.value))return{unaryFilter:{field:oc(e.field),op:"IS_NAN"}};if(Rh(e.value))return{unaryFilter:{field:oc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_d(e.value))return{unaryFilter:{field:oc(e.field),op:"IS_NOT_NAN"}};if(Rh(e.value))return{unaryFilter:{field:oc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oc(e.field),op:Ap(e.op),value:e.value}}}(i):i instanceof Y?function(e){const t=e.getFilters().map(s=>vv(s));return 1===t.length?t[0]:{compositeFilter:{op:Ll(e.op),filters:t}}}(i):zt()}function _v(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zh(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Ou{constructor(e,t,s,u,l=an.min(),f=an.min(),D=Ki.EMPTY_BYTE_STRING,O=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=D,this.expectedCount=O}withSequenceNumber(e){return new Ou(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ul{constructor(e){this.fe=e}}function Mp(i){const e=Cm({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Pc(e,e.limit,"L"):e}class Bl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Pi(e.integerValue));else if("doubleValue"in e){const s=Pi(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),X(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ia(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?Su(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):zt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const u of Object.keys(s))this.Te(u,t),this.me(s[u],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const u of s)this.me(u,t)}ve(e,t){this.ye(t,37),xt.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Bl.Ve=new Bl;class Om{constructor(){this.rn=new kp}addToCollectionParentIndex(e,t){return this.rn.add(t),Pe.resolve()}getCollectionParents(e,t){return Pe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Pe.resolve()}deleteFieldIndex(e,t){return Pe.resolve()}getDocumentsMatchingTarget(e,t){return Pe.resolve(null)}getIndexType(e,t){return Pe.resolve(0)}getFieldIndexes(e,t){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,t){return Pe.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,t){return Pe.resolve(Es.min())}updateCollectionGroup(e,t,s){return Pe.resolve()}updateIndexEntries(e,t){return Pe.resolve()}}class kp{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),u=this.index[t]||new Ii(ar.comparator),l=!u.has(s);return this.index[t]=u.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),u=this.index[t];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Ii(ar.comparator)).toArray()}}new Uint8Array(0);class Fr{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Fr(e,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Fr.DEFAULT_COLLECTION_PERCENTILE=10,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fr.DEFAULT=new Fr(41943040,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fr.DISABLED=new Fr(-1,0,0);class Kc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Kc(0)}static Mn(){return new Kc(-1)}}class $m{constructor(){this.changes=new Oa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,oi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Pe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Hm{constructor(e,t,s,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==s&&Bc(s.mutation,u,Ds.empty(),ii.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Kn()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Kn()){const u=du();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,s).next(l=>{let f=Cd();return l.forEach((D,O)=>{f=f.insert(D,O.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=du();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Kn()))}populateOverlays(e,t,s){const u=[];return s.forEach(l=>{t.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,D)=>{t.set(f,D)})})}computeViews(e,t,s,u){let l=aa();const f=Td(),D=Td();return t.forEach((O,L)=>{const Q=s.get(L.key);u.has(L.key)&&(void 0===Q||Q.mutation instanceof Za)?l=l.insert(L.key,L):void 0!==Q?(f.set(L.key,Q.mutation.getFieldMask()),Bc(Q.mutation,L,Q.mutation.getFieldMask(),ii.now())):f.set(L.key,Ds.empty())}),this.recalculateAndSaveOverlays(e,l).next(O=>(O.forEach((L,Q)=>f.set(L,Q)),t.forEach((L,Q)=>{var le;return D.set(L,new Qc(Q,null!==(le=f.get(L))&&void 0!==le?le:null))}),D))}recalculateAndSaveOverlays(e,t){const s=Td();let u=new si((f,D)=>f-D),l=Kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const D of f)D.keys().forEach(O=>{const L=t.get(O);if(null===L)return;let Q=s.get(O)||Ds.empty();Q=D.applyToLocalView(L,Q),s.set(O,Q);const le=(u.get(D.batchId)||Kn()).add(O);u=u.insert(D.batchId,le)})}).next(()=>{const f=[],D=u.getReverseIterator();for(;D.hasNext();){const O=D.getNext(),L=O.key,Q=O.value,le=_m();Q.forEach(ke=>{if(!l.has(ke)){const Ze=ho(t.get(ke),s.get(ke));null!==Ze&&le.set(ke,Ze),l=l.add(ke)}}),f.push(this.documentOverlayCache.saveOverlays(e,L,le))}return Pe.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return xt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):bl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var u}getNextDocuments(e,t,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,u-l.size):Pe.resolve(du());let D=-1,O=l;return f.next(L=>Pe.forEach(L,(Q,le)=>(D<le.largestBatchId&&(D=le.largestBatchId),l.get(Q)?Pe.resolve():this.remoteDocumentCache.getEntry(e,Q).next(ke=>{O=O.insert(Q,ke)}))).next(()=>this.populateOverlays(e,L,l)).next(()=>this.computeViews(e,O,L,Kn())).next(Q=>({batchId:D,changes:fp(Q)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xt(t)).next(s=>{let u=Cd();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const u=t.collectionGroup;let l=Cd();return this.indexManager.getCollectionParents(e,u).next(f=>Pe.forEach(f,D=>{const O=(L=t,Q=D.child(u),new Zo(Q,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt));var L,Q;return this.getDocumentsMatchingCollectionQuery(e,O,s).next(L=>{L.forEach((Q,le)=>{l=l.insert(Q,le)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,s){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u))).next(l=>{u.forEach((D,O)=>{const L=O.getKey();null===l.get(L)&&(l=l.insert(L,oi.newInvalidDocument(L)))});let f=Cd();return l.forEach((D,O)=>{const L=u.get(D);void 0!==L&&Bc(L.mutation,O,Ds.empty(),ii.now()),tc(t,O)&&(f=f.insert(D,O))}),f})}}class $p{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Pe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Ts(s.createTime)}),Pe.resolve()}getNamedQuery(e,t){return Pe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:Mp(s.bundledQuery),readTime:Ts(s.readTime)}),Pe.resolve();var s}}class af{constructor(){this.overlays=new si(xt.comparator),this.ls=new Map}getOverlay(e,t){return Pe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=du();return Pe.forEach(t,u=>this.getOverlay(e,u).next(l=>{null!==l&&s.set(u,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((u,l)=>{this.we(e,t,l)}),Pe.resolve()}removeOverlaysForBatchId(e,t,s){const u=this.ls.get(s);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(s)),Pe.resolve()}getOverlaysForCollection(e,t,s){const u=du(),l=t.length+1,f=new xt(t.child("")),D=this.overlays.getIteratorFrom(f);for(;D.hasNext();){const O=D.getNext().value,L=O.getKey();if(!t.isPrefixOf(L.path))break;L.path.length===l&&O.largestBatchId>s&&u.set(O.getKey(),O)}return Pe.resolve(u)}getOverlaysForCollectionGroup(e,t,s,u){let l=new si((L,Q)=>L-Q);const f=this.overlays.getIterator();for(;f.hasNext();){const L=f.getNext().value;if(L.getKey().getCollectionGroup()===t&&L.largestBatchId>s){let Q=l.get(L.largestBatchId);null===Q&&(Q=du(),l=l.insert(L.largestBatchId,Q)),Q.set(L.getKey(),L)}}const D=du(),O=l.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((L,Q)=>D.set(L,Q)),!(D.size()>=u)););return Pe.resolve(D)}we(e,t,s){const u=this.overlays.get(s.key);if(null!==u){const f=this.ls.get(u.largestBatchId).delete(s.key);this.ls.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Hh(t,s));let l=this.ls.get(t);void 0===l&&(l=Kn(),this.ls.set(t,l)),this.ls.set(t,l.add(s.key))}}class jp{constructor(){this.fs=new Ii($s.ds),this.ws=new Ii($s._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new $s(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new $s(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new xt(new ar([])),s=new $s(t,e),u=new $s(t,e+1),l=[];return this.ws.forEachInRange([s,u],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new xt(new ar([])),s=new $s(t,e),u=new $s(t,e+1);let l=Kn();return this.ws.forEachInRange([s,u],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new $s(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class $s{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return xt.comparator(e.key,t.key)||Kt(e.As,t.As)}static _s(e,t){return Kt(e.As,t.As)||xt.comparator(e.key,t.key)}}class uf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ii($s.ds)}checkEmpty(e){return Pe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,u){const l=this.vs;this.vs++;const f=new Ml(l,t,s,u);this.mutationQueue.push(f);for(const D of u)this.Rs=this.Rs.add(new $s(D.key,l)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Pe.resolve(f)}lookupMutationBatch(e,t){return Pe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.bs(t+1),l=u<0?0:u;return Pe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new $s(t,0),u=new $s(t,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([s,u],f=>{const D=this.Ps(f.As);l.push(D)}),Pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ii(Kt);return t.forEach(u=>{const l=new $s(u,0),f=new $s(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],D=>{s=s.add(D.As)})}),Pe.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,u=s.length+1;let l=s;xt.isDocumentKey(l)||(l=l.child(""));const f=new $s(new xt(l),0);let D=new Ii(Kt);return this.Rs.forEachWhile(O=>{const L=O.key.path;return!!s.isPrefixOf(L)&&(L.length===u&&(D=D.add(O.As)),!0)},f),Pe.resolve(this.Vs(D))}Vs(e){const t=[];return e.forEach(s=>{const u=this.Ps(s);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){on(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Pe.forEach(t.mutations,u=>{const l=new $s(u.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new $s(t,0),u=this.Rs.firstAfterOrEqual(s);return Pe.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return Pe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Jc{constructor(e){this.Ds=e,this.docs=new si(xt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,u=this.docs.get(s),l=u?u.size:0,f=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Pe.resolve(s?s.document.mutableCopy():oi.newInvalidDocument(t))}getEntries(e,t){let s=aa();return t.forEach(u=>{const l=this.docs.get(u);s=s.insert(u,l?l.document.mutableCopy():oi.newInvalidDocument(u))}),Pe.resolve(s)}getDocumentsMatchingQuery(e,t,s,u){let l=aa();const f=t.path,D=new xt(f.child("")),O=this.docs.getIteratorFrom(D);for(;O.hasNext();){const{key:L,value:{document:Q}}=O.getNext();if(!f.isPrefixOf(L.path))break;L.path.length>f.length+1||Wu(Ja(Q),s)<=0||(u.has(Q.key)||tc(t,Q))&&(l=l.insert(Q.key,Q.mutableCopy()))}return Pe.resolve(l)}getAllFromCollectionGroup(e,t,s,u){zt()}Cs(e,t){return Pe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Hp(this)}getSize(e){return Pe.resolve(this.size)}}class Hp extends $m{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?t.push(this.os.addEntry(e,u)):this.os.removeEntry(s)}),Pe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Gp{constructor(e){this.persistence=e,this.xs=new Oa(t=>Na(t),Wa),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.Ns=0,this.ks=new jp,this.targetCount=0,this.Ms=Kc.kn()}forEachTarget(e,t){return this.xs.forEach((s,u)=>t(u)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Pe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Kc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Pe.resolve()}updateTargetData(e,t){return this.Fn(t),Pe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,t,s){let u=0;const l=[];return this.xs.forEach((f,D)=>{D.sequenceNumber<=t&&null===s.get(D.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,D.targetId)),u++)}),Pe.waitFor(l).next(()=>u)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Pe.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Pe.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const u=this.persistence.referenceDelegate,l=[];return u&&t.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Pe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Pe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Pe.resolve(s)}containsKey(e,t){return Pe.resolve(this.ks.containsKey(t))}}class zp{constructor(e,t){this.$s={},this.overlays={},this.Os=new k(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Gp(this),this.indexManager=new Om,this.remoteDocumentCache=new Jc(s=>this.referenceDelegate.Ls(s)),this.serializer=new Ul(t),this.qs=new $p(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new af,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new uf(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){gt("MemoryPersistence","Starting transaction:",e);const u=new Av(this.Os.next());return this.referenceDelegate.Us(),s(u).next(l=>this.referenceDelegate.Ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gs(e,t){return Pe.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class Av extends Tu{constructor(e){super(),this.currentSequenceNumber=e}}class Gd{constructor(e){this.persistence=e,this.Qs=new jp,this.js=null}static zs(e){return new Gd(e)}get Ws(){if(this.js)return this.js;throw zt()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Pe.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Pe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Pe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(u=>this.Ws.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(l=>this.Ws.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.Ws,s=>{const u=xt.fromPath(s);return this.Hs(e,u).next(l=>{l||t.removeEntry(u,an.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Pe.or([()=>Pe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class qd{constructor(e,t,s,u){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=u}static Li(e,t){let s=Kn(),u=Kn();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new qd(e,t.fromCache,s,u)}}class xv{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,u){return this.Ki(e,t).next(l=>l||this.Gi(e,t,u,s)).next(l=>l||this.Qi(e,t))}Ki(e,t){if(Ed(t))return Pe.resolve(null);let s=Qs(t);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=Pc(t,null,"F"),s=Qs(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const f=Kn(...l);return this.Ui.getDocuments(e,f).next(D=>this.indexManager.getMinOffset(e,s).next(O=>{const L=this.ji(t,D);return this.zi(t,L,f,O.readTime)?this.Ki(e,Pc(t,null,"F")):this.Wi(e,L,t,O)}))})))}Gi(e,t,s,u){return Ed(t)||u.isEqual(an.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(l=>{const f=this.ji(t,l);return this.zi(t,f,s,u)?this.Qi(e,t):(Ks()<=ue.in.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),kh(t)),this.Wi(e,f,t,function Ba(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,u=an.fromTimestamp(1e9===s?new ii(t+1,0):new ii(t,s));return new Es(u,xt.empty(),e)}(u,-1)))})}ji(e,t){let s=new Ii(hp(e));return t.forEach((u,l)=>{tc(e,l)&&(s=s.add(l))}),s}zi(e,t,s,u){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Qi(e,t){return Ks()<=ue.in.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",kh(t)),this.Ui.getDocumentsMatchingQuery(e,t,Es.min())}Wi(e,t,s,u){return this.Ui.getDocumentsMatchingQuery(e,s,u).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}class uw{constructor(e,t,s,u){this.persistence=e,this.Hi=t,this.serializer=u,this.Ji=new si(Kt),this.Yi=new Oa(l=>Na(l),Wa),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hm(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function qm(i,e){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,de.Z)(function*(i,e){const t=Ct(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let u;return t.mutationQueue.getAllMutationBatches(s).next(l=>(u=l,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const f=[],D=[];let O=Kn();for(const L of u){f.push(L.batchId);for(const Q of L.mutations)O=O.add(Q.key)}for(const L of l){D.push(L.batchId);for(const Q of L.mutations)O=O.add(Q.key)}return t.localDocuments.getDocuments(s,O).next(L=>({er:L,removedBatchIds:f,addedBatchIds:D}))})})}),Wm.apply(this,arguments)}function Wd(i){const e=Ct(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Wp(i,e){const t=Ct(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function dc(i,e,t){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,de.Z)(function*(i,e,t){const s=Ct(i),u=s.Ji.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,f=>s.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!Oi(f))throw f;gt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(u.target)}),Kd.apply(this,arguments)}function hc(i,e,t){const s=Ct(i);let u=an.min(),l=Kn();return s.persistence.runTransaction("Execute query","readonly",f=>function(D,O,L){const Q=Ct(D),le=Q.Yi.get(L);return void 0!==le?Pe.resolve(Q.Ji.get(le)):Q.Bs.getTargetData(O,L)}(s,f,Qs(e)).next(D=>{if(D)return u=D.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(f,D.targetId).next(O=>{l=O})}).next(()=>s.Hi.getDocumentsMatchingQuery(f,e,t?u:an.min(),t?l:Kn())).next(D=>(function Kp(i,e,t){let s=i.Xi.get(e)||an.min();t.forEach((u,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.Xi.set(e,s)}(s,function ym(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),D),{documents:D,ir:l})))}class Xp{constructor(){this.activeTargetIds=function Sd(){return gp}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zm{constructor(){this.Hr=new Xp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Xp,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eg{Yr(e){}shutdown(){}}class pf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gf=null;function mf(){return null===gf?gf=268435456+Math.round(2147483648*Math.random()):gf++,"0x"+gf.toString(16)}const tg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yf{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Uo="WebChannelConnection";class Ym extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,u,l){const f=mf(),D=this.To(e,t);gt("RestConnection",`Sending RPC '${e}' ${f}:`,D,s);const O={};return this.Eo(O,u,l),this.Ao(e,D,O,s).then(L=>(gt("RestConnection",`Received RPC '${e}' ${f}: `,L),L),L=>{throw Zs("RestConnection",`RPC '${e}' ${f} failed with error: `,L,"url: ",D,"request:",s),L})}vo(e,t,s,u,l,f){return this.Io(e,t,s,u,l)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+ri,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,l)=>e[l]=u),s&&s.headers.forEach((u,l)=>e[l]=u)}To(e,t){return`${this.mo}/v1/${t}:${tg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,u){const l=mf();return new Promise((f,D)=>{const O=new Tr;O.setWithCredentials(!0),O.listenOnce(Xt.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case Be.NO_ERROR:const Q=O.getResponseJson();gt(Uo,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(Q)),f(Q);break;case Be.TIMEOUT:gt(Uo,`RPC '${e}' ${l} timed out`),D(new dt($e.DEADLINE_EXCEEDED,"Request time out"));break;case Be.HTTP_ERROR:const le=O.getStatus();if(gt(Uo,`RPC '${e}' ${l} failed with status:`,le,"response text:",O.getResponseText()),le>0){let ke=O.getResponseJson();Array.isArray(ke)&&(ke=ke[0]);const Ze=ke?.error;if(Ze&&Ze.status&&Ze.message){const Tt=function(qt){const en=qt.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(en)>=0?en:$e.UNKNOWN}(Ze.status);D(new dt(Tt,Ze.message))}else D(new dt($e.UNKNOWN,"Server responded with status "+O.getStatus()))}else D(new dt($e.UNAVAILABLE,"Connection failed."));break;default:zt()}}finally{gt(Uo,`RPC '${e}' ${l} completed.`)}});const L=JSON.stringify(u);gt(Uo,`RPC '${e}' ${l} sending request:`,u),O.send(t,"POST",L,s,15)})}Ro(e,t,s){const u=mf(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ae(),D=Ue(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},L=this.longPollingOptions.timeoutSeconds;void 0!==L&&(O.longPollingTimeout=Math.round(1e3*L)),this.useFetchStreams&&(O.xmlHttpFactory=new dr({})),this.Eo(O.initMessageHeaders,t,s),O.encodeInitMessageHeaders=!0;const Q=l.join("");gt(Uo,`Creating RPC '${e}' stream ${u}: ${Q}`,O);const le=f.createWebChannel(Q,O);let ke=!1,Ze=!1;const Tt=new yf({ro:en=>{Ze?gt(Uo,`Not sending because RPC '${e}' stream ${u} is closed:`,en):(ke||(gt(Uo,`Opening RPC '${e}' stream ${u} transport.`),le.open(),ke=!0),gt(Uo,`RPC '${e}' stream ${u} sending:`,en),le.send(en))},oo:()=>le.close()}),qt=(en,or,Lr)=>{en.listen(or,fr=>{try{Lr(fr)}catch(js){setTimeout(()=>{throw js},0)}})};return qt(le,Mn.EventType.OPEN,()=>{Ze||gt(Uo,`RPC '${e}' stream ${u} transport opened.`)}),qt(le,Mn.EventType.CLOSE,()=>{Ze||(Ze=!0,gt(Uo,`RPC '${e}' stream ${u} transport closed`),Tt.wo())}),qt(le,Mn.EventType.ERROR,en=>{Ze||(Ze=!0,Zs(Uo,`RPC '${e}' stream ${u} transport errored:`,en),Tt.wo(new dt($e.UNAVAILABLE,"The operation could not be completed")))}),qt(le,Mn.EventType.MESSAGE,en=>{var or;if(!Ze){const Lr=en.data[0];on(!!Lr);const js=Lr.error||(null===(or=Lr[0])||void 0===or?void 0:or.error);if(js){gt(Uo,`RPC '${e}' stream ${u} received error:`,js);const Hs=js.status;let Bi=function(pl){const w0=h[pl];if(void 0!==w0)return j(w0)}(Hs),la=js.message;void 0===Bi&&(Bi=$e.INTERNAL,la="Unknown error status: "+Hs+" with message "+js.message),Ze=!0,Tt.wo(new dt(Bi,la)),le.close()}else gt(Uo,`RPC '${e}' stream ${u} received:`,Lr),Tt._o(Lr)}}),qt(D,ir.STAT_EVENT,en=>{en.stat===Dn.PROXY?gt(Uo,`RPC '${e}' stream ${u} detected buffering proxy`):en.stat===Dn.NOPROXY&&gt(Uo,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Tt.fo()},0),Tt}}function Jd(){return typeof document<"u"?document:null}function vf(i){return new Ol(i,!0)}class ng{constructor(e,t,s=1e3,u=1.5,l=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=u,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),u=Math.max(0,t-s);u>0&&gt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Xd{constructor(e,t,s,u,l,f,D,O){this.ii=e,this.$o=s,this.Oo=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=D,this.listener=O,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ng(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,de.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,de.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,de.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===$e.RESOURCE_EXHAUSTED?(hr(t.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===$e.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Fo===t&&this.Zo(s,u)},s=>{e(()=>{const u=new dt($e.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(u)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{s(()=>this.tu(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,de.Z)(function*(){e.state=0,e.start()}))}tu(e){return gt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nv extends Xd{constructor(e,t,s,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,u,f),this.serializer=l}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Cp(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:zt(),u=e.targetChange.targetIds||[],l=function(O,L){return O.useProto3Json?(on(void 0===L||"string"==typeof L),Ki.fromBase64String(L||"")):(on(void 0===L||L instanceof Uint8Array),Ki.fromUint8Array(L||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,D=f&&function(O){const L=void 0===O.code?$e.UNKNOWN:j(O.code);return new dt(L,O.message||"")}(f);t=new Gc(s,u,l,D||null)}else if("documentChange"in e){const s=e.documentChange,u=Pa(i,s.document.name),l=Ts(s.document.updateTime),f=s.document.createTime?Ts(s.document.createTime):an.min(),D=new ki({mapValue:{fields:s.document.fields}}),O=oi.newFoundDocument(u,l,f,D);t=new jc(s.targetIds||[],s.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const s=e.documentDelete,u=Pa(i,s.document),l=s.readTime?Ts(s.readTime):an.min(),f=oi.newNoDocument(u,l);t=new jc([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,u=Pa(i,s.document);t=new jc([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return zt();{const s=e.filter,{count:u=0,unchangedNames:l}=s,f=new w(u,l);t=new Hc(s.targetId,f)}}var O;return t}(this.serializer,e),s=function(u){if(!("targetChange"in u))return an.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?an.min():l.readTime?Ts(l.readTime):an.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=Ru(this.serializer),t.addTarget=function(u,l){let f;const D=l.target;if(f=Nc(D)?{documents:Dm(u,D)}:{query:bp(u,D)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=yv(u,l.resumeToken);const O=Pl(u,l.expectedCount);null!==O&&(f.expectedCount=O)}else if(l.snapshotVersion.compareTo(an.min())>0){f.readTime=kl(u,l.snapshotVersion.toTimestamp());const O=Pl(u,l.expectedCount);null!==O&&(f.expectedCount=O)}return f}(this.serializer,e);const s=function Tm(i,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=Ru(this.serializer),t.removeTarget=e,this.Wo(t)}}class Kl extends Xd{constructor(e,t,s,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,u,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(on(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Im(i,e){return i&&i.length>0?(on(void 0!==e),i.map(t=>function(s,u){let l=Ts(s.updateTime?s.updateTime:u);return l.isEqual(an.min())&&(l=Ts(u)),new Yo(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Ts(e.commitTime);return this.listener.cu(s,t)}return on(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ru(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function Nu(i,e){let t;if(e instanceof sc)t={update:Wh(i,e.key,e.value)};else if(e instanceof $c)t={delete:Fl(i,e.key)};else if(e instanceof Za)t={update:Wh(i,e.key,e.data),updateMask:_v(e.fieldMask)};else{if(!(e instanceof jh))return zt();t={verify:Fl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,l){const f=l.transform;if(f instanceof Fc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ic)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof hu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Lc)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw zt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Gh(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:zt()),t;var u}(this.serializer,s))};this.Wo(t)}}class eh extends class{}{constructor(e,t,s,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new dt($e.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Io(e,t,s,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new dt($e.UNKNOWN,u.toString())})}vo(e,t,s,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,t,s,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new dt($e.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class Pv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(hr(t),this.mu=!1):gt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class kv{constructor(e,t,s,u,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(D=>{s.enqueueAndForget((0,de.Z)(function*(){var O;Lu(f)&&(gt("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,de.Z)(function*(L){const Q=Ct(L);Q.vu.add(4),yield Xc(Q),Q.bu.set("Unknown"),Q.vu.delete(4),yield th(Q)}),function(L){return O.apply(this,arguments)})(f))}))}),this.bu=new Pv(s,u)}}function th(i){return wf.apply(this,arguments)}function wf(){return wf=(0,de.Z)(function*(i){if(Lu(i))for(const e of i.Ru)yield e(!0)}),wf.apply(this,arguments)}function Xc(i){return nh.apply(this,arguments)}function nh(){return nh=(0,de.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),nh.apply(this,arguments)}function fc(i,e){const t=Ct(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Yl(t)?pc(t):tl(t).Ko()&&Jm(t,e))}function Zl(i,e){const t=Ct(i),s=tl(t);t.Au.delete(e),s.Ko()&&Ef(t,e),0===t.Au.size&&(s.Ko()?s.jo():Lu(t)&&t.bu.set("Unknown"))}function Jm(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(an.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tl(i).su(e)}function Ef(i,e){i.Vu.qt(e),tl(i).iu(e)}function pc(i){i.Vu=new zc({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),tl(i).start(),i.bu.gu()}function Yl(i){return Lu(i)&&!tl(i).Uo()&&i.Au.size>0}function Lu(i){return 0===Ct(i).vu.size}function rg(i){i.Vu=void 0}function Fv(i){return ig.apply(this,arguments)}function ig(){return ig=(0,de.Z)(function*(i){i.Au.forEach((e,t)=>{Jm(i,e)})}),ig.apply(this,arguments)}function Lv(i,e){return sg.apply(this,arguments)}function sg(){return sg=(0,de.Z)(function*(i,e){rg(i),Yl(i)?(i.bu.Iu(e),pc(i)):i.bu.set("Unknown")}),sg.apply(this,arguments)}function Vv(i,e,t){return og.apply(this,arguments)}function og(){return og=(0,de.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof Gc&&2===e.state&&e.cause)try{yield(s=(0,de.Z)(function*(u,l){const f=l.cause;for(const D of l.targetIds)u.Au.has(D)&&(yield u.remoteSyncer.rejectListen(D,f),u.Au.delete(D),u.Vu.removeTarget(D))}),function(u,l){return s.apply(this,arguments)})(i,e)}catch(s){gt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield rh(i,s)}else if(e instanceof jc?i.Vu.Ht(e):e instanceof Hc?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(an.min()))try{const s=yield Wd(i.localStore);t.compareTo(s)>=0&&(yield function(u,l){const f=u.Vu.ce(l);return f.targetChanges.forEach((D,O)=>{if(D.resumeToken.approximateByteSize()>0){const L=u.Au.get(O);L&&u.Au.set(O,L.withResumeToken(D.resumeToken,l))}}),f.targetMismatches.forEach((D,O)=>{const L=u.Au.get(D);if(!L)return;u.Au.set(D,L.withResumeToken(Ki.EMPTY_BYTE_STRING,L.snapshotVersion)),Ef(u,D);const Q=new Ou(L.target,D,O,L.sequenceNumber);Jm(u,Q)}),u.remoteSyncer.applyRemoteEvent(f)}(i,t))}catch(s){gt("RemoteStore","Failed to raise snapshot:",s),yield rh(i,s)}var s}),og.apply(this,arguments)}function rh(i,e,t){return gc.apply(this,arguments)}function gc(){return gc=(0,de.Z)(function*(i,e,t){if(!Oi(e))throw e;i.vu.add(1),yield Xc(i),i.bu.set("Offline"),t||(t=()=>Wd(i.localStore)),i.asyncQueue.enqueueRetryable((0,de.Z)(function*(){gt("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield th(i)}))}),gc.apply(this,arguments)}function gu(i,e){return e().catch(t=>rh(i,t,e))}function el(i){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,de.Z)(function*(i){const e=Ct(i),t=mc(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Uv(e);)try{const u=yield Wp(e.localStore,s);if(null===u){0===e.Eu.length&&t.jo();break}s=u.batchId,dw(e,u)}catch(u){yield rh(e,u)}Bv(e)&&ag(e)}),Xm.apply(this,arguments)}function Uv(i){return Lu(i)&&i.Eu.length<10}function dw(i,e){i.Eu.push(e);const t=mc(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function Bv(i){return Lu(i)&&!mc(i).Uo()&&i.Eu.length>0}function ag(i){mc(i).start()}function ey(i){return ty.apply(this,arguments)}function ty(){return ty=(0,de.Z)(function*(i){mc(i).hu()}),ty.apply(this,arguments)}function ny(i){return Ql.apply(this,arguments)}function Ql(){return Ql=(0,de.Z)(function*(i){const e=mc(i);for(const t of i.Eu)e.uu(t.mutations)}),Ql.apply(this,arguments)}function ry(i,e,t){return If.apply(this,arguments)}function If(){return If=(0,de.Z)(function*(i,e,t){const s=i.Eu.shift(),u=xl.from(s,e,t);yield gu(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield el(i)}),If.apply(this,arguments)}function iy(i,e){return qn.apply(this,arguments)}function qn(){return qn=(0,de.Z)(function*(i,e){var t;e&&mc(i).ou&&(yield(t=(0,de.Z)(function*(s,u){if(function C(i){switch(i){default:return zt();case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0}}(l=u.code)&&l!==$e.ABORTED){const f=s.Eu.shift();mc(s).Qo(),yield gu(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield el(s)}var l}),function(s,u){return t.apply(this,arguments)})(i,e)),Bv(i)&&ag(i)}),qn.apply(this,arguments)}function ug(i,e){return Df.apply(this,arguments)}function Df(){return Df=(0,de.Z)(function*(i,e){const t=Ct(i);t.asyncQueue.verifyOperationInProgress(),gt("RemoteStore","RemoteStore received new credentials");const s=Lu(t);t.vu.add(3),yield Xc(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield th(t)}),Df.apply(this,arguments)}function cg(){return cg=(0,de.Z)(function*(i,e){const t=Ct(i);e?(t.vu.delete(2),yield th(t)):e||(t.vu.add(2),yield Xc(t),t.bu.set("Unknown"))}),cg.apply(this,arguments)}function tl(i){return i.Su||(i.Su=function(e,t,s){const u=Ct(e);return u.fu(),new Nv(t,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(i.datastore,i.asyncQueue,{uo:Fv.bind(null,i),ao:Lv.bind(null,i),nu:Vv.bind(null,i)}),i.Ru.push(function(){var e=(0,de.Z)(function*(t){t?(i.Su.Qo(),Yl(i)?pc(i):i.bu.set("Unknown")):(yield i.Su.stop(),rg(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function mc(i){return i.Du||(i.Du=function(e,t,s){const u=Ct(e);return u.fu(),new Kl(t,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(i.datastore,i.asyncQueue,{uo:ey.bind(null,i),ao:iy.bind(null,i),au:ny.bind(null,i),cu:ry.bind(null,i)}),i.Ru.push(function(){var e=(0,de.Z)(function*(t){t?(i.Du.Qo(),yield el(i)):(yield i.Du.stop(),i.Eu.length>0&&(gt("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class lg{constructor(e,t,s,u,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=u,this.removalCallback=l,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,u,l){const f=Date.now()+s,D=new lg(e,t,f,u,l);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dt($e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nl(i,e){if(hr("AsyncQueue",`${e}: ${i}`),Oi(i))return new dt($e.UNAVAILABLE,`${e}: ${i}`);throw i}class Jl{constructor(e){this.comparator=e?(t,s)=>e(t,s)||xt.comparator(t.key,s.key):(t,s)=>xt.comparator(t.key,s.key),this.keyedMap=Cd(),this.sortedSet=new si(this.comparator)}static emptySet(e){return new Jl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,l=s.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Jl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class dg{constructor(){this.Cu=new si(xt.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):zt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Xl{constructor(e,t,s,u,l,f,D,O,L){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=D,this.excludesMetadataChanges=O,this.hasCachedResults=L}static fromInitialDocuments(e,t,s,u,l){const f=[];return t.forEach(D=>{f.push({type:0,doc:D})}),new Xl(e,t,Jl.emptySet(t),f,s,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==s[u].type||!t[u].doc.isEqual(s[u].doc))return!1;return!0}}class $v{constructor(){this.Nu=void 0,this.listeners=[]}}class hw{constructor(){this.queries=new Oa(e=>Id(e),kc),this.onlineState="Unknown",this.ku=new Set}}function Cf(i,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,de.Z)(function*(i,e){const t=Ct(i),s=e.query;let u=!1,l=t.queries.get(s);if(l||(u=!0,l=new $v),u)try{l.Nu=yield t.onListen(s)}catch(f){const D=nl(f,`Initialization of query '${kh(e.query)}' failed`);return void e.onError(D)}t.queries.set(s,l),l.listeners.push(e),e.Mu(t.onlineState),l.Nu&&e.$u(l.Nu)&&ed(t)}),Tf.apply(this,arguments)}function mu(i,e){return yc.apply(this,arguments)}function yc(){return yc=(0,de.Z)(function*(i,e){const t=Ct(i),s=e.query;let u=!1;const l=t.queries.get(s);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return t.queries.delete(s),t.onUnlisten(s)}),yc.apply(this,arguments)}function oy(i,e){const t=Ct(i);let s=!1;for(const u of e){const f=t.queries.get(u.query);if(f){for(const D of f.listeners)D.$u(u)&&(s=!0);f.Nu=u}}s&&ed(t)}function jv(i,e,t){const s=Ct(i),u=s.queries.get(e);if(u)for(const l of u.listeners)l.onError(t);s.queries.delete(e)}function ed(i){i.ku.forEach(e=>{e.next()})}class vc{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new Xl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Sf{constructor(e){this.key=e}}class Af{constructor(e){this.key=e}}class fg{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Kn(),this.mutatedKeys=Kn(),this.tc=hp(e),this.ec=new Jl(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new dg,u=t?t.ec:this.ec;let l=t?t.mutatedKeys:this.mutatedKeys,f=u,D=!1;const O="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,L="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((Q,le)=>{const ke=u.get(Q),Ze=tc(this.query,le)?le:null,Tt=!!ke&&this.mutatedKeys.has(ke.key),qt=!!Ze&&(Ze.hasLocalMutations||this.mutatedKeys.has(Ze.key)&&Ze.hasCommittedMutations);let en=!1;ke&&Ze?ke.data.isEqual(Ze.data)?Tt!==qt&&(s.track({type:3,doc:Ze}),en=!0):this.rc(ke,Ze)||(s.track({type:2,doc:Ze}),en=!0,(O&&this.tc(Ze,O)>0||L&&this.tc(Ze,L)<0)&&(D=!0)):!ke&&Ze?(s.track({type:0,doc:Ze}),en=!0):ke&&!Ze&&(s.track({type:1,doc:ke}),en=!0,(O||L)&&(D=!0)),en&&(Ze?(f=f.add(Ze),l=qt?l.add(Q):l.delete(Q)):(f=f.delete(Q),l=l.delete(Q)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const Q="F"===this.query.limitType?f.last():f.first();f=f.delete(Q.key),l=l.delete(Q.key),s.track({type:1,doc:Q})}return{ec:f,ic:s,zi:D,mutatedKeys:l}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((L,Q)=>function(le,ke){const Ze=Tt=>{switch(Tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt()}};return Ze(le)-Ze(ke)}(L.type,Q.type)||this.tc(L.doc,Q.doc)),this.oc(s);const f=t?this.uc():[],D=0===this.Zu.size&&this.current?1:0,O=D!==this.Xu;return this.Xu=D,0!==l.length||O?{snapshot:new Xl(this.query,e.ec,u,l,e.mutatedKeys,0===D,O,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new dg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Kn(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Af(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new Sf(s))}),t}hc(e){this.Yu=e.ir,this.Zu=Kn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Xl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class pg{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Hv{constructor(e){this.key=e,this.fc=!1}}class Gv{constructor(e,t,s,u,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new Oa(D=>Id(D),kc),this._c=new Map,this.mc=new Set,this.gc=new si(xt.comparator),this.yc=new Map,this.Ic=new jp,this.Tc={},this.Ec=new Map,this.Ac=Kc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function zv(i,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,de.Z)(function*(i,e){const t=function Rg(i){const e=Ct(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=cy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wv.bind(null,e),e.dc.nu=oy.bind(null,e.eventManager),e.dc.Pc=jv.bind(null,e.eventManager),e}(i);let s,u;const l=t.wc.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),u=l.view.lc();else{const f=yield function pu(i,e){const t=Ct(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return t.Bs.getTargetData(s,e).next(l=>l?(u=l,Pe.resolve(u)):t.Bs.allocateTargetId(s).next(f=>(u=new Ou(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=t.Ji.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}(t.localStore,Qs(e)),D=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,u=yield function gg(i,e,t,s,u){return mg.apply(this,arguments)}(t,e,s,"current"===D,f.resumeToken),t.isPrimaryClient&&fc(t.remoteStore,f)}return u}),Mf.apply(this,arguments)}function mg(){return mg=(0,de.Z)(function*(i,e,t,s,u){i.Rc=(le,ke,Ze)=>{return(Tt=(0,de.Z)(function*(qt,en,or,Lr){let fr=en.view.sc(or);fr.zi&&(fr=yield hc(qt.localStore,en.query,!1).then(({documents:Bi})=>en.view.sc(Bi,fr)));const js=Lr&&Lr.targetChanges.get(en.targetId),Hs=en.view.applyChanges(fr,qt.isPrimaryClient,js);return Dg(qt,en.targetId,Hs.cc),Hs.snapshot}),function(qt,en,or,Lr){return Tt.apply(this,arguments)})(i,le,ke,Ze);var Tt};const l=yield hc(i.localStore,e,!0),f=new fg(e,l.ir),D=f.sc(l.documents),O=fu.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,u),L=f.applyChanges(D,i.isPrimaryClient,O);Dg(i,t,L.cc);const Q=new pg(e,t,f);return i.wc.set(e,Q),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),L.snapshot}),mg.apply(this,arguments)}function qv(i,e){return yg.apply(this,arguments)}function yg(){return yg=(0,de.Z)(function*(i,e){const t=Ct(i),s=t.wc.get(e),u=t._c.get(s.targetId);if(u.length>1)return t._c.set(s.targetId,u.filter(l=>!kc(l,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield dc(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Zl(t.remoteStore,s.targetId),nd(t,s.targetId)}).catch(Co))):(nd(t,s.targetId),yield dc(t.localStore,s.targetId,!0))}),yg.apply(this,arguments)}function xf(){return xf=(0,de.Z)(function*(i,e,t){const s=function Ng(i){const e=Ct(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ly.bind(null,e),e}(i);try{const u=yield function(l,f){const D=Ct(l),O=ii.now(),L=f.reduce((ke,Ze)=>ke.add(Ze.key),Kn());let Q,le;return D.persistence.runTransaction("Locally write mutations","readwrite",ke=>{let Ze=aa(),Tt=Kn();return D.Zi.getEntries(ke,L).next(qt=>{Ze=qt,Ze.forEach((en,or)=>{or.isValidDocument()||(Tt=Tt.add(en))})}).next(()=>D.localDocuments.getOverlayedDocuments(ke,Ze)).next(qt=>{Q=qt;const en=[];for(const or of f){const Lr=_p(or,Q.get(or.key).overlayedDocument);null!=Lr&&en.push(new Za(or.key,Lr,Lo(Lr.value.mapValue),Fi.exists(!0)))}return D.mutationQueue.addMutationBatch(ke,O,en,f)}).next(qt=>{le=qt;const en=qt.applyToLocalDocumentSet(Q,Tt);return D.documentOverlayCache.saveOverlays(ke,qt.batchId,en)})}).then(()=>({batchId:le.batchId,changes:fp(Q)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(l,f,D){let O=l.Tc[l.currentUser.toKey()];O||(O=new si(Kt)),O=O.insert(f,D),l.Tc[l.currentUser.toKey()]=O}(s,u.batchId,t),yield Vu(s,u.changes),yield el(s.remoteStore)}catch(u){const l=nl(u,"Failed to persist write");t.reject(l)}}),xf.apply(this,arguments)}function cy(i,e){return vg.apply(this,arguments)}function vg(){return vg=(0,de.Z)(function*(i,e){const t=Ct(i);try{const s=yield function Rv(i,e){const t=Ct(i),s=e.snapshotVersion;let u=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});u=t.Ji;const D=[];e.targetChanges.forEach((Q,le)=>{const ke=u.get(le);if(!ke)return;D.push(t.Bs.removeMatchingKeys(l,Q.removedDocuments,le).next(()=>t.Bs.addMatchingKeys(l,Q.addedDocuments,le)));let Ze=ke.withSequenceNumber(l.currentSequenceNumber);var Tt,qt,en;null!==e.targetMismatches.get(le)?Ze=Ze.withResumeToken(Ki.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):Q.resumeToken.approximateByteSize()>0&&(Ze=Ze.withResumeToken(Q.resumeToken,s)),u=u.insert(le,Ze),qt=Ze,en=Q,(0===(Tt=ke).resumeToken.approximateByteSize()||qt.snapshotVersion.toMicroseconds()-Tt.snapshotVersion.toMicroseconds()>=3e8||en.addedDocuments.size+en.modifiedDocuments.size+en.removedDocuments.size>0)&&D.push(t.Bs.updateTargetData(l,Ze))});let O=aa(),L=Kn();if(e.documentUpdates.forEach(Q=>{e.resolvedLimboDocuments.has(Q)&&D.push(t.persistence.referenceDelegate.updateLimboDocument(l,Q))}),D.push(function df(i,e,t){let s=Kn(),u=Kn();return t.forEach(l=>s=s.add(l)),e.getEntries(i,s).next(l=>{let f=aa();return t.forEach((D,O)=>{const L=l.get(D);O.isFoundDocument()!==L.isFoundDocument()&&(u=u.add(D)),O.isNoDocument()&&O.version.isEqual(an.min())?(e.removeEntry(D,O.readTime),f=f.insert(D,O)):!L.isValidDocument()||O.version.compareTo(L.version)>0||0===O.version.compareTo(L.version)&&L.hasPendingWrites?(e.addEntry(O),f=f.insert(D,O)):gt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",L.version," Watch version:",O.version)}),{nr:f,sr:u}})}(l,f,e.documentUpdates).next(Q=>{O=Q.nr,L=Q.sr})),!s.isEqual(an.min())){const Q=t.Bs.getLastRemoteSnapshotVersion(l).next(le=>t.Bs.setTargetsMetadata(l,l.currentSequenceNumber,s));D.push(Q)}return Pe.waitFor(D).next(()=>f.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,O,L)).next(()=>O)}).then(l=>(t.Ji=u,l))}(t.localStore,e);e.targetChanges.forEach((u,l)=>{const f=t.yc.get(l);f&&(on(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.fc=!0:u.modifiedDocuments.size>0?on(f.fc):u.removedDocuments.size>0&&(on(f.fc),f.fc=!1))}),yield Vu(t,s,e)}catch(s){yield Co(s)}}),vg.apply(this,arguments)}function ca(i,e,t){const s=Ct(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const u=[];s.wc.forEach((l,f)=>{const D=f.view.Mu(e);D.snapshot&&u.push(D.snapshot)}),function(l,f){const D=Ct(l);D.onlineState=f;let O=!1;D.queries.forEach((L,Q)=>{for(const le of Q.listeners)le.Mu(f)&&(O=!0)}),O&&ed(D)}(s.eventManager,e),u.length&&s.dc.nu(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Wv(i,e,t){return _g.apply(this,arguments)}function _g(){return _g=(0,de.Z)(function*(i,e,t){const s=Ct(i);s.sharedClientState.updateQueryState(e,"rejected",t);const u=s.yc.get(e),l=u&&u.key;if(l){let f=new si(xt.comparator);f=f.insert(l,oi.newNoDocument(l,an.min()));const D=Kn().add(l),O=new ua(an.min(),new Map,new si(Kt),f,D);yield cy(s,O),s.gc=s.gc.remove(l),s.yc.delete(e),Cg(s)}else yield dc(s.localStore,e,!1).then(()=>nd(s,e,t)).catch(Co)}),_g.apply(this,arguments)}function fw(i,e){return ih.apply(this,arguments)}function ih(){return ih=(0,de.Z)(function*(i,e){const t=Ct(i),s=e.batch.batchId;try{const u=yield function cw(i,e){const t=Ct(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),l=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,D,O,L){const Q=O.batch,le=Q.keys();let ke=Pe.resolve();return le.forEach(Ze=>{ke=ke.next(()=>L.getEntry(D,Ze)).next(Tt=>{const qt=O.docVersions.get(Ze);on(null!==qt),Tt.version.compareTo(qt)<0&&(Q.applyToRemoteDocument(Tt,O),Tt.isValidDocument()&&(Tt.setReadTime(O.commitVersion),L.addEntry(Tt)))})}),ke.next(()=>f.mutationQueue.removeMutationBatch(D,Q))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let D=Kn();for(let O=0;O<f.mutationResults.length;++O)f.mutationResults[O].transformResults.length>0&&(D=D.add(f.batch.mutations[O].key));return D}(e))).next(()=>t.localDocuments.getDocuments(s,u))})}(t.localStore,e);Ig(t,s,null),Rf(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Vu(t,u)}catch(u){yield Co(u)}}),ih.apply(this,arguments)}function ly(i,e,t){return wg.apply(this,arguments)}function wg(){return wg=(0,de.Z)(function*(i,e,t){const s=Ct(i);try{const u=yield function(l,f){const D=Ct(l);return D.persistence.runTransaction("Reject batch","readwrite-primary",O=>{let L;return D.mutationQueue.lookupMutationBatch(O,f).next(Q=>(on(null!==Q),L=Q.keys(),D.mutationQueue.removeMutationBatch(O,Q))).next(()=>D.mutationQueue.performConsistencyCheck(O)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(O,L,f)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(O,L)).next(()=>D.localDocuments.getDocuments(O,L))})}(s.localStore,e);Ig(s,e,t),Rf(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Vu(s,u)}catch(u){yield Co(u)}}),wg.apply(this,arguments)}function Rf(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function Ig(i,e,t){const s=Ct(i);let u=s.Tc[s.currentUser.toKey()];if(u){const l=u.get(e);l&&(t?l.reject(t):l.resolve(),u=u.remove(e)),s.Tc[s.currentUser.toKey()]=u}}function nd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i._c.get(e))i.wc.delete(s),t&&i.dc.Pc(s,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(s=>{i.Ic.containsKey(s)||Nf(i,s)})}function Nf(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(Zl(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),Cg(i))}function Dg(i,e,t){for(const s of t)s instanceof Sf?(i.Ic.addReference(s.key,e),Zv(i,s)):s instanceof Af?(gt("SyncEngine","Document no longer in limbo: "+s.key),i.Ic.removeReference(s.key,e),i.Ic.containsKey(s.key)||Nf(i,s.key)):zt()}function Zv(i,e){const t=e.key,s=t.path.canonicalString();i.gc.get(t)||i.mc.has(s)||(gt("SyncEngine","New document in limbo: "+t),i.mc.add(s),Cg(i))}function Cg(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new xt(ar.fromString(e)),s=i.Ac.next();i.yc.set(s,new Hv(t)),i.gc=i.gc.insert(t,s),fc(i.remoteStore,new Ou(Qs(Oc(t.path)),s,"TargetPurposeLimboResolution",k.ct))}}function Vu(i,e,t){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,de.Z)(function*(i,e,t){const s=Ct(i),u=[],l=[],f=[];var D;s.wc.isEmpty()||(s.wc.forEach((D,O)=>{f.push(s.Rc(O,e,t).then(L=>{if((L||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(O.targetId,L?.fromCache?"not-current":"current"),L){u.push(L);const Q=qd.Li(O.targetId,L);l.push(Q)}}))}),yield Promise.all(f),s.dc.nu(u),yield(D=(0,de.Z)(function*(O,L){const Q=Ct(O);try{yield Q.persistence.runTransaction("notifyLocalViewChanges","readwrite",le=>Pe.forEach(L,ke=>Pe.forEach(ke.Fi,Ze=>Q.persistence.referenceDelegate.addReference(le,ke.targetId,Ze)).next(()=>Pe.forEach(ke.Bi,Ze=>Q.persistence.referenceDelegate.removeReference(le,ke.targetId,Ze)))))}catch(le){if(!Oi(le))throw le;gt("LocalStore","Failed to update sequence numbers: "+le)}for(const le of L){const ke=le.targetId;if(!le.fromCache){const Ze=Q.Ji.get(ke),qt=Ze.withLastLimboFreeSnapshotVersion(Ze.snapshotVersion);Q.Ji=Q.Ji.insert(ke,qt)}}}),function(O,L){return D.apply(this,arguments)})(s.localStore,l))}),Tg.apply(this,arguments)}function yu(i,e){return sh.apply(this,arguments)}function sh(){return sh=(0,de.Z)(function*(i,e){const t=Ct(i);if(!t.currentUser.isEqual(e)){gt("SyncEngine","User change. New user:",e.toKey());const s=yield qm(t.localStore,e);t.currentUser=e,(u=t).Ec.forEach(f=>{f.forEach(D=>{D.reject(new dt($e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Vu(t,s.er)}var u}),sh.apply(this,arguments)}function Yv(i,e){const t=Ct(i),s=t.yc.get(e);if(s&&s.fc)return Kn().add(s.key);{let u=Kn();const l=t._c.get(e);if(!l)return u;for(const f of l){const D=t.wc.get(f);u=u.unionWith(D.view.nc)}return u}}class Og{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,de.Z)(function*(){t.serializer=vf(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function zm(i,e,t,s){return new uw(i,e,t,s)}(this.persistence,new xv,e.initialUser,this.serializer)}createPersistence(e){return new zp(Gd.zs,this.serializer)}createSharedClientState(e){return new Zm}terminate(){var e=this;return(0,de.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vu{initialize(e,t){var s=this;return(0,de.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>ca(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=yu.bind(null,s.syncEngine),yield function sy(i,e){return cg.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hw}createDatastore(e){const t=vf(e.databaseInfo.databaseId),s=new Ym(e.databaseInfo);return new eh(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,u=e.asyncQueue,l=D=>ca(this.syncEngine,D,0),f=pf.D()?new pf:new eg,new kv(t,s,u,l,f);var t,s,u,l,f}createSyncEngine(e,t){return function(s,u,l,f,D,O,L){const Q=new Gv(s,u,l,f,D,O);return L&&(Q.vc=!0),Q}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,de.Z)(function*(t){const s=Ct(t);gt("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield Xc(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Pg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class t_{constructor(e,t,s,u){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=u,this.user=br.UNAUTHENTICATED,this.clientId=Ua.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,de.Z)(function*(D){gt("FirestoreClient","Received user=",D.uid),yield l.authCredentialListener(D),l.user=D});return function(D){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(gt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,de.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new dt($e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const u=nl(s,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Vf(i,e){return lh.apply(this,arguments)}function lh(){return lh=(0,de.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),gt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,de.Z)(function*(l){s.isEqual(l)||(yield qm(e.localStore,l),s=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),lh.apply(this,arguments)}function kg(i,e){return rl.apply(this,arguments)}function rl(){return rl=(0,de.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield function Uf(i){return Bf.apply(this,arguments)}(i);gt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(u=>ug(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>ug(e.remoteStore,l)),i._onlineComponents=e}),rl.apply(this,arguments)}function Bf(){return Bf=(0,de.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){gt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Vf(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function gy(i){return"FirebaseError"===i.name?i.code===$e.FAILED_PRECONDITION||i.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(t))throw t;Zs("Error using user provided cache. Falling back to memory cache: "+t),yield Vf(i,new Og)}}else gt("FirestoreClient","Using default OfflineComponentProvider"),yield Vf(i,new Og);return i._offlineComponents}),Bf.apply(this,arguments)}function $f(i){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,de.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(gt("FirestoreClient","Using user provided OnlineComponentProvider"),yield kg(i,i._uninitializedComponentsProvider._online)):(gt("FirestoreClient","Using default OnlineComponentProvider"),yield kg(i,new vu))),i._onlineComponents}),Fg.apply(this,arguments)}function id(i){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,de.Z)(function*(i){const e=yield $f(i),t=e.eventManager;return t.onListen=zv.bind(null,e.syncEngine),t.onUnlisten=qv.bind(null,e.syncEngine),t}),Vg.apply(this,arguments)}function vy(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const _y=new Map;function jg(i,e,t){if(!t)throw new dt($e.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Hg(i){if(!xt.isDocumentKey(i))throw new dt($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Gg(i){if(xt.isDocumentKey(i))throw new dt($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Hf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":zt()}function zr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new dt($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hf(i);throw new dt($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}class l_{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new dt($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new dt($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function c_(i,e,t,s){if(!0===e&&!0===s)throw new dt($e.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=vy(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new dt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new dt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new dt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _c{constructor(e,t,s,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new dt($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new dt($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ml;switch(t.type){case"firstParty":return new lt(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new dt($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_y.get(e);t&&(gt("ComponentProvider","Removing Datastore"),_y.delete(e),t.terminate())}(this),Promise.resolve()}}class bs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _u(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bs(this.firestore,e,this._key)}}class Js{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Js(this.firestore,e,this._query)}}class _u extends Js{constructor(e,t,s){super(e,t,Oc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bs(this.firestore,null,new xt(e))}withConverter(e){return new _u(this.firestore,e,this._path)}}function wu(i,e,...t){if(i=(0,oe.m9)(i),jg("collection","path",e),i instanceof _c){const s=ar.fromString(e,...t);return Gg(s),new _u(i,null,s)}{if(!(i instanceof bs||i instanceof _u))throw new dt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ar.fromString(e,...t));return Gg(s),new _u(i.firestore,null,s)}}function So(i,e,...t){if(i=(0,oe.m9)(i),1===arguments.length&&(e=Ua.A()),jg("doc","path",e),i instanceof _c){const s=ar.fromString(e,...t);return Hg(s),new bs(i,null,new xt(s))}{if(!(i instanceof bs||i instanceof _u))throw new dt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ar.fromString(e,...t));return Hg(s),new bs(i.firestore,i instanceof _u?i.converter:null,new xt(s))}}class Fa{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ng(this,"async_queue_retry"),this.Xc=()=>{const t=Jd();t&&gt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Jd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Jd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new gi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,de.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Oi(t))throw t;gt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,hr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const u=lg.createAndSchedule(this,e,t,s,l=>this.na(l));return this.zc.push(u),u}Zc(){this.Wc&&zt()}verifyOperationInProgress(){}sa(){var e=this;return(0,de.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function hh(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const u of["next","error","complete"])if(u in s&&"function"==typeof s[u])return!0;return!1}(i)}class mi extends _c{constructor(e,t,s,u){super(e,t,s,u),this.type="firestore",this._queue=new Fa,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||il(this),this._firestoreClient.terminate()}}function ad(i,e){const t="object"==typeof i?i:(0,ut.Mq)(),s="string"==typeof i?i:e||"(default)",u=(0,ut.qX)(t,"firestore").getImmediate({identifier:s});if(!u._initialized){const l=(0,oe.P0)("firestore");l&&function d_(i,e,t,s={}){var u;const l=(i=zr(i,_c))._getSettings(),f=`${e}:${t}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),s.mockUserToken){let D,O;if("string"==typeof s.mockUserToken)D=s.mockUserToken,O=br.MOCK_USER;else{D=(0,oe.Sg)(s.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new dt($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new br(L)}i._authCredentials=new Gu(new Cc(D,O))}}(u,...l)}return u}function Zi(i){return i._firestoreClient||il(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function il(i){var e,t,s;const u=i._freezeSettings(),l=(D=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Rc(i._databaseId,D,i._persistenceKey,(L=u).host,L.ssl,L.experimentalForceLongPolling,L.experimentalAutoDetectLongPolling,vy(L.experimentalLongPollingOptions),L.useFetchStreams));var D,L;i._firestoreClient=new t_(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(t=u.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=u.cache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class ud{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ud(Ki.fromBase64String(e))}catch(t){throw new dt($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ud(Ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new dt($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kg{constructor(e){this._methodName=e}}class wy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new dt($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new dt($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const w_=/^__.*__$/;class mw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Za(e,this.data,this.fieldMask,t,this.fieldTransforms):new sc(e,this.data,t,this.fieldTransforms)}}class Ey{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Za(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Iy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt()}}class zf{constructor(e,t,s,u,l,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new zf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.aa({path:s,la:!1});return u.fa(e),u}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.aa({path:s,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ld(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Iy(this.ca)&&w_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Zg{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||vf(e)}ya(e,t,s,u=!1){return new zf({ca:e,methodName:t,ga:s,path:kr.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eu(i){const e=i._freezeSettings(),t=vf(i._databaseId);return new Zg(i._databaseId,!!e.ignoreUndefinedProperties,t)}function vh(i,e,t,s,u,l={}){const f=i.ya(l.merge||l.mergeFields?2:0,e,t,u);cd("Data must be an object, but it was:",f,s);const D=qf(s,f);let O,L;if(l.merge)O=new Ds(f.fieldMask),L=f.fieldTransforms;else if(l.mergeFields){const Q=[];for(const le of l.mergeFields){const ke=Wf(e,le,t);if(!f.contains(ke))throw new dt($e.INVALID_ARGUMENT,`Field '${ke}' is specified in your field mask but missing from your input data.`);Sy(Q,ke)||Q.push(ke)}O=new Ds(Q),L=f.fieldTransforms.filter(le=>O.covers(le.field))}else O=null,L=f.fieldTransforms;return new mw(new ki(D),O,L)}class wc extends Kg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wc}}function al(i,e){if(wh(i=(0,oe.m9)(i)))return cd("Unsupported field value:",e,i),qf(i,e);if(i instanceof Kg)return function(t,s){if(!Iy(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(s);u&&s.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const u=[];let l=0;for(const f of t){let D=al(f,s.wa(l));null==D&&(D={nullValue:"NULL_VALUE"}),u.push(D),l++}return{arrayValue:{values:u}}}(i,e)}return function(t,s){if(null===(t=(0,oe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Lh(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=ii.fromDate(t);return{timestampValue:kl(s.serializer,u)}}if(t instanceof ii){const u=new ii(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:kl(s.serializer,u)}}if(t instanceof wy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ud)return{bytesValue:yv(s.serializer,t._byteString)};if(t instanceof bs){const u=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(u))throw s._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zh(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${Hf(t)}`)}(i,e)}function qf(i,e){const t={};return tu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(i,(s,u)=>{const l=al(u,e.ha(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function wh(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ii||i instanceof wy||i instanceof ud||i instanceof bs||i instanceof Kg)}function cd(i,e,t){if(!wh(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Hf(t);throw e._a("an object"===s?i+" a custom object":i+" "+s)}var s}function Wf(i,e,t){if((e=(0,oe.m9)(e))instanceof yh)return e._internalPath;if("string"==typeof e)return Kf(i,e);throw ld("Field path arguments must be of type string or ",i,!1,void 0,t)}const I_=new RegExp("[~\\*/\\[\\]]");function Kf(i,e,t){if(e.search(I_)>=0)throw ld(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new yh(...e.split("."))._internalPath}catch{throw ld(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function ld(i,e,t,s,u){const l=s&&!s.isEmpty(),f=void 0!==u;let D=`Function ${e}() called with invalid data`;t&&(D+=" (via `toFirestore()`)"),D+=". ";let O="";return(l||f)&&(O+=" (found",l&&(O+=` in field ${s}`),f&&(O+=` in document ${u}`),O+=")"),new dt($e.INVALID_ARGUMENT,D+i+O)}function Sy(i,e){return i.some(t=>t.isEqual(e))}class Zf{constructor(e,t,s,u,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new bs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new D_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class D_ extends Zf{data(){return super.data()}}function Yf(i,e){return"string"==typeof e?Kf(i,e):e instanceof yh?e._internalPath:e._delegate._internalPath}function Qg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new dt($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qf{}class Jg extends Qf{}function C_(i,e,...t){let s=[];e instanceof Qf&&s.push(e),s=s.concat(t),function(u){const l=u.filter(D=>D instanceof ul).length,f=u.filter(D=>D instanceof Eh).length;if(l>1||l>0&&f>0)throw new dt($e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)i=u._apply(i);return i}class Eh extends Jg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Eh(e,t,s)}_apply(e){const t=this._parse(e);return nm(e._query,t),new Js(e.firestore,e.converter,ec(e._query,t))}_parse(e){const t=Eu(e.firestore);return function(u,l,f,D,O,L,Q){let le;if(O.isKeyField()){if("array-contains"===L||"array-contains-any"===L)throw new dt($e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${L}' queries on documentId().`);if("in"===L||"not-in"===L){Ny(Q,L);const ke=[];for(const Ze of Q)ke.push(Ry(D,u,Ze));le={arrayValue:{values:ke}}}else le=Ry(D,u,Q)}else"in"!==L&&"not-in"!==L&&"array-contains-any"!==L||Ny(Q,L),le=function by(i,e,t,s=!1){return al(t,i.ya(s?4:3,e))}(f,"where",Q,"in"===L||"not-in"===L);return P.create(O,L,le)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class ul extends Qf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ul(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Y.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,u){let l=s;const f=u.getFlattenedFilters();for(const D of f)nm(l,D),l=ec(l,D)}(e._query,t),new Js(e.firestore,e.converter,ec(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Xg extends Jg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Xg(e,t)}_apply(e){const t=function(s,u,l){if(null!==s.startAt)throw new dt($e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new dt($e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new au(u,l);return function(D,O){if(null===Tl(D)){const L=Ju(D);null!==L&&ep(0,L,O.field)}}(s,f),f}(e._query,this._field,this._direction);return new Js(e.firestore,e.converter,function(s,u){const l=s.explicitOrderBy.concat([u]);return new Zo(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Jf(i,e="asc"){const t=e,s=Yf("orderBy",i);return Xg._create(s,t)}function Ry(i,e,t){if("string"==typeof(t=(0,oe.m9)(t))){if(""===t)throw new dt($e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bl(e)&&-1!==t.indexOf("/"))throw new dt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ar.fromString(t));if(!xt.isDocumentKey(s))throw new dt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xa(i,new xt(s))}if(t instanceof bs)return xa(i,t._key);throw new dt($e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hf(t)}.`)}function Ny(i,e){if(!Array.isArray(i)||0===i.length)throw new dt($e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nm(i,e){if(e.isInequality()){const s=Ju(i),u=e.field;if(null!==s&&!s.isEqual(u))throw new dt($e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${u.toString()}'`);const l=Tl(i);null!==l&&ep(0,u,l)}const t=function(s,u){for(const l of s)for(const f of l.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new dt($e.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function ep(i,e,t){if(!t.isEqual(e))throw new dt($e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class im{convertValue(e,t="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw zt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ra(e,(u,l)=>{s[u]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new wy(Pi(e.latitude),Pi(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Dl(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ma(e));default:return null}}convertTimestamp(e){const t=oo(e);return new ii(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ar.fromString(e);on(Zh(s));const u=new sa(s.get(1),s.get(3)),l=new xt(s.popFirst(5));return u.isEqual(t)||hr(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function tp(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class dl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dd extends Zf{constructor(e,t,s,u,l,f){super(e,t,s,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Yf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Ih extends dd{data(e={}){return super.data(e)}}class Ec{constructor(e,t,s,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new dl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ih(this._firestore,this._userDataWriter,s.key,s,new dl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new dt($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,u){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Ih(s._firestore,s._userDataWriter,f.doc.key,f.doc,new dl(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const D=new Ih(s._firestore,s._userDataWriter,f.doc.key,f.doc,new dl(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let O=-1,L=-1;return 0!==f.type&&(O=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),L=l.indexOf(f.doc.key)),{type:Py(f.type),doc:D,oldIndex:O,newIndex:L}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Py(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt()}}function ky(i){i=zr(i,bs);const e=zr(i.firestore,mi);return function Ug(i,e,t={}){const s=new gi;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(u,l,f,D,O){const L=new Pg({next:le=>{l.enqueueAndForget(()=>mu(u,Q));const ke=le.docs.has(f);!ke&&le.fromCache?O.reject(new dt($e.UNAVAILABLE,"Failed to get document because the client is offline.")):ke&&le.fromCache&&D&&"server"===D.source?O.reject(new dt($e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):O.resolve(le)},error:le=>O.reject(le)}),Q=new vc(Oc(f.path),L,{includeMetadataChanges:!0,Ku:!0});return Cf(u,Q)}(yield id(i),i.asyncQueue,e,t,s)})),s.promise}(Zi(e),i._key).then(t=>Ch(e,i,t))}class Bu extends im{constructor(e){super(),this.firestore=e}convertBytes(e){return new ud(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bs(this.firestore,null,t)}}function Fy(i){i=zr(i,Js);const e=zr(i.firestore,mi),t=Zi(e),s=new Bu(e);return Qg(i._query),function yy(i,e,t={}){const s=new gi;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(u,l,f,D,O){const L=new Pg({next:le=>{l.enqueueAndForget(()=>mu(u,Q)),le.fromCache&&"server"===D.source?O.reject(new dt($e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):O.resolve(le)},error:le=>O.reject(le)}),Q=new vc(f,L,{includeMetadataChanges:!0,Ku:!0});return Cf(u,Q)}(yield id(i),i.asyncQueue,e,t,s)})),s.promise}(t,i._query).then(u=>new Ec(e,s,i,u))}function Ic(i,e,t){i=zr(i,bs);const s=zr(i.firestore,mi),u=tp(i.converter,e,t);return Dh(s,[vh(Eu(s),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,Fi.none())])}function P_(i,e,t,...s){i=zr(i,bs);const u=zr(i.firestore,mi),l=Eu(u);let f;return f="string"==typeof(e=(0,oe.m9)(e))||e instanceof yh?function Ty(i,e,t,s,u,l){const f=i.ya(1,e,t),D=[Wf(e,s,t)],O=[u];if(l.length%2!=0)throw new dt($e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ke=0;ke<l.length;ke+=2)D.push(Wf(e,l[ke])),O.push(l[ke+1]);const L=[],Q=ki.empty();for(let ke=D.length-1;ke>=0;--ke)if(!Sy(L,D[ke])){const Ze=D[ke];let Tt=O[ke];Tt=(0,oe.m9)(Tt);const qt=f.da(Ze);if(Tt instanceof wc)L.push(Ze);else{const en=al(Tt,qt);null!=en&&(L.push(Ze),Q.set(Ze,en))}}const le=new Ds(L);return new Ey(Q,le,f.fieldTransforms)}(l,"updateDoc",i._key,e,t,s):function Cy(i,e,t,s){const u=i.ya(1,e,t);cd("Data must be an object, but it was:",u,s);const l=[],f=ki.empty();ra(s,(O,L)=>{const Q=Kf(e,O,t);L=(0,oe.m9)(L);const le=u.da(Q);if(L instanceof wc)l.push(Q);else{const ke=al(L,le);null!=ke&&(l.push(Q),f.set(Q,ke))}});const D=new Ds(l);return new Ey(f,D,u.fieldTransforms)}(l,"updateDoc",i._key,e),Dh(u,[f.toMutation(i._key,Fi.exists(!0))])}function om(i,e){const t=zr(i.firestore,mi),s=So(i),u=tp(i.converter,e);return Dh(t,[vh(Eu(i.firestore),"addDoc",s._key,u,null!==i.converter,{}).toMutation(s._key,Fi.exists(!1))]).then(()=>s)}function Dh(i,e){return function(t,s){const u=new gi;return t.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function uy(i,e,t){return xf.apply(this,arguments)}(yield function Lg(i){return $f(i).then(e=>e.syncEngine)}(t),s,u)})),u.promise}(Zi(i),e)}function Ch(i,e,t){const s=t.docs.get(e._key),u=new Bu(i);return new dd(i,u,e._key,s,new dl(t.hasPendingWrites,t.fromCache),e.converter)}!function(i,e=!0){ri=ut.Jn,(0,ut.Xd)(new Fe.wA("firestore",(t,{instanceIdentifier:s,options:u})=>{const l=t.getProvider("app").getImmediate(),f=new mi(new Mh(t.getProvider("auth-internal")),new Cu(t.getProvider("app-check-internal")),function(D,O){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new dt($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sa(D.options.projectId,O)}(l,s),l);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,ut.KN)(Vs,"3.12.2",i),(0,ut.KN)(Vs,"3.12.2","esm2017")}();var Qa=ee(9751),La=ee(4004),Hy={includeMetadataChanges:!1};function Zy(i,e){return void 0===e&&(e={}),function ip(i){return function rp(i,e){return void 0===e&&(e=Hy),new Qa.y(function(t){var s=function hl(i,...e){var t,s,u;i=(0,oe.m9)(i);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||hh(e[f])||(l=e[f],f++);const D={includeMetadataChanges:l.includeMetadataChanges};if(hh(e[f])){const le=e[f];e[f]=null===(t=le.next)||void 0===t?void 0:t.bind(le),e[f+1]=null===(s=le.error)||void 0===s?void 0:s.bind(le),e[f+2]=null===(u=le.complete)||void 0===u?void 0:u.bind(le)}let O,L,Q;if(i instanceof bs)L=zr(i.firestore,mi),Q=Oc(i._key.path),O={next:le=>{e[f]&&e[f](Ch(L,i,le))},error:e[f+1],complete:e[f+2]};else{const le=zr(i,Js);L=zr(le.firestore,mi),Q=le._query;const ke=new Bu(L);O={next:Ze=>{e[f]&&e[f](new Ec(L,ke,le,Ze))},error:e[f+1],complete:e[f+2]},Qg(i._query)}return function(le,ke,Ze,Tt){const qt=new Pg(Tt),en=new vc(ke,qt,Ze);return le.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return Cf(yield id(le),en)})),()=>{qt.Dc(),le.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return mu(yield id(le),en)}))}}(Zi(L),Q,D,O)}(i,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:s}})}(i,{includeMetadataChanges:!0}).pipe((0,La.U)(function(e){return e.docs}))}(i).pipe((0,La.U)(function(t){return t.map(function(s){return function Gy(i,e){void 0===e&&(e={});var t=i.data();return!i.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=i.id),t}(s,e)})}))}class Th{constructor(e){return e}}const Yy="firestore",fd=new ce.OlP("angularfire2.firestore-instances");function Xy(i){return(e,t)=>{const s=e.runOutsideAngular(()=>i(t));return new Th(s)}}const ev={provide:class W_{constructor(){return(0,y.vb)(Yy)}},deps:[[new ce.FiY,fd]]},tv={provide:Th,useFactory:function Jy(i,e){const t=(0,y.JM)(Yy,i,e);return t&&new Th(t)},deps:[[new ce.FiY,fd],Me.Ot]};let nv=(()=>{class i{constructor(){(0,fe.KN)("angularfire",y.q4.full,"fst")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ce.oAB({type:i}),i.\u0275inj=ce.cJS({providers:[tv,ev]}),i})();function rv(i,...e){return{ngModule:nv,providers:[{provide:fd,useFactory:Xy(i),multi:!0,deps:[ce.R0b,ce.zs3,y.HU,Me.z6,[new ce.FiY,U.dh],[new ce.FiY,ne.nm],...e]}]}}const Y_=(0,y.u3)(Zy,!0),Q_=(0,y.u3)(om,!0),J_=(0,y.u3)(wu,!0),X_=(0,y.u3)(So,!0),iv=(0,y.u3)(ky,!0),sv=(0,y.u3)(Fy,!0),l0=(0,y.u3)(ad,!0),Tn=(0,y.u3)(Jf,!0),f0=(0,y.u3)(C_,!0),sp=(0,y.u3)(Ic,!0),m0=(0,y.u3)(P_,!0)},8032:(fn,at,ee)=>{ee.d(at,{Ke:()=>ys,Jt:()=>eo,cF:()=>ks,Vq:()=>Ps,iH:()=>to,KV:()=>Ro});var y=ee(3530),ce=ee(1902),U=ee(3692),Me=ee(2309),fe=ee(259),ne=ee(2313),de=ee(5861),ut=ee(6881),Fe=ee(2090),ue=ee(4859);const oe="firebasestorage.googleapis.com",Re="storageBucket";class st extends Fe.ZR{constructor(B,ie,se=0){super(Qt(B),`Firebase Storage: ${ie} (${Qt(B)})`),this.status_=se,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,st.prototype)}get status(){return this.status_}set status(B){this.status_=B}_codeEquals(B){return Qt(B)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(B){this.customData.serverResponse=B,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ht=(()=>((ht=ht||{}).UNKNOWN="unknown",ht.OBJECT_NOT_FOUND="object-not-found",ht.BUCKET_NOT_FOUND="bucket-not-found",ht.PROJECT_NOT_FOUND="project-not-found",ht.QUOTA_EXCEEDED="quota-exceeded",ht.UNAUTHENTICATED="unauthenticated",ht.UNAUTHORIZED="unauthorized",ht.UNAUTHORIZED_APP="unauthorized-app",ht.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ht.INVALID_CHECKSUM="invalid-checksum",ht.CANCELED="canceled",ht.INVALID_EVENT_NAME="invalid-event-name",ht.INVALID_URL="invalid-url",ht.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ht.NO_DEFAULT_BUCKET="no-default-bucket",ht.CANNOT_SLICE_BLOB="cannot-slice-blob",ht.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ht.NO_DOWNLOAD_URL="no-download-url",ht.INVALID_ARGUMENT="invalid-argument",ht.INVALID_ARGUMENT_COUNT="invalid-argument-count",ht.APP_DELETED="app-deleted",ht.INVALID_ROOT_OPERATION="invalid-root-operation",ht.INVALID_FORMAT="invalid-format",ht.INTERNAL_ERROR="internal-error",ht.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ht))();function Qt(H){return"storage/"+H}function Pn(){return new st(ht.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function me(H){return new st(ht.INVALID_ARGUMENT,H)}function Oe(){return new st(ht.APP_DELETED,"The Firebase app was deleted.")}function vt(H,B){return new st(ht.INVALID_FORMAT,"String does not match format '"+H+"': "+B)}function ct(H){throw new st(ht.INTERNAL_ERROR,"Internal error: "+H)}class Ce{constructor(B,ie){this.bucket=B,this.path_=ie}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const B=encodeURIComponent;return"/b/"+B(this.bucket)+"/o/"+B(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(B,ie){let se;try{se=Ce.makeFromUrl(B,ie)}catch{return new Ce(B,"")}if(""===se.path)return se;throw function kt(H){return new st(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+H+"'.")}(B)}static makeFromUrl(B,ie){let se=null;const be="([A-Za-z0-9.\\-_]+)",T=new RegExp("^gs://"+be+"(/(.*))?$","i");function De(ni){ni.path_=decodeURIComponent(ni.path)}const yn=ie.replace(/[.]/g,"\\."),wi=[{regex:T,indices:{bucket:1,path:3},postModify:function x(ni){"/"===ni.path.charAt(ni.path.length-1)&&(ni.path_=ni.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${yn}/v[A-Za-z0-9_]+/b/${be}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:De},{regex:new RegExp(`^https?://${ie===oe?"(?:storage.googleapis.com|storage.cloud.google.com)":ie}/${be}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:De}];for(let ni=0;ni<wi.length;ni++){const no=wi[ni],es=no.regex.exec(B);if(es){let Ls=es[no.indices.path];Ls||(Ls=""),se=new Ce(es[no.indices.bucket],Ls),no.postModify(se);break}}if(null==se)throw function et(H){return new st(ht.INVALID_URL,"Invalid URL '"+H+"'.")}(B);return se}}class rt{constructor(B){this.promise_=Promise.reject(B)}getPromise(){return this.promise_}cancel(B=!1){}}function mn(H){return"string"==typeof H||H instanceof String}function pr(H){return vr()&&H instanceof Blob}function vr(){return typeof Blob<"u"&&!(0,Fe.UG)()}function Hn(H,B,ie,se){if(se<B)throw me(`Invalid value for '${H}'. Expected ${B} or greater.`);if(se>ie)throw me(`Invalid value for '${H}'. Expected ${ie} or less.`)}function Wn(H,B,ie){let se=B;return null==ie&&(se=`https://${B}`),`${ie}://${se}/v0${H}`}function gr(H){const B=encodeURIComponent;let ie="?";for(const se in H)H.hasOwnProperty(se)&&(ie=ie+(B(se)+"=")+B(H[se])+"&");return ie=ie.slice(0,-1),ie}var _r=(()=>((_r=_r||{})[_r.NO_ERROR=0]="NO_ERROR",_r[_r.NETWORK_ERROR=1]="NETWORK_ERROR",_r[_r.ABORT=2]="ABORT",_r))();class Rt{constructor(B,ie,se,be,x,R,T,$,De,pt,yn,zn=!0){this.url_=B,this.method_=ie,this.headers_=se,this.body_=be,this.successCodes_=x,this.additionalRetryCodes_=R,this.callback_=T,this.errorCallback_=$,this.timeout_=De,this.progressCallback_=pt,this.connectionFactory_=yn,this.retry=zn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((rr,er)=>{this.resolve_=rr,this.reject_=er,this.start_()})}start_(){const ie=(se,be)=>{const x=this.resolve_,R=this.reject_,T=be.connection;if(be.wasSuccessCode)try{const $=this.callback_(T,T.getResponse());!function Vt(H){return void 0!==H}($)?x():x($)}catch($){R($)}else if(null!==T){const $=Pn();$.serverResponse=T.getErrorText(),R(this.errorCallback_?this.errorCallback_(T,$):$)}else R(be.canceled?this.appDelete_?Oe():function Xe(){return new st(ht.CANCELED,"User canceled the upload/download.")}():function _t(){return new st(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?ie(0,new In(!1,null,!0)):this.backoffId_=function tt(H,B,ie){let se=1,be=null,x=null,R=!1,T=0;function $(){return 2===T}let De=!1;function pt(...tr){De||(De=!0,B.apply(null,tr))}function yn(tr){be=setTimeout(()=>{be=null,H(rr,$())},tr)}function zn(){x&&clearTimeout(x)}function rr(tr,...hs){if(De)return void zn();if(tr)return zn(),void pt.call(null,tr,...hs);if($()||R)return zn(),void pt.call(null,tr,...hs);let wi;se<64&&(se*=2),1===T?(T=2,wi=0):wi=1e3*(se+Math.random()),yn(wi)}let er=!1;function Rr(tr){er||(er=!0,zn(),!De&&(null!==be?(tr||(T=2),clearTimeout(be),yn(0)):tr||(T=1)))}return yn(0),x=setTimeout(()=>{R=!0,Rr(!0)},ie),Rr}((se,be)=>{if(be)return void se(!1,new In(!1,null,!0));const x=this.connectionFactory_();this.pendingConnection_=x;const R=T=>{null!==this.progressCallback_&&this.progressCallback_(T.loaded,T.lengthComputable?T.total:-1)};null!==this.progressCallback_&&x.addUploadProgressListener(R),x.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&x.removeUploadProgressListener(R),this.pendingConnection_=null;const T=x.getErrorCode()===_r.NO_ERROR,$=x.getStatus();if(!T||function Zn(H,B){const ie=H>=500&&H<600,be=-1!==[408,429].indexOf(H),x=-1!==B.indexOf(H);return ie||be||x}($,this.additionalRetryCodes_)&&this.retry){const pt=x.getErrorCode()===_r.ABORT;return void se(!1,new In(!1,null,pt))}const De=-1!==this.successCodes_.indexOf($);se(!0,new In(De,x))})},ie,this.timeout_)}getPromise(){return this.promise_}cancel(B){this.canceled_=!0,this.appDelete_=B||!1,null!==this.backoffId_&&function Le(H){H(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class In{constructor(B,ie,se){this.wasSuccessCode=B,this.connection=ie,this.canceled=!!se}}function Sr(...H){const B=function Yt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==B){const ie=new B;for(let se=0;se<H.length;se++)ie.append(H[se]);return ie.getBlob()}if(vr())return new Blob(H);throw new st(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qn{constructor(B,ie){this.data=B,this.contentType=ie||null}}function Un(H){const B=[];for(let ie=0;ie<H.length;ie++){let se=H.charCodeAt(ie);se<=127?B.push(se):se<=2047?B.push(192|se>>6,128|63&se):55296==(64512&se)?ie<H.length-1&&56320==(64512&H.charCodeAt(ie+1))?(se=65536|(1023&se)<<10|1023&H.charCodeAt(++ie),B.push(240|se>>18,128|se>>12&63,128|se>>6&63,128|63&se)):B.push(239,191,189):56320==(64512&se)?B.push(239,191,189):B.push(224|se>>12,128|se>>6&63,128|63&se)}return new Uint8Array(B)}function Dt(H,B){switch(H){case Vn.BASE64:{const be=-1!==B.indexOf("-"),x=-1!==B.indexOf("_");if(be||x)throw vt(H,"Invalid character '"+(be?"-":"_")+"' found: is it base64url encoded?");break}case Vn.BASE64URL:{const be=-1!==B.indexOf("+"),x=-1!==B.indexOf("/");if(be||x)throw vt(H,"Invalid character '"+(be?"+":"/")+"' found: is it base64 encoded?");B=B.replace(/-/g,"+").replace(/_/g,"/");break}}let ie;try{ie=function qr(H){if(typeof atob>"u")throw function Ne(H){return new st(ht.UNSUPPORTED_ENVIRONMENT,`${H} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(H)}(B)}catch(be){throw be.message.includes("polyfill")?be:vt(H,"Invalid character found")}const se=new Uint8Array(ie.length);for(let be=0;be<ie.length;be++)se[be]=ie.charCodeAt(be);return se}class yi{constructor(B){this.base64=!1,this.contentType=null;const ie=B.match(/^data:([^,]+)?,/);if(null===ie)throw vt(Vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const se=ie[1]||null;null!=se&&(this.base64=function gn(H,B){return H.length>=B.length&&H.substring(H.length-B.length)===B}(se,";base64"),this.contentType=this.base64?se.substring(0,se.length-7):se),this.rest=B.substring(B.indexOf(",")+1)}}class wr{constructor(B,ie){let se=0,be="";pr(B)?(this.data_=B,se=B.size,be=B.type):B instanceof ArrayBuffer?(ie?this.data_=new Uint8Array(B):(this.data_=new Uint8Array(B.byteLength),this.data_.set(new Uint8Array(B))),se=this.data_.length):B instanceof Uint8Array&&(ie?this.data_=B:(this.data_=new Uint8Array(B.length),this.data_.set(B)),se=B.length),this.size_=se,this.type_=be}size(){return this.size_}type(){return this.type_}slice(B,ie){if(pr(this.data_)){const be=function Yn(H,B,ie){return H.webkitSlice?H.webkitSlice(B,ie):H.mozSlice?H.mozSlice(B,ie):H.slice?H.slice(B,ie):null}(this.data_,B,ie);return null===be?null:new wr(be)}{const se=new Uint8Array(this.data_.buffer,B,ie-B);return new wr(se,!0)}}static getBlob(...B){if(vr()){const ie=B.map(se=>se instanceof wr?se.data_:se);return new wr(Sr.apply(null,ie))}{const ie=B.map(R=>mn(R)?function Wr(H,B){switch(H){case Vn.RAW:return new Qn(Un(B));case Vn.BASE64:case Vn.BASE64URL:return new Qn(Dt(H,B));case Vn.DATA_URL:return new Qn(function ui(H){const B=new yi(H);return B.base64?Dt(Vn.BASE64,B.rest):function $i(H){let B;try{B=decodeURIComponent(H)}catch{throw vt(Vn.DATA_URL,"Malformed data URL.")}return Un(B)}(B.rest)}(B),function cr(H){return new yi(H).contentType}(B))}throw Pn()}(Vn.RAW,R).data:R.data_);let se=0;ie.forEach(R=>{se+=R.byteLength});const be=new Uint8Array(se);let x=0;return ie.forEach(R=>{for(let T=0;T<R.length;T++)be[x++]=R[T]}),new wr(be,!0)}}uploadData(){return this.data_}}function Jn(H){let B;try{B=JSON.parse(H)}catch{return null}return function Ut(H){return"object"==typeof H&&!Array.isArray(H)}(B)?B:null}function Nr(H){const B=H.lastIndexOf("/",H.length-2);return-1===B?H:H.slice(B+1)}function An(H,B){return B}class rn{constructor(B,ie,se,be){this.server=B,this.local=ie||B,this.writable=!!se,this.xform=be||An}}let Bn=null;function G(){if(Bn)return Bn;const H=[];H.push(new rn("bucket")),H.push(new rn("generation")),H.push(new rn("metageneration")),H.push(new rn("name","fullPath",!0));const ie=new rn("name");ie.xform=function B(x,R){return function he(H){return!mn(H)||H.length<2?H:Nr(H)}(R)},H.push(ie);const be=new rn("size");return be.xform=function se(x,R){return void 0!==R?Number(R):R},H.push(be),H.push(new rn("timeCreated")),H.push(new rn("updated")),H.push(new rn("md5Hash",null,!0)),H.push(new rn("cacheControl",null,!0)),H.push(new rn("contentDisposition",null,!0)),H.push(new rn("contentEncoding",null,!0)),H.push(new rn("contentLanguage",null,!0)),H.push(new rn("contentType",null,!0)),H.push(new rn("metadata","customMetadata",!0)),Bn=H,Bn}function te(H,B,ie){const se=Jn(B);return null===se?null:function K(H,B,ie){const se={type:"file"},be=ie.length;for(let x=0;x<be;x++){const R=ie[x];se[R.local]=R.xform(se,B[R.server])}return function q(H,B){Object.defineProperty(H,"ref",{get:function ie(){const x=new Ce(H.bucket,H.fullPath);return B._makeStorageReference(x)}})}(se,H),se}(H,se,ie)}class Jt{constructor(B,ie,se,be){this.url=B,this.method=ie,this.handler=se,this.timeout=be,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function kn(H){if(!H)throw Pn()}function Ve(H){return function B(ie,se){let be;return be=401===ie.getStatus()?ie.getErrorText().includes("Firebase App Check token is invalid")?function Ge(){return new st(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ot(){return new st(ht.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ie.getStatus()?function qe(H){return new st(ht.QUOTA_EXCEEDED,"Quota for bucket '"+H+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(H.bucket):403===ie.getStatus()?function Je(H){return new st(ht.UNAUTHORIZED,"User does not have permission to access '"+H+"'.")}(H.path):se,be.status=ie.getStatus(),be.serverResponse=se.serverResponse,be}}function Jr(H,B,ie,se,be){const x=B.bucketOnlyServerUrl(),R={"X-Goog-Upload-Protocol":"multipart"},$=function T(){let wi="";for(let ni=0;ni<2;ni++)wi+=Math.random().toString().slice(2);return wi}();R["Content-Type"]="multipart/related; boundary="+$;const De=function Qr(H,B,ie){const se=Object.assign({},ie);return se.fullPath=H.path,se.size=B.size(),se.contentType||(se.contentType=function Er(H,B){return H&&H.contentType||B&&B.type()||"application/octet-stream"}(null,B)),se}(B,se,be),pt=function Qe(H,B){const ie={},se=B.length;for(let be=0;be<se;be++){const x=B[be];x.writable&&(ie[x.server]=H[x.local])}return JSON.stringify(ie)}(De,ie),rr=wr.getBlob("--"+$+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+pt+"\r\n--"+$+"\r\nContent-Type: "+De.contentType+"\r\n\r\n",se,"\r\n--"+$+"--");if(null===rr)throw function yr(){return new st(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const er={name:De.fullPath},Rr=Wn(x,H.host,H._protocol),hs=H.maxUploadRetryTime,$r=new Jt(Rr,"POST",function lr(H,B){return function ie(se,be){const x=te(H,be,B);return kn(null!==x),x}}(H,ie),hs);return $r.urlParams=er,$r.headers=R,$r.body=rr.uploadData(),$r.errorHandler=Ve(B),$r}let Bo=null;class ye{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_r.NO_ERROR,this.sendPromise_=new Promise(B=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_r.ABORT,B()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_r.NETWORK_ERROR,B()}),this.xhr_.addEventListener("load",()=>{B()})})}send(B,ie,se,be){if(this.sent_)throw ct("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ie,B,!0),void 0!==be)for(const x in be)be.hasOwnProperty(x)&&this.xhr_.setRequestHeader(x,be[x].toString());return void 0!==se?this.xhr_.send(se):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ct("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ct("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ct("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ct("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(B){return this.xhr_.getResponseHeader(B)}addUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",B)}removeUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",B)}}class ge extends ye{initXhr(){this.xhr_.responseType="text"}}function Ae(){return Bo?Bo():new ge}class vn{constructor(B,ie){this._service=B,this._location=ie instanceof Ce?ie:Ce.makeFromUrl(ie,B.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(B,ie){return new vn(B,ie)}get root(){const B=new Ce(this._location.bucket,"");return this._newRef(this._service,B)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Nr(this._location.path)}get storage(){return this._service}get parent(){const B=function Kr(H){if(0===H.length)return null;const B=H.lastIndexOf("/");return-1===B?"":H.slice(0,B)}(this._location.path);if(null===B)return null;const ie=new Ce(this._location.bucket,B);return new vn(this._service,ie)}_throwIfRoot(B){if(""===this._location.path)throw function We(H){return new st(ht.INVALID_ROOT_OPERATION,"The operation '"+H+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(B)}}function zs(H){H._throwIfRoot("getDownloadURL");const B=function Nt(H,B,ie){const be=Wn(B.fullServerUrl(),H.host,H._protocol),R=H.maxOperationRetryTime,T=new Jt(be,"GET",function ji(H,B){return function ie(se,be){const x=te(H,be,B);return kn(null!==x),function Te(H,B,ie,se){const be=Jn(B);if(null===be||!mn(be.downloadTokens))return null;const x=be.downloadTokens;if(0===x.length)return null;const R=encodeURIComponent;return x.split(",").map(De=>{const yn=H.fullPath;return Wn("/b/"+R(H.bucket)+"/o/"+R(yn),ie,se)+gr({alt:"media",token:De})})[0]}(x,be,H.host,H._protocol)}}(H,ie),R);return T.errorHandler=function Se(H){const B=Ve(H);return function ie(se,be){let x=B(se,be);return 404===se.getStatus()&&(x=function Fn(H){return new st(ht.OBJECT_NOT_FOUND,"Object '"+H+"' does not exist.")}(H.path)),x.serverResponse=be.serverResponse,x}}(B),T}(H.storage,H._location,G());return H.storage.makeRequestWithTokens(B,Ae).then(ie=>{if(null===ie)throw function ft(){return new st(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ie})}function Xr(H,B){if(H instanceof Ur){const ie=H;if(null==ie._bucket)throw function Ln(){return new st(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Re+"' property when initializing the app?")}();const se=new vn(ie,ie._bucket);return null!=B?Xr(se,B):se}return void 0!==B?function Ar(H,B){const ie=function Di(H,B){const ie=B.split("/").filter(se=>se.length>0).join("/");return 0===H.length?ie:H+"/"+ie}(H._location.path,B),se=new Ce(H._location.bucket,ie);return new vn(H.storage,se)}(H,B):H}function As(H,B){const ie=B?.[Re];return null==ie?null:Ce.makeFromBucketSpec(ie,H)}class Ur{constructor(B,ie,se,be,x){this.app=B,this._authProvider=ie,this._appCheckProvider=se,this._url=be,this._firebaseVersion=x,this._bucket=null,this._host=oe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=be?Ce.makeFromBucketSpec(be,this._host):As(this._host,this.app.options)}get host(){return this._host}set host(B){this._host=B,this._bucket=null!=this._url?Ce.makeFromBucketSpec(this._url,B):As(B,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(B){Hn("time",0,Number.POSITIVE_INFINITY,B),this._maxUploadRetryTime=B}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(B){Hn("time",0,Number.POSITIVE_INFINITY,B),this._maxOperationRetryTime=B}_getAuthToken(){var B=this;return(0,de.Z)(function*(){if(B._overrideAuthToken)return B._overrideAuthToken;const ie=B._authProvider.getImmediate({optional:!0});if(ie){const se=yield ie.getToken();if(null!==se)return se.accessToken}return null})()}_getAppCheckToken(){var B=this;return(0,de.Z)(function*(){const ie=B._appCheckProvider.getImmediate({optional:!0});return ie?(yield ie.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(B=>B.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(B){return new vn(this,B)}_makeRequest(B,ie,se,be,x=!0){if(this._deleted)return new rt(Oe());{const R=function Pt(H,B,ie,se,be,x,R=!0){const T=gr(H.urlParams),$=H.url+T,De=Object.assign({},H.headers);return function Sn(H,B){B&&(H["X-Firebase-GMPID"]=B)}(De,B),function Yr(H,B){null!==B&&B.length>0&&(H.Authorization="Firebase "+B)}(De,ie),function Vr(H,B){H["X-Firebase-Storage-Version"]="webjs/"+(B??"AppManager")}(De,x),function Gn(H,B){null!==B&&(H["X-Firebase-AppCheck"]=B)}(De,se),new Rt($,H.method,De,H.body,H.successCodes,H.additionalRetryCodes,H.handler,H.errorHandler,H.timeout,H.progressCallback,be,R)}(B,this._appId,se,be,ie,this._firebaseVersion,x);return this._requests.add(R),R.getPromise().then(()=>this._requests.delete(R),()=>this._requests.delete(R)),R}}makeRequestWithTokens(B,ie){var se=this;return(0,de.Z)(function*(){const[be,x]=yield Promise.all([se._getAuthToken(),se._getAppCheckToken()]);return se._makeRequest(B,ie,be,x).getPromise()})()}}const Ti="@firebase/storage",St="storage";function tn(H,B,ie){return function Ci(H,B,ie){H._throwIfRoot("uploadBytes");const se=Jr(H.storage,H._location,G(),new wr(B,!0),ie);return H.storage.makeRequestWithTokens(se,Ae).then(be=>({metadata:be,ref:H}))}(H=(0,Fe.m9)(H),B,ie)}function Gi(H){return zs(H=(0,Fe.m9)(H))}function gs(H,B){return function jo(H,B){if(B&&function fi(H){return/^[A-Za-z]+:\/\//.test(H)}(B)){if(H instanceof Ur)return function ds(H,B){return new vn(H,B)}(H,B);throw me("To use ref(service, url), the first argument must be a Storage instance.")}return Xr(H,B)}(H=(0,Fe.m9)(H),B)}function _i(H=(0,ut.Mq)(),B){H=(0,Fe.m9)(H);const se=(0,ut.qX)(H,St).getImmediate({identifier:B}),be=(0,Fe.P0)("storage");return be&&function Dr(H,B,ie,se={}){!function qs(H,B,ie,se={}){H.host=`${B}:${ie}`,H._protocol="http";const{mockUserToken:be}=se;be&&(H._overrideAuthToken="string"==typeof be?be:(0,Fe.Sg)(be,H.app.options.projectId))}(H,B,ie,se)}(se,...be),se}function ei(H,{instanceIdentifier:B}){const ie=H.getProvider("app").getImmediate(),se=H.getProvider("auth-internal"),be=H.getProvider("app-check-internal");return new Ur(ie,se,be,B,ut.Jn)}!function Rs(){(0,ut.Xd)(new ue.wA(St,ei,"PUBLIC").setMultipleInstances(!0)),(0,ut.KN)(Ti,"0.11.2",""),(0,ut.KN)(Ti,"0.11.2","esm2017")}();class ys{constructor(B){return B}}const ti="storage",os=new ce.OlP("angularfire2.storage-instances");function Qo(H){return(B,ie)=>{const se=B.runOutsideAngular(()=>H(ie));return new ys(se)}}const xo={provide:class Si{constructor(){return(0,y.vb)(ti)}},deps:[[new ce.FiY,os]]},Os={provide:ys,useFactory:function On(H,B){const ie=(0,y.JM)(ti,H,B);return ie&&new ys(ie)},deps:[[new ce.FiY,os],U.Ot]};let Ri=(()=>{class H{constructor(){(0,fe.KN)("angularfire",y.q4.full,"gcs")}}return H.\u0275fac=function(ie){return new(ie||H)},H.\u0275mod=ce.oAB({type:H}),H.\u0275inj=ce.cJS({providers:[Os,xo]}),H})();function Ps(H,...B){return{ngModule:Ri,providers:[{provide:os,useFactory:Qo(H),multi:!0,deps:[ce.R0b,ce.zs3,y.HU,U.z6,[new ce.FiY,Me.dh],[new ce.FiY,ne.nm],...B]}]}}const eo=(0,y.u3)(Gi,!0),ks=(0,y.u3)(_i,!0),to=(0,y.u3)(gs,!0),Ro=(0,y.u3)(tn,!0)},3530:(fn,at,ee)=>{ee.d(at,{q4:()=>Ys,HU:()=>cs,vb:()=>Qu,JM:()=>_d,u3:()=>au});var y=ee(1902),ce=ee(259),U=ee(5861),Me=ee(6881),fe=ee(2090),ne=ee(4859),de=ee(1877);const ut=(E,A)=>A.some(P=>E instanceof P);let Fe,ue;const je=new WeakMap,Ee=new WeakMap,It=new WeakMap,st=new WeakMap,ht=new WeakMap;let Fn={get(E,A,P){if(E instanceof IDBTransaction){if("done"===A)return Ee.get(E);if("objectStoreNames"===A)return E.objectStoreNames||It.get(E);if("store"===A)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return Je(E[A])},set:(E,A,P)=>(E[A]=P,!0),has:(E,A)=>E instanceof IDBTransaction&&("done"===A||"store"===A)||A in E};function Ge(E){return"function"==typeof E?function ot(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Re(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...A){return E.apply(_t(this),A),Je(je.get(this))}:function(...A){return Je(E.apply(_t(this),A))}:function(A,...P){const Y=E.call(_t(this),A,...P);return It.set(Y,A.sort?A.sort():[A]),Je(Y)}}(E):(E instanceof IDBTransaction&&function Pn(E){if(Ee.has(E))return;const A=new Promise((P,Y)=>{const pe=()=>{E.removeEventListener("complete",Ie),E.removeEventListener("error",ze),E.removeEventListener("abort",ze)},Ie=()=>{P(),pe()},ze=()=>{Y(E.error||new DOMException("AbortError","AbortError")),pe()};E.addEventListener("complete",Ie),E.addEventListener("error",ze),E.addEventListener("abort",ze)});Ee.set(E,A)}(E),ut(E,function oe(){return Fe||(Fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Fn):E)}function Je(E){if(E instanceof IDBRequest)return function Qt(E){const A=new Promise((P,Y)=>{const pe=()=>{E.removeEventListener("success",Ie),E.removeEventListener("error",ze)},Ie=()=>{P(Je(E.result)),pe()},ze=()=>{Y(E.error),pe()};E.addEventListener("success",Ie),E.addEventListener("error",ze)});return A.then(P=>{P instanceof IDBCursor&&je.set(P,E)}).catch(()=>{}),ht.set(A,E),A}(E);if(st.has(E))return st.get(E);const A=Ge(E);return A!==E&&(st.set(E,A),ht.set(A,E)),A}const _t=E=>ht.get(E),kt=["get","getKey","getAll","getAllKeys","count"],Ln=["put","add","delete","clear"],yr=new Map;function yt(E,A){if(!(E instanceof IDBDatabase)||A in E||"string"!=typeof A)return;if(yr.get(A))return yr.get(A);const P=A.replace(/FromIndex$/,""),Y=A!==P,pe=Ln.includes(P);if(!(P in(Y?IDBIndex:IDBObjectStore).prototype)||!pe&&!kt.includes(P))return;const Ie=function(){var ze=(0,U.Z)(function*(Ft,...Ot){const sn=this.transaction(Ft,pe?"readwrite":"readonly");let En=sn.store;return Y&&(En=En.index(Ot.shift())),(yield Promise.all([En[P](...Ot),pe&&sn.done]))[0]});return function(Ot){return ze.apply(this,arguments)}}();return yr.set(A,Ie),Ie}!function qe(E){Fn=E(Fn)}(E=>({...E,get:(A,P,Y)=>yt(A,P)||E.get(A,P,Y),has:(A,P)=>!!yt(A,P)||E.has(A,P)}));const ft="@firebase/installations",Ne="0.6.4",me=1e4,Oe=`w:${Ne}`,We="FIS_v2",vt="https://firebaseinstallations.googleapis.com/v1",ct=36e5,Le=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Vt(E){return E instanceof fe.ZR&&E.code.includes("request-failed")}function At({projectId:E}){return`${vt}/projects/${E}/installations`}function Ut(E){return{token:E.token,requestStatus:2,expiresIn:_r(E.expiresIn),creationTime:Date.now()}}function mn(E,A){return pr.apply(this,arguments)}function pr(){return(pr=(0,U.Z)(function*(E,A){const Y=(yield A.json()).error;return Le.create("request-failed",{requestName:E,serverCode:Y.code,serverMessage:Y.message,serverStatus:Y.status})})).apply(this,arguments)}function vr({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Wn(E){return gr.apply(this,arguments)}function gr(){return(gr=(0,U.Z)(function*(E){const A=yield E();return A.status>=500&&A.status<600?E():A})).apply(this,arguments)}function _r(E){return Number(E.replace("s","000"))}function In(){return(In=(0,U.Z)(function*({appConfig:E,heartbeatServiceProvider:A},{fid:P}){const Y=At(E),pe=vr(E),Ie=A.getImmediate({optional:!0});if(Ie){const sn=yield Ie.getHeartbeatsHeader();sn&&pe.append("x-firebase-client",sn)}const Ft={method:"POST",headers:pe,body:JSON.stringify({fid:P,authVersion:We,appId:E.appId,sdkVersion:Oe})},Ot=yield Wn(()=>fetch(Y,Ft));if(Ot.ok){const sn=yield Ot.json();return{fid:sn.fid||P,registrationStatus:2,refreshToken:sn.refreshToken,authToken:Ut(sn.authToken)}}throw yield mn("Create Installation",Ot)})).apply(this,arguments)}function Yr(E){return new Promise(A=>{setTimeout(A,E)})}const Sn=/^[cdef][\w-]{21}$/,Gn="";function Pt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const P=function Yt(E){return function Vr(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Sn.test(P)?P:Gn}catch{return Gn}}function Sr(E){return`${E.appName}!${E.appId}`}const Yn=new Map;function qr(E,A){const P=Sr(E);Wr(P,A),function Un(E,A){const P=function Dt(){return!$i&&"BroadcastChannel"in self&&($i=new BroadcastChannel("[Firebase] FID Change"),$i.onmessage=E=>{Wr(E.data.key,E.data.fid)}),$i}();P&&P.postMessage({key:E,fid:A}),function yi(){0===Yn.size&&$i&&($i.close(),$i=null)}()}(P,A)}function Wr(E,A){const P=Yn.get(E);if(P)for(const Y of P)Y(A)}let $i=null;const ui="firebase-installations-database",cr=1,gn="firebase-installations-store";let wr=null;function Jn(){return wr||(wr=function Xe(E,A,{blocked:P,upgrade:Y,blocking:pe,terminated:Ie}={}){const ze=indexedDB.open(E,A),Ft=Je(ze);return Y&&ze.addEventListener("upgradeneeded",Ot=>{Y(Je(ze.result),Ot.oldVersion,Ot.newVersion,Je(ze.transaction))}),P&&ze.addEventListener("blocked",()=>P()),Ft.then(Ot=>{Ie&&Ot.addEventListener("close",()=>Ie()),pe&&Ot.addEventListener("versionchange",()=>pe())}).catch(()=>{}),Ft}(ui,cr,{upgrade:(E,A)=>{0===A&&E.createObjectStore(gn)}})),wr}function Kr(E,A){return Di.apply(this,arguments)}function Di(){return(Di=(0,U.Z)(function*(E,A){const P=Sr(E),pe=(yield Jn()).transaction(gn,"readwrite"),Ie=pe.objectStore(gn),ze=yield Ie.get(P);return yield Ie.put(A,P),yield pe.done,(!ze||ze.fid!==A.fid)&&qr(E,A.fid),A})).apply(this,arguments)}function Nr(E){return An.apply(this,arguments)}function An(){return(An=(0,U.Z)(function*(E){const A=Sr(E),Y=(yield Jn()).transaction(gn,"readwrite");yield Y.objectStore(gn).delete(A),yield Y.done})).apply(this,arguments)}function rn(E,A){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,U.Z)(function*(E,A){const P=Sr(E),pe=(yield Jn()).transaction(gn,"readwrite"),Ie=pe.objectStore(gn),ze=yield Ie.get(P),Ft=A(ze);return void 0===Ft?yield Ie.delete(P):yield Ie.put(Ft,P),yield pe.done,Ft&&(!ze||ze.fid!==Ft.fid)&&qr(E,Ft.fid),Ft})).apply(this,arguments)}function he(E){return G.apply(this,arguments)}function G(){return G=(0,U.Z)(function*(E){let A;const P=yield rn(E.appConfig,Y=>{const pe=function q(E){return un(E||{fid:Pt(),registrationStatus:0})}(Y),Ie=function K(E,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Le.create("app-offline"))};const P={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},Y=function te(E,A){return Te.apply(this,arguments)}(E,P);return{installationEntry:P,registrationPromise:Y}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:Qe(E)}:{installationEntry:A}}(E,pe);return A=Ie.registrationPromise,Ie.installationEntry});return P.fid===Gn?{installationEntry:yield A}:{installationEntry:P,registrationPromise:A}}),G.apply(this,arguments)}function Te(){return Te=(0,U.Z)(function*(E,A){try{const P=yield function Rt(E,A){return In.apply(this,arguments)}(E,A);return Kr(E.appConfig,P)}catch(P){throw Vt(P)&&409===P.customData.serverCode?yield Nr(E.appConfig):yield Kr(E.appConfig,{fid:A.fid,registrationStatus:0}),P}}),Te.apply(this,arguments)}function Qe(E){return bt.apply(this,arguments)}function bt(){return(bt=(0,U.Z)(function*(E){let A=yield Bt(E.appConfig);for(;1===A.registrationStatus;)yield Yr(100),A=yield Bt(E.appConfig);if(0===A.registrationStatus){const{installationEntry:P,registrationPromise:Y}=yield he(E);return Y||P}return A})).apply(this,arguments)}function Bt(E){return rn(E,A=>{if(!A)throw Le.create("installation-not-found");return un(A)})}function un(E){return function nn(E){return 1===E.registrationStatus&&E.registrationTime+me<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function kn(){return(kn=(0,U.Z)(function*({appConfig:E,heartbeatServiceProvider:A},P){const Y=function lr(E,{fid:A}){return`${At(E)}/${A}/authTokens:generate`}(E,P),pe=function Hn(E,{refreshToken:A}){const P=vr(E);return P.append("Authorization",function Zn(E){return`${We} ${E}`}(A)),P}(E,P),Ie=A.getImmediate({optional:!0});if(Ie){const sn=yield Ie.getHeartbeatsHeader();sn&&pe.append("x-firebase-client",sn)}const Ft={method:"POST",headers:pe,body:JSON.stringify({installation:{sdkVersion:Oe,appId:E.appId}})},Ot=yield Wn(()=>fetch(Y,Ft));if(Ot.ok)return Ut(yield Ot.json());throw yield mn("Generate Auth Token",Ot)})).apply(this,arguments)}function di(E){return ji.apply(this,arguments)}function ji(){return ji=(0,U.Z)(function*(E,A=!1){let P;const Y=yield rn(E.appConfig,Ie=>{if(!Nt(Ie))throw Le.create("not-registered");const ze=Ie.authToken;if(!A&&function pn(E){return 2===E.requestStatus&&!function Or(E){const A=Date.now();return A<E.creationTime||E.creationTime+E.expiresIn<A+ct}(E)}(ze))return Ie;if(1===ze.requestStatus)return P=function Ve(E,A){return Se.apply(this,arguments)}(E,A),Ie;{if(!navigator.onLine)throw Le.create("app-offline");const Ft=function Er(E){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:A})}(Ie);return P=function $t(E,A){return Wt.apply(this,arguments)}(E,Ft),Ft}});return P?yield P:Y.authToken}),ji.apply(this,arguments)}function Se(){return(Se=(0,U.Z)(function*(E,A){let P=yield nt(E.appConfig);for(;1===P.authToken.requestStatus;)yield Yr(100),P=yield nt(E.appConfig);const Y=P.authToken;return 0===Y.requestStatus?di(E,A):Y})).apply(this,arguments)}function nt(E){return rn(E,A=>{if(!Nt(A))throw Le.create("not-registered");return function Qr(E){return 1===E.requestStatus&&E.requestTime+me<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Wt(){return Wt=(0,U.Z)(function*(E,A){try{const P=yield function Jt(E,A){return kn.apply(this,arguments)}(E,A),Y=Object.assign(Object.assign({},A),{authToken:P});return yield Kr(E.appConfig,Y),P}catch(P){if(!Vt(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const Y=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Kr(E.appConfig,Y)}else yield Nr(E.appConfig);throw P}}),Wt.apply(this,arguments)}function Nt(E){return void 0!==E&&2===E.registrationStatus}function ci(){return(ci=(0,U.Z)(function*(E){const A=E,{installationEntry:P,registrationPromise:Y}=yield he(A);return Y?Y.catch(console.error):di(A).catch(console.error),P.fid})).apply(this,arguments)}function is(){return is=(0,U.Z)(function*(E,A=!1){const P=E;return yield function Yi(E){return Gs.apply(this,arguments)}(P),(yield di(P,A)).token}),is.apply(this,arguments)}function Gs(){return(Gs=(0,U.Z)(function*(E){const{registrationPromise:A}=yield he(E);A&&(yield A)})).apply(this,arguments)}function ge(E){return Le.create("missing-app-config-values",{valueName:E})}const Ae="installations",wt=E=>{const A=E.getProvider("app").getImmediate(),P=function ye(E){if(!E||!E.options)throw ge("App Configuration");if(!E.name)throw ge("App Name");const A=["projectId","apiKey","appId"];for(const P of A)if(!E.options[P])throw ge(P);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(A);return{app:A,appConfig:P,heartbeatServiceProvider:(0,Me.qX)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Ht=E=>{const A=E.getProvider("app").getImmediate(),P=(0,Me.qX)(A,Ae).getImmediate();return{getId:()=>function Jr(E){return ci.apply(this,arguments)}(P),getToken:pe=>function Hi(E){return is.apply(this,arguments)}(P,pe)}};(function $n(){(0,Me.Xd)(new ne.wA(Ae,wt,"PUBLIC")),(0,Me.Xd)(new ne.wA("installations-internal",Ht,"PRIVATE"))})(),(0,Me.KN)(ft,Ne),(0,Me.KN)(ft,Ne,"esm2017");const wn="@firebase/remote-config",hi=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class St{constructor(A,P,Y,pe){this.client=A,this.storage=P,this.storageCache=Y,this.logger=pe}isCachedDataFresh(A,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Y=Date.now()-P,pe=Y<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Y}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${pe}.`),pe}fetch(A){var P=this;return(0,U.Z)(function*(){const[Y,pe]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(pe&&P.isCachedDataFresh(A.cacheMaxAgeMillis,Y))return pe;A.eTag=pe&&pe.eTag;const Ie=yield P.client.fetch(A),ze=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ie.status&&ze.push(P.storage.setLastSuccessfulFetchResponse(Ie)),yield Promise.all(ze),Ie})()}}function ln(E=navigator){return E.languages&&E.languages[0]||E.language}class tn{constructor(A,P,Y,pe,Ie,ze){this.firebaseInstallations=A,this.sdkVersion=P,this.namespace=Y,this.projectId=pe,this.apiKey=Ie,this.appId=ze}fetch(A){var P=this;return(0,U.Z)(function*(){const[Y,pe]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),ze=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,Ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Ot={sdk_version:P.sdkVersion,app_instance_id:Y,app_instance_id_token:pe,app_id:P.appId,language_code:ln()},sn={method:"POST",headers:Ft,body:JSON.stringify(Ot)},En=fetch(ze,sn),Rn=new Promise((lo,za)=>{A.signal.addEventListener(()=>{const qa=new Error("The operation was aborted.");qa.name="AbortError",za(qa)})});let co;try{yield Promise.race([En,Rn]),co=yield En}catch(lo){let za="fetch-client-network";throw"AbortError"===lo?.name&&(za="fetch-timeout"),hi.create(za,{originalErrorMessage:lo?.message})}let Cs=co.status;const uu=co.headers.get("ETag")||void 0;let cu,lu;if(200===co.status){let lo;try{lo=yield co.json()}catch(za){throw hi.create("fetch-client-parse",{originalErrorMessage:za?.message})}cu=lo.entries,lu=lo.state}if("INSTANCE_STATE_UNSPECIFIED"===lu?Cs=500:"NO_CHANGE"===lu?Cs=304:("NO_TEMPLATE"===lu||"EMPTY_CONFIG"===lu)&&(cu={}),304!==Cs&&200!==Cs)throw hi.create("fetch-status",{httpStatus:Cs});return{status:Cs,eTag:uu,config:cu}})()}}class Br{constructor(A,P){this.client=A,this.storage=P}fetch(A){var P=this;return(0,U.Z)(function*(){const Y=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(A,Y)})()}attemptFetch(A,{throttleEndTimeMillis:P,backoffCount:Y}){var pe=this;return(0,U.Z)(function*(){yield function bi(E,A){return new Promise((P,Y)=>{const pe=Math.max(A-Date.now(),0),Ie=setTimeout(P,pe);E.addEventListener(()=>{clearTimeout(Ie),Y(hi.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,P);try{const Ie=yield pe.client.fetch(A);return yield pe.storage.deleteThrottleMetadata(),Ie}catch(Ie){if(!function xi(E){if(!(E instanceof fe.ZR&&E.customData))return!1;const A=Number(E.customData.httpStatus);return 429===A||500===A||503===A||504===A}(Ie))throw Ie;const ze={throttleEndTimeMillis:Date.now()+(0,fe.$s)(Y),backoffCount:Y+1};return yield pe.storage.setThrottleMetadata(ze),pe.attemptFetch(A,ze)}})()}}class xs{constructor(A,P,Y,pe,Ie){this.app=A,this._client=P,this._storageCache=Y,this._storage=pe,this._logger=Ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Gi(E,A){const P=E.target.error||void 0;return hi.create(A,{originalErrorMessage:P&&P?.message})}const cn="app_namespace_store";class Dr{constructor(A,P,Y,pe=function _i(){return new Promise((E,A)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=Y=>{A(Gi(Y,"storage-open"))},P.onsuccess=Y=>{E(Y.target.result)},P.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(cn,{keyPath:"compositeKey"})}}catch(P){A(hi.create("storage-open",{originalErrorMessage:P?.message}))}})}()){this.appId=A,this.appName=P,this.namespace=Y,this.openDbPromise=pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var P=this;return(0,U.Z)(function*(){const Y=yield P.openDbPromise;return new Promise((pe,Ie)=>{const Ft=Y.transaction([cn],"readonly").objectStore(cn),Ot=P.createCompositeKey(A);try{const sn=Ft.get(Ot);sn.onerror=En=>{Ie(Gi(En,"storage-get"))},sn.onsuccess=En=>{const Rn=En.target.result;pe(Rn?Rn.value:void 0)}}catch(sn){Ie(hi.create("storage-get",{originalErrorMessage:sn?.message}))}})})()}set(A,P){var Y=this;return(0,U.Z)(function*(){const pe=yield Y.openDbPromise;return new Promise((Ie,ze)=>{const Ot=pe.transaction([cn],"readwrite").objectStore(cn),sn=Y.createCompositeKey(A);try{const En=Ot.put({compositeKey:sn,value:P});En.onerror=Rn=>{ze(Gi(Rn,"storage-set"))},En.onsuccess=()=>{Ie()}}catch(En){ze(hi.create("storage-set",{originalErrorMessage:En?.message}))}})})()}delete(A){var P=this;return(0,U.Z)(function*(){const Y=yield P.openDbPromise;return new Promise((pe,Ie)=>{const Ft=Y.transaction([cn],"readwrite").objectStore(cn),Ot=P.createCompositeKey(A);try{const sn=Ft.delete(Ot);sn.onerror=En=>{Ie(Gi(En,"storage-delete"))},sn.onsuccess=()=>{pe()}}catch(sn){Ie(hi.create("storage-delete",{originalErrorMessage:sn?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Mo{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,U.Z)(function*(){const P=A.storage.getLastFetchStatus(),Y=A.storage.getLastSuccessfulFetchTimestampMillis(),pe=A.storage.getActiveConfig(),Ie=yield P;Ie&&(A.lastFetchStatus=Ie);const ze=yield Y;ze&&(A.lastSuccessfulFetchTimestampMillis=ze);const Ft=yield pe;Ft&&(A.activeConfig=Ft)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function ys(){return ti.apply(this,arguments)}function ti(){return(ti=(0,U.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}!function ms(){(0,Me.Xd)(new ne.wA("remote-config",function E(A,{instanceIdentifier:P}){const Y=A.getProvider("app").getImmediate(),pe=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw hi.create("registration-window");if(!(0,fe.hl)())throw hi.create("indexed-db-unavailable");const{projectId:Ie,apiKey:ze,appId:Ft}=Y.options;if(!Ie)throw hi.create("registration-project-id");if(!ze)throw hi.create("registration-api-key");if(!Ft)throw hi.create("registration-app-id");const Ot=new Dr(Ft,Y.name,P=P||"firebase"),sn=new Mo(Ot),En=new de.Yd(wn);En.logLevel=de.in.ERROR;const Rn=new tn(pe,Me.Jn,P,Ie,ze,Ft),co=new Br(Rn,Ot),Cs=new St(co,Ot,sn,En),uu=new xs(Y,Cs,sn,Ot,En);return function Ar(E){const A=(0,fe.m9)(E);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(uu),uu},"PUBLIC").setMultipleInstances(!0)),(0,Me.KN)(wn,"0.4.4"),(0,Me.KN)(wn,"0.4.4","esm2017")}();const Si=(E,A)=>A.some(P=>E instanceof P);let Ns,os;const xo=new WeakMap,Os=new WeakMap,Ri=new WeakMap,Ps=new WeakMap,vs=new WeakMap;let Ai={get(E,A,P){if(E instanceof IDBTransaction){if("done"===A)return Os.get(E);if("objectStoreNames"===A)return E.objectStoreNames||Ri.get(E);if("store"===A)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return Cr(E[A])},set:(E,A,P)=>(E[A]=P,!0),has:(E,A)=>E instanceof IDBTransaction&&("done"===A||"store"===A)||A in E};function eo(E){return"function"==typeof E?function Mr(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qo(){return os||(os=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...A){return E.apply(ks(this),A),Cr(xo.get(this))}:function(...A){return Cr(E.apply(ks(this),A))}:function(A,...P){const Y=E.call(ks(this),A,...P);return Ri.set(Y,A.sort?A.sort():[A]),Cr(Y)}}(E):(E instanceof IDBTransaction&&function Zr(E){if(Os.has(E))return;const A=new Promise((P,Y)=>{const pe=()=>{E.removeEventListener("complete",Ie),E.removeEventListener("error",ze),E.removeEventListener("abort",ze)},Ie=()=>{P(),pe()},ze=()=>{Y(E.error||new DOMException("AbortError","AbortError")),pe()};E.addEventListener("complete",Ie),E.addEventListener("error",ze),E.addEventListener("abort",ze)});Os.set(E,A)}(E),Si(E,function On(){return Ns||(Ns=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Ai):E)}function Cr(E){if(E instanceof IDBRequest)return function Ws(E){const A=new Promise((P,Y)=>{const pe=()=>{E.removeEventListener("success",Ie),E.removeEventListener("error",ze)},Ie=()=>{P(Cr(E.result)),pe()},ze=()=>{Y(E.error),pe()};E.addEventListener("success",Ie),E.addEventListener("error",ze)});return A.then(P=>{P instanceof IDBCursor&&xo.set(P,E)}).catch(()=>{}),vs.set(A,E),A}(E);if(Ps.has(E))return Ps.get(E);const A=eo(E);return A!==E&&(Ps.set(E,A),vs.set(A,E)),A}const ks=E=>vs.get(E);function as(E,A,{blocked:P,upgrade:Y,blocking:pe,terminated:Ie}={}){const ze=indexedDB.open(E,A),Ft=Cr(ze);return Y&&ze.addEventListener("upgradeneeded",Ot=>{Y(Cr(ze.result),Ot.oldVersion,Ot.newVersion,Cr(ze.transaction))}),P&&ze.addEventListener("blocked",()=>P()),Ft.then(Ot=>{Ie&&Ot.addEventListener("close",()=>Ie()),pe&&Ot.addEventListener("versionchange",()=>pe())}).catch(()=>{}),Ft}function Pr(E,{blocked:A}={}){const P=indexedDB.deleteDatabase(E);return A&&P.addEventListener("blocked",()=>A()),Cr(P).then(()=>{})}const yo=["get","getKey","getAll","getAllKeys","count"],to=["put","add","delete","clear"],Jo=new Map;function Ro(E,A){if(!(E instanceof IDBDatabase)||A in E||"string"!=typeof A)return;if(Jo.get(A))return Jo.get(A);const P=A.replace(/FromIndex$/,""),Y=A!==P,pe=to.includes(P);if(!(P in(Y?IDBIndex:IDBObjectStore).prototype)||!pe&&!yo.includes(P))return;const Ie=function(){var ze=(0,U.Z)(function*(Ft,...Ot){const sn=this.transaction(Ft,pe?"readwrite":"readonly");let En=sn.store;return Y&&(En=En.index(Ot.shift())),(yield Promise.all([En[P](...Ot),pe&&sn.done]))[0]});return function(Ot){return ze.apply(this,arguments)}}();return Jo.set(A,Ie),Ie}!function pi(E){Ai=E(Ai)}(E=>({...E,get:(A,P,Y)=>Ro(A,P)||E.get(A,P,Y),has:(A,P)=>!!Ro(A,P)||E.has(A,P)}));const Fs="/firebase-messaging-sw.js",vo="/firebase-cloud-messaging-push-scope",H="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",B="https://fcmregistrations.googleapis.com/v1",ie="google.c.a.c_id",se="google.c.a.c_l",be="google.c.a.ts";var T=(()=>((T=T||{}).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",T))();function $(E){const A=new Uint8Array(E);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function De(E){const P=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Y=atob(P),pe=new Uint8Array(Y.length);for(let Ie=0;Ie<Y.length;++Ie)pe[Ie]=Y.charCodeAt(Ie);return pe}const pt="fcm_token_details_db",yn=5,zn="fcm_token_object_Store";function er(){return er=(0,U.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ie=>Ie.name).includes(pt))return null;let A=null;return(yield as(pt,yn,{upgrade:(Y=(0,U.Z)(function*(pe,Ie,ze,Ft){var Ot;if(Ie<2||!pe.objectStoreNames.contains(zn))return;const sn=Ft.objectStore(zn),En=yield sn.index("fcmSenderId").get(E);if(yield sn.clear(),En)if(2===Ie){const Rn=En;if(!Rn.auth||!Rn.p256dh||!Rn.endpoint)return;A={token:Rn.fcmToken,createTime:null!==(Ot=Rn.createTime)&&void 0!==Ot?Ot:Date.now(),subscriptionOptions:{auth:Rn.auth,p256dh:Rn.p256dh,endpoint:Rn.endpoint,swScope:Rn.swScope,vapidKey:"string"==typeof Rn.vapidKey?Rn.vapidKey:$(Rn.vapidKey)}}}else if(3===Ie){const Rn=En;A={token:Rn.fcmToken,createTime:Rn.createTime,subscriptionOptions:{auth:$(Rn.auth),p256dh:$(Rn.p256dh),endpoint:Rn.endpoint,swScope:Rn.swScope,vapidKey:$(Rn.vapidKey)}}}else if(4===Ie){const Rn=En;A={token:Rn.fcmToken,createTime:Rn.createTime,subscriptionOptions:{auth:$(Rn.auth),p256dh:$(Rn.p256dh),endpoint:Rn.endpoint,swScope:Rn.swScope,vapidKey:$(Rn.vapidKey)}}}}),function(Ie,ze,Ft,Ot){return Y.apply(this,arguments)})})).close(),yield Pr(pt),yield Pr("fcm_vapid_details_db"),yield Pr("undefined"),function Rr(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:A}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(A)?A:null;var Y}),er.apply(this,arguments)}const tr="firebase-messaging-database",hs=1,$r="firebase-messaging-store";let wi=null;function ni(){return wi||(wi=as(tr,hs,{upgrade:(E,A)=>{0===A&&E.createObjectStore($r)}})),wi}function no(E){return es.apply(this,arguments)}function es(){return es=(0,U.Z)(function*(E){const A=Ei(E),Y=yield(yield ni()).transaction($r).objectStore($r).get(A);if(Y)return Y;{const pe=yield function rr(E){return er.apply(this,arguments)}(E.appConfig.senderId);if(pe)return yield Xo(E,pe),pe}}),es.apply(this,arguments)}function Xo(E,A){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,U.Z)(function*(E,A){const P=Ei(E),pe=(yield ni()).transaction($r,"readwrite");return yield pe.objectStore($r).put(A,P),yield pe.done,A})).apply(this,arguments)}function _s(){return(_s=(0,U.Z)(function*(E){const A=Ei(E),Y=(yield ni()).transaction($r,"readwrite");yield Y.objectStore($r).delete(A),yield Y.done})).apply(this,arguments)}function Ei({appConfig:E}){return E.appId}const zi=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _a(E,A){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,U.Z)(function*(E,A){const P=yield Ea(E),Y=Iu(A),pe={method:"POST",headers:P,body:JSON.stringify(Y)};let Ie;try{Ie=yield(yield fetch(qi(E.appConfig),pe)).json()}catch(ze){throw zi.create("token-subscribe-failed",{errorInfo:ze?.toString()})}if(Ie.error)throw zi.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw zi.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function wa(){return(wa=(0,U.Z)(function*(E,A){const P=yield Ea(E),Y=Iu(A.subscriptionOptions),pe={method:"PATCH",headers:P,body:JSON.stringify(Y)};let Ie;try{Ie=yield(yield fetch(`${qi(E.appConfig)}/${A.token}`,pe)).json()}catch(ze){throw zi.create("token-update-failed",{errorInfo:ze?.toString()})}if(Ie.error)throw zi.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw zi.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function Ho(E,A){return da.apply(this,arguments)}function da(){return(da=(0,U.Z)(function*(E,A){const Y={method:"DELETE",headers:yield Ea(E)};try{const Ie=yield(yield fetch(`${qi(E.appConfig)}/${A}`,Y)).json();if(Ie.error)throw zi.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(pe){throw zi.create("token-unsubscribe-failed",{errorInfo:pe?.toString()})}})).apply(this,arguments)}function qi({projectId:E}){return`${B}/projects/${E}/registrations`}function Ea(E){return nr.apply(this,arguments)}function nr(){return(nr=(0,U.Z)(function*({appConfig:E,installations:A}){const P=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function Iu({p256dh:E,auth:A,endpoint:P,vapidKey:Y}){const pe={web:{endpoint:P,auth:A,p256dh:E}};return Y!==H&&(pe.web.applicationPubKey=Y),pe}const Ia=6048e5;function ha(){return ha=(0,U.Z)(function*(E){const A=yield function ts(E,A){return Io.apply(this,arguments)}(E.swRegistration,E.vapidKey),P={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:A.endpoint,auth:$(A.getKey("auth")),p256dh:$(A.getKey("p256dh"))},Y=yield no(E.firebaseDependencies);if(Y){if(function Do(E,A){return A.vapidKey===E.vapidKey&&A.endpoint===E.endpoint&&A.auth===E.auth&&A.p256dh===E.p256dh}(Y.subscriptionOptions,P))return Date.now()>=Y.createTime+Ia?function Du(E,A){return Go.apply(this,arguments)}(E,{token:Y.token,createTime:Date.now(),subscriptionOptions:P}):Y.token;try{yield Ho(E.firebaseDependencies,Y.token)}catch(pe){console.warn(pe)}return Eo(E.firebaseDependencies,P)}return Eo(E.firebaseDependencies,P)}),ha.apply(this,arguments)}function wo(){return wo=(0,U.Z)(function*(E){const A=yield no(E.firebaseDependencies);A&&(yield Ho(E.firebaseDependencies,A.token),yield function Ni(E){return _s.apply(this,arguments)}(E.firebaseDependencies));const P=yield E.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()}),wo.apply(this,arguments)}function Go(){return Go=(0,U.Z)(function*(E,A){try{const P=yield function Va(E,A){return wa.apply(this,arguments)}(E.firebaseDependencies,A),Y=Object.assign(Object.assign({},A),{token:P,createTime:Date.now()});return yield Xo(E.firebaseDependencies,Y),P}catch(P){throw yield function Da(E){return wo.apply(this,arguments)}(E),P}}),Go.apply(this,arguments)}function Eo(E,A){return ws.apply(this,arguments)}function ws(){return(ws=(0,U.Z)(function*(E,A){const Y={token:yield _a(E,A),createTime:Date.now(),subscriptionOptions:A};return yield Xo(E,Y),Y.token})).apply(this,arguments)}function Io(){return(Io=(0,U.Z)(function*(E,A){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:De(A)})})).apply(this,arguments)}function S(E){const A={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function V(E,A){if(!A.notification)return;E.notification={};const P=A.notification.title;P&&(E.notification.title=P);const Y=A.notification.body;Y&&(E.notification.body=Y);const pe=A.notification.image;pe&&(E.notification.image=pe);const Ie=A.notification.icon;Ie&&(E.notification.icon=Ie)}(A,E),function N(E,A){A.data&&(E.data=A.data)}(A,E),function z(E,A){var P,Y,pe,Ie,ze;if(!(A.fcmOptions||null!==(P=A.notification)&&void 0!==P&&P.click_action))return;E.fcmOptions={};const Ft=null!==(pe=null===(Y=A.fcmOptions)||void 0===Y?void 0:Y.link)&&void 0!==pe?pe:null===(Ie=A.notification)||void 0===Ie?void 0:Ie.click_action;Ft&&(E.fcmOptions.link=Ft);const Ot=null===(ze=A.fcmOptions)||void 0===ze?void 0:ze.analytics_label;Ot&&(E.fcmOptions.analyticsLabel=Ot)}(A,E),A}function Ue(E,A){const P=[];for(let Y=0;Y<E.length;Y++)P.push(E.charAt(Y)),Y<A.length&&P.push(A.charAt(Y));return P.join("")}function Xt(E){return zi.create("missing-app-config-values",{valueName:E})}Ue("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ue("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ir{constructor(A,P,Y){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const pe=function Be(E){if(!E||!E.options)throw Xt("App Configuration Object");if(!E.name)throw Xt("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:P}=E;for(const Y of A)if(!P[Y])throw Xt(Y);return{appName:E.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:pe,installations:P,analyticsProvider:Y}}_delete(){return Promise.resolve()}}function dr(){return(dr=(0,U.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Fs,{scope:vo}),E.swRegistration.update().catch(()=>{})}catch(A){throw zi.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function Tr(){return(Tr=(0,U.Z)(function*(E,A){if(!A&&!E.swRegistration&&(yield function Dn(E){return dr.apply(this,arguments)}(E)),A||!E.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw zi.create("invalid-sw-registration");E.swRegistration=A}})).apply(this,arguments)}function jr(){return(jr=(0,U.Z)(function*(E,A){A?E.vapidKey=A:E.vapidKey||(E.vapidKey=H)})).apply(this,arguments)}function br(){return br=(0,U.Z)(function*(E,A){if(!navigator)throw zi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw zi.create("permission-blocked");return yield function jn(E,A){return jr.apply(this,arguments)}(E,A?.vapidKey),yield function Mn(E,A){return Tr.apply(this,arguments)}(E,A?.serviceWorkerRegistration),function ro(E){return ha.apply(this,arguments)}(E)}),br.apply(this,arguments)}function li(){return(li=(0,U.Z)(function*(E,A,P){const Y=function Ks(E){switch(E){case T.NOTIFICATION_CLICKED:return"notification_open";case T.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(A);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(Y,{message_id:P[ie],message_name:P[se],message_time:P[be],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gt(){return gt=(0,U.Z)(function*(E,A){const P=A.data;if(!P.isFirebaseMessaging)return;E.onMessageHandler&&P.messageType===T.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(S(P)):E.onMessageHandler.next(S(P)));const Y=P.data;(function ae(E){return"object"==typeof E&&!!E&&ie in E})(Y)&&"1"===Y["google.c.a.e"]&&(yield function ri(E,A,P){return li.apply(this,arguments)}(E,P.messageType,Y))}),gt.apply(this,arguments)}const hr="@firebase/messaging",_n=E=>{const A=new ir(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function zo(E,A){return gt.apply(this,arguments)}(A,P)),A},zt=E=>{const A=E.getProvider("messaging").getImmediate();return{getToken:Y=>function Vs(E,A){return br.apply(this,arguments)}(A,Y)}};function gl(){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,U.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function on(){(0,Me.Xd)(new ne.wA("messaging",_n,"PUBLIC")),(0,Me.Xd)(new ne.wA("messaging-internal",zt,"PRIVATE")),(0,Me.KN)(hr,"0.12.4"),(0,Me.KN)(hr,"0.12.4","esm2017")}();const lt="analytics",sr="firebase_id",Cu="origin",zu=6e4,xn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ua="https://www.googletagmanager.com/gtag/js",Kt=new de.Yd("@firebase/analytics"),Wi=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ii(E){if(!E.startsWith(Ua)){const A=Wi.create("invalid-gtag-resource",{gtagURL:E});return Kt.warn(A.message),""}return E}function an(E){return Promise.all(E.map(A=>A.catch(P=>P)))}function xt(){return(xt=(0,U.Z)(function*(E,A,P,Y,pe,Ie){const ze=Y[pe];try{if(ze)yield A[ze];else{const Ot=(yield an(P)).find(sn=>sn.measurementId===pe);Ot&&(yield A[Ot.appId])}}catch(Ft){Kt.error(Ft)}E("config",pe,Ie)})).apply(this,arguments)}function so(){return(so=(0,U.Z)(function*(E,A,P,Y,pe){try{let Ie=[];if(pe&&pe.send_to){let ze=pe.send_to;Array.isArray(ze)||(ze=[ze]);const Ft=yield an(P);for(const Ot of ze){const sn=Ft.find(Rn=>Rn.measurementId===Ot),En=sn&&A[sn.appId];if(!En){Ie=[];break}Ie.push(En)}}0===Ie.length&&(Ie=Object.values(A)),yield Promise.all(Ie),E("event",Y,pe||{})}catch(Ie){Kt.error(Ie)}})).apply(this,arguments)}const yl=30,Ja=new class Ba{constructor(A={},P=1e3){this.throttleMetadata=A,this.intervalMillis=P}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,P){this.throttleMetadata[A]=P}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Es(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function $a(){return($a=(0,U.Z)(function*(E){var A;const{appId:P,apiKey:Y}=E,pe={method:"GET",headers:Es(Y)},Ie=xn.replace("{app-id}",P),ze=yield fetch(Ie,pe);if(200!==ze.status&&304!==ze.status){let Ft="";try{const Ot=yield ze.json();null!==(A=Ot.error)&&void 0!==A&&A.message&&(Ft=Ot.error.message)}catch{}throw Wi.create("config-fetch-failed",{httpStatus:ze.status,responseMessage:Ft})}return ze.json()})).apply(this,arguments)}function Co(){return(Co=(0,U.Z)(function*(E,A=Ja,P){const{appId:Y,apiKey:pe,measurementId:Ie}=E.options;if(!Y)throw Wi.create("no-app-id");if(!pe){if(Ie)return{measurementId:Ie,appId:Y};throw Wi.create("no-api-key")}const ze=A.getThrottleMetadata(Y)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ft=new vl;return setTimeout((0,U.Z)(function*(){Ft.abort()}),void 0!==P?P:zu),ja({appId:Y,apiKey:pe,measurementId:Ie},ze,Ft,A)})).apply(this,arguments)}function ja(E,A,P){return Pe.apply(this,arguments)}function Pe(){return Pe=(0,U.Z)(function*(E,{throttleEndTimeMillis:A,backoffCount:P},Y,pe=Ja){var Ie;const{appId:ze,measurementId:Ft}=E;try{yield function Ha(E,A){return new Promise((P,Y)=>{const pe=Math.max(A-Date.now(),0),Ie=setTimeout(P,pe);E.addEventListener(()=>{clearTimeout(Ie),Y(Wi.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(Y,A)}catch(Ot){if(Ft)return Kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ft} provided in the "measurementId" field in the local Firebase config. [${Ot?.message}]`),{appId:ze,measurementId:Ft};throw Ot}try{const Ot=yield function Wu(E){return $a.apply(this,arguments)}(E);return pe.deleteThrottleMetadata(ze),Ot}catch(Ot){const sn=Ot;if(!function Is(E){if(!(E instanceof fe.ZR&&E.customData))return!1;const A=Number(E.customData.httpStatus);return 429===A||500===A||503===A||504===A}(sn)){if(pe.deleteThrottleMetadata(ze),Ft)return Kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ft} provided in the "measurementId" field in the local Firebase config. [${sn?.message}]`),{appId:ze,measurementId:Ft};throw Ot}const En=503===Number(null===(Ie=sn?.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,fe.$s)(P,pe.intervalMillis,yl):(0,fe.$s)(P,pe.intervalMillis),Rn={throttleEndTimeMillis:Date.now()+En,backoffCount:P+1};return pe.setThrottleMetadata(ze,Rn),Kt.debug(`Calling attemptFetch again in ${En} millis`),ja(E,Rn,Y,pe)}}),Pe.apply(this,arguments)}class vl{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let Ta,Zt;function Oo(){return(Oo=(0,U.Z)(function*(E,A,P,Y,pe){if(pe&&pe.global)E("event",P,Y);else{const Ie=yield A;E("event",P,Object.assign(Object.assign({},Y),{send_to:Ie}))}})).apply(this,arguments)}function ta(){return(ta=(0,U.Z)(function*(){if(!(0,fe.hl)())return Kt.warn(Wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(E){return Kt.warn(Wi.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function Wo(){return Wo=(0,U.Z)(function*(E,A,P,Y,pe,Ie,ze){var Ft;const Ot=function Tu(E){return Co.apply(this,arguments)}(E);Ot.then(Cs=>{P[Cs.measurementId]=Cs.appId,E.options.measurementId&&Cs.measurementId!==E.options.measurementId&&Kt.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Cs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Cs=>Kt.error(Cs)),A.push(Ot);const sn=function rs(){return ta.apply(this,arguments)}().then(Cs=>{if(Cs)return Y.getId()}),[En,Rn]=yield Promise.all([Ot,sn]);(function Ca(E){const A=window.document.getElementsByTagName("script");for(const P of Object.values(A))if(P.src&&P.src.includes(Ua)&&P.src.includes(E))return P;return null})(Ie)||function ar(E,A){const P=function fa(E,A){let P;return window.trustedTypes&&(P=window.trustedTypes.createPolicy(E,A)),P}("firebase-js-sdk-policy",{createScriptURL:ii}),Y=document.createElement("script"),pe=`${Ua}?l=${E}&id=${A}`;Y.src=P?P?.createScriptURL(pe):pe,Y.async=!0,document.head.appendChild(Y)}(Ie,En.measurementId),Zt&&(pe("consent","default",Zt),function Gt(E){Zt=E}(void 0)),pe("js",new Date);const co=null!==(Ft=ze?.config)&&void 0!==Ft?Ft:{};return co[Cu]="firebase",co.update=!0,null!=Rn&&(co[sr]=Rn),pe("config",En.measurementId,co),Ta&&(pe("set",Ta),function Cn(E){Ta=E}(void 0)),En.measurementId}),Wo.apply(this,arguments)}class Po{constructor(A){this.app=A}_delete(){return delete fs[this.app.options.appId],Promise.resolve()}}let fs={},Ku=[];const xh={};let _l,na,ko="dataLayer",wl=!1;function Sc(E,A,P){!function El(){const E=[];if((0,fe.ru)()&&E.push("This is a browser extension environment."),(0,fe.zI)()||E.push("Cookies are not available."),E.length>0){const A=E.map((Y,pe)=>`(${pe+1}) ${Y}`).join(" "),P=Wi.create("invalid-analytics-context",{errorInfo:A});Kt.warn(P.message)}}();const Y=E.options.appId;if(!Y)throw Wi.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Wi.create("no-api-key");Kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fs[Y])throw Wi.create("already-exists",{id:Y});if(!wl){!function ns(E){let A=[];Array.isArray(window[E])?A=window[E]:window[E]=A}(ko);const{wrappedGtag:Ie,gtagCore:ze}=function qu(E,A,P,Y,pe){let Ie=function(...ze){window[Y].push(arguments)};return window[pe]&&"function"==typeof window[pe]&&(Ie=window[pe]),window[pe]=function ea(E,A,P,Y){function Ie(){return Ie=(0,U.Z)(function*(ze,...Ft){try{if("event"===ze){const[Ot,sn]=Ft;yield function io(E,A,P,Y,pe){return so.apply(this,arguments)}(E,A,P,Ot,sn)}else if("config"===ze){const[Ot,sn]=Ft;yield function kr(E,A,P,Y,pe,Ie){return xt.apply(this,arguments)}(E,A,P,Y,Ot,sn)}else if("consent"===ze){const[Ot]=Ft;E("consent","update",Ot)}else if("get"===ze){const[Ot,sn,En]=Ft;E("get",Ot,sn,En)}else if("set"===ze){const[Ot]=Ft;E("set",Ot)}else E(ze,...Ft)}catch(Ot){Kt.error(Ot)}}),Ie.apply(this,arguments)}return function pe(ze){return Ie.apply(this,arguments)}}(Ie,E,A,P),{gtagCore:Ie,wrappedGtag:window[pe]}}(fs,Ku,xh,ko,"gtag");na=Ie,_l=ze,wl=!0}return fs[Y]=function qo(E,A,P,Y,pe,Ie,ze){return Wo.apply(this,arguments)}(E,Ku,xh,A,_l,ko,P),new Po(E)}function Ac(){return ba.apply(this,arguments)}function ba(){return(ba=(0,U.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}const pa="@firebase/analytics";!function Ii(){(0,Me.Xd)(new ne.wA(lt,(A,{options:P})=>Sc(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,Me.Xd)(new ne.wA("analytics-internal",function E(A){try{const P=A.getProvider(lt).getImmediate();return{logEvent:(Y,pe,Ie)=>function tu(E,A,P,Y){E=(0,fe.m9)(E),function Oi(E,A,P,Y,pe){return Oo.apply(this,arguments)}(na,fs[E.app.options.appId],A,P,Y).catch(pe=>Kt.error(pe))}(P,Y,pe,Ie)}}catch(P){throw Wi.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,Me.KN)(pa,"0.10.0"),(0,Me.KN)(pa,"0.10.0","esm2017")}();var Yu=ee(727);class Sa extends Yu.w0{constructor(A,P){super()}schedule(A,P=0){return this}}const Ds={setInterval(E,A,...P){const{delegate:Y}=Ds;return Y?.setInterval?Y.setInterval(E,A,...P):setInterval(E,A,...P)},clearInterval(E){const{delegate:A}=Ds;return(A?.clearInterval||clearInterval)(E)},delegate:void 0};var Mc=ee(8737);class xc extends Sa{constructor(A,P){super(A,P),this.scheduler=A,this.work=P,this.pending=!1}schedule(A,P=0){var Y;if(this.closed)return this;this.state=A;const pe=this.id,Ie=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(Ie,pe,P)),this.pending=!0,this.delay=P,this.id=null!==(Y=this.id)&&void 0!==Y?Y:this.requestAsyncId(Ie,this.id,P),this}requestAsyncId(A,P,Y=0){return Ds.setInterval(A.flush.bind(A,this),Y)}recycleAsyncId(A,P,Y=0){if(null!=Y&&this.delay===Y&&!1===this.pending)return P;null!=P&&Ds.clearInterval(P)}execute(A,P){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Y=this._execute(A,P);if(Y)return Y;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(A,P){let pe,Y=!1;try{this.work(A)}catch(Ie){Y=!0,pe=Ie||new Error("Scheduled action threw falsy error")}if(Y)return this.unsubscribe(),pe}unsubscribe(){if(!this.closed){const{id:A,scheduler:P}=this,{actions:Y}=P;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Mc.P)(Y,this),null!=A&&(this.id=this.recycleAsyncId(P,A,null)),this.delay=null,super.unsubscribe()}}}const Aa={now:()=>(Aa.delegate||Date).now(),delegate:void 0};class oo{constructor(A,P=oo.now){this.schedulerActionCtor=A,this.now=P}schedule(A,P=0,Y){return new this.schedulerActionCtor(this,A).schedule(Y,P)}}oo.now=Aa.now;class Pi extends oo{constructor(A,P=oo.now){super(A,P),this.actions=[],this._active=!1}flush(A){const{actions:P}=this;if(this._active)return void P.push(A);let Y;this._active=!0;do{if(Y=A.execute(A.state,A.delay))break}while(A=P.shift());if(this._active=!1,Y){for(;A=P.shift();)A.unsubscribe();throw Y}}}const Ko=new class ia extends Pi{}(class Ki extends xc{constructor(A,P){super(A,P),this.scheduler=A,this.work=P}schedule(A,P=0){return P>0?super.schedule(A,P):(this.delay=P,this.state=A,this.scheduler.flush(this),this)}execute(A,P){return P>0||this.closed?super.execute(A,P):this._execute(A,P)}requestAsyncId(A,P,Y=0){return null!=Y&&Y>0||null==Y&&this.delay>0?super.requestAsyncId(A,P,Y):(A.flush(this),0)}}),Ma=new Pi(xc);var sa=ee(9751),oa=ee(8505),ga=ee(9468),ao=ee(5363);const Ys=new y.GfV("7.6.1"),To="__angularfire_symbol__analyticsIsSupportedValue",Fo="__angularfire_symbol__analyticsIsSupported",nu="__angularfire_symbol__remoteConfigIsSupportedValue",bo="__angularfire_symbol__remoteConfigIsSupported",ru="__angularfire_symbol__messagingIsSupportedValue",iu="__angularfire_symbol__messagingIsSupported";function _d(E,A,P){if(A){if(1===A.length)return A[0];const Ie=A.filter(ze=>ze.app===P);if(1===Ie.length)return Ie[0]}return P.container.getProvider(E).getImmediate({optional:!0})}globalThis[Fo]||(globalThis[Fo]=Ac().then(E=>globalThis[To]=E).catch(()=>globalThis[To]=!1)),globalThis[iu]||(globalThis[iu]=gl().then(E=>globalThis[ru]=E).catch(()=>globalThis[ru]=!1)),globalThis[bo]||(globalThis[bo]=ys().then(E=>globalThis[nu]=E).catch(()=>globalThis[nu]=!1));const Qu=(E,A)=>{const P=A?[A]:(0,ce.C6)(),Y=[];return P.forEach(pe=>{pe.container.getProvider(E).instances.forEach(ze=>{Y.includes(ze)||Y.push(ze)})}),Y};function uo(){}class Su{constructor(A,P=Ko){this.zone=A,this.delegate=P}now(){return this.delegate.now()}schedule(A,P,Y){const pe=this.zone;return this.delegate.schedule(function(ze){pe.runGuarded(()=>{A.apply(this,[ze])})},P,Y)}}class Nh{constructor(A){this.zone=A,this.task=null}call(A,P){const Y=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uo,{},uo,uo)),P.pipe((0,oa.b)({next:Y,complete:Y,error:Y})).subscribe(A).add(Y)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let cs=(()=>{class E{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new Su(Zone.current)),this.insideAngular=P.run(()=>new Su(Zone.current,Ma)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(P){return new(P||E)(y.LFG(y.R0b))},E.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Ra(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function ki(E){return Ra().ngZone.run(()=>E())}function ma(E){return Ra(),function Ga(E){return function(P){return(P=P.lift(new Nh(E.ngZone))).pipe((0,ga.R)(E.outsideAngular),(0,ao.Q)(E.insideAngular))}}(Ra())(E)}const ou=(E,A)=>function(){const Y=arguments;return A&&setTimeout(()=>{"scheduled"===A.state&&A.invoke()},10),ki(()=>E.apply(void 0,Y))},au=(E,A)=>function(){let P;const Y=arguments;for(let Ie=0;Ie<arguments.length;Ie++)"function"==typeof Y[Ie]&&(A&&(P||(P=ki(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uo,{},uo,uo)))),Y[Ie]=ou(Y[Ie],P));const pe=function su(E){return Ra().ngZone.runOutsideAngular(()=>E())}(()=>E.apply(this,Y));if(!A){if(pe instanceof sa.y){const Ie=Ra();return pe.pipe((0,ga.R)(Ie.outsideAngular),(0,ao.Q)(Ie.insideAngular))}return ki(()=>pe)}return pe instanceof sa.y?pe.pipe(ma):pe instanceof Promise?ki(()=>new Promise((Ie,ze)=>pe.then(Ft=>ki(()=>Ie(Ft)),Ft=>ki(()=>ze(Ft))))):"function"==typeof pe&&P?function(){return setTimeout(()=>{P&&"scheduled"===P.state&&P.invoke()},10),pe.apply(this,arguments)}:ki(()=>pe)}},2090:(fn,at,ee)=>{ee.d(at,{$s:()=>Nr,BH:()=>Ge,L:()=>Fe,LL:()=>tt,P0:()=>Fn,Pz:()=>ot,Sg:()=>Je,UG:()=>et,US:()=>ne,ZR:()=>rt,aH:()=>qe,b$:()=>yr,eu:()=>vt,hl:()=>We,m9:()=>Bn,ne:()=>Sr,pd:()=>Pt,q4:()=>Pn,ru:()=>Ln,tV:()=>ue,uI:()=>Xe,vZ:()=>In,w1:()=>ft,xO:()=>Sn,xb:()=>Zn,z$:()=>_t,zI:()=>ct,zd:()=>Gn});const Me=function(he){const G=[];let q=0;for(let K=0;K<he.length;K++){let te=he.charCodeAt(K);te<128?G[q++]=te:te<2048?(G[q++]=te>>6|192,G[q++]=63&te|128):55296==(64512&te)&&K+1<he.length&&56320==(64512&he.charCodeAt(K+1))?(te=65536+((1023&te)<<10)+(1023&he.charCodeAt(++K)),G[q++]=te>>18|240,G[q++]=te>>12&63|128,G[q++]=te>>6&63|128,G[q++]=63&te|128):(G[q++]=te>>12|224,G[q++]=te>>6&63|128,G[q++]=63&te|128)}return G},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(he,G){if(!Array.isArray(he))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,K=[];for(let te=0;te<he.length;te+=3){const Te=he[te],Qe=te+1<he.length,bt=Qe?he[te+1]:0,Bt=te+2<he.length,un=Bt?he[te+2]:0;let kn=(15&bt)<<2|un>>6,lr=63&un;Bt||(lr=64,Qe||(kn=64)),K.push(q[Te>>2],q[(3&Te)<<4|bt>>4],q[kn],q[lr])}return K.join("")},encodeString(he,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(he):this.encodeByteArray(Me(he),G)},decodeString(he,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(he):function(he){const G=[];let q=0,K=0;for(;q<he.length;){const te=he[q++];if(te<128)G[K++]=String.fromCharCode(te);else if(te>191&&te<224){const Te=he[q++];G[K++]=String.fromCharCode((31&te)<<6|63&Te)}else if(te>239&&te<365){const Bt=((7&te)<<18|(63&he[q++])<<12|(63&he[q++])<<6|63&he[q++])-65536;G[K++]=String.fromCharCode(55296+(Bt>>10)),G[K++]=String.fromCharCode(56320+(1023&Bt))}else{const Te=he[q++],Qe=he[q++];G[K++]=String.fromCharCode((15&te)<<12|(63&Te)<<6|63&Qe)}}return G.join("")}(this.decodeStringToByteArray(he,G))},decodeStringToByteArray(he,G){this.init_();const q=G?this.charToByteMapWebSafe_:this.charToByteMap_,K=[];for(let te=0;te<he.length;){const Te=q[he.charAt(te++)],bt=te<he.length?q[he.charAt(te)]:0;++te;const un=te<he.length?q[he.charAt(te)]:64;++te;const Jt=te<he.length?q[he.charAt(te)]:64;if(++te,null==Te||null==bt||null==un||null==Jt)throw new de;K.push(Te<<2|bt>>4),64!==un&&(K.push(bt<<4&240|un>>2),64!==Jt&&K.push(un<<6&192|Jt))}return K},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let he=0;he<this.ENCODED_VALS.length;he++)this.byteToCharMap_[he]=this.ENCODED_VALS.charAt(he),this.charToByteMap_[this.byteToCharMap_[he]]=he,this.byteToCharMapWebSafe_[he]=this.ENCODED_VALS_WEBSAFE.charAt(he),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[he]]=he,he>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(he)]=he,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(he)]=he)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fe=function(he){return function(he){const G=Me(he);return ne.encodeByteArray(G,!0)}(he).replace(/\./g,"")},ue=function(he){try{return ne.decodeString(he,!0)}catch(G){console.error("base64Decode failed: ",G)}return null},Qt=()=>{try{return function Ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const he=process.env.__FIREBASE_DEFAULTS__;return he?JSON.parse(he):void 0})()||(()=>{if(typeof document>"u")return;let he;try{he=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=he&&ue(he[1]);return G&&JSON.parse(G)})()}catch(he){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${he}`)}},Pn=he=>{var G,q;return null===(q=null===(G=Qt())||void 0===G?void 0:G.emulatorHosts)||void 0===q?void 0:q[he]},Fn=he=>{const G=Pn(he);if(!G)return;const q=G.lastIndexOf(":");if(q<=0||q+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const K=parseInt(G.substring(q+1),10);return"["===G[0]?[G.substring(1,q-1),K]:[G.substring(0,q),K]},qe=()=>{var he;return null===(he=Qt())||void 0===he?void 0:he.config},ot=he=>{var G;return null===(G=Qt())||void 0===G?void 0:G[`_${he}`]};class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,q)=>{this.resolve=G,this.reject=q})}wrapCallback(G){return(q,K)=>{q?this.reject(q):this.resolve(K),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(q):G(q,K))}}}function Je(he,G){if(he.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const K=G||"demo-project",te=he.iat||0,Te=he.sub||he.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${K}`,aud:K,iat:te,exp:te+3600,auth_time:te,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},he);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(Qe)),""].join(".")}function _t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function et(){var he;const G=null===(he=Qt())||void 0===he?void 0:he.forceEnvironment;if("node"===G)return!0;if("browser"===G)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ln(){const he="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof he&&void 0!==he.id}function yr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ft(){const he=_t();return he.indexOf("MSIE ")>=0||he.indexOf("Trident/")>=0}function We(){try{return"object"==typeof indexedDB}catch{return!1}}function vt(){return new Promise((he,G)=>{try{let q=!0;const K="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(K);te.onsuccess=()=>{te.result.close(),q||self.indexedDB.deleteDatabase(K),he(!0)},te.onupgradeneeded=()=>{q=!1},te.onerror=()=>{var Te;G((null===(Te=te.error)||void 0===Te?void 0:Te.message)||"")}}catch(q){G(q)}})}function ct(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class rt extends Error{constructor(G,q,K){super(q),this.code=G,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(G,q,K){this.service=G,this.serviceName=q,this.errors=K}create(G,...q){const K=q[0]||{},te=`${this.service}/${G}`,Te=this.errors[G],Qe=Te?function Le(he,G){return he.replace(Vt,(q,K)=>{const te=G[K];return null!=te?String(te):`<${K}?>`})}(Te,K):"Error";return new rt(te,`${this.serviceName}: ${Qe} (${te}).`,K)}}const Vt=/\{\$([^}]+)}/g;function Zn(he){for(const G in he)if(Object.prototype.hasOwnProperty.call(he,G))return!1;return!0}function In(he,G){if(he===G)return!0;const q=Object.keys(he),K=Object.keys(G);for(const te of q){if(!K.includes(te))return!1;const Te=he[te],Qe=G[te];if(Yr(Te)&&Yr(Qe)){if(!In(Te,Qe))return!1}else if(Te!==Qe)return!1}for(const te of K)if(!q.includes(te))return!1;return!0}function Yr(he){return null!==he&&"object"==typeof he}function Sn(he){const G=[];for(const[q,K]of Object.entries(he))Array.isArray(K)?K.forEach(te=>{G.push(encodeURIComponent(q)+"="+encodeURIComponent(te))}):G.push(encodeURIComponent(q)+"="+encodeURIComponent(K));return G.length?"&"+G.join("&"):""}function Gn(he){const G={};return he.replace(/^\?/,"").split("&").forEach(K=>{if(K){const[te,Te]=K.split("=");G[decodeURIComponent(te)]=decodeURIComponent(Te)}}),G}function Pt(he){const G=he.indexOf("?");if(!G)return"";const q=he.indexOf("#",G);return he.substring(G,q>0?q:void 0)}function Sr(he,G){const q=new Yn(he,G);return q.subscribe.bind(q)}class Yn{constructor(G,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{G(this)}).catch(K=>{this.error(K)})}next(G){this.forEachObserver(q=>{q.next(G)})}error(G){this.forEachObserver(q=>{q.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,q,K){let te;if(void 0===G&&void 0===q&&void 0===K)throw new Error("Missing Observer.");te=function Vn(he,G){if("object"!=typeof he||null===he)return!1;for(const q of G)if(q in he&&"function"==typeof he[q])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:q,complete:K},void 0===te.next&&(te.next=Qn),void 0===te.error&&(te.error=Qn),void 0===te.complete&&(te.complete=Qn);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch{}}),this.observers.push(te),Te}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,G)}sendOne(G,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{q(this.observers[G])}catch(K){typeof console<"u"&&console.error&&console.error(K)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qn(){}const wr=1e3,Jn=2,Kr=144e5,Di=.5;function Nr(he,G=wr,q=Jn){const K=G*Math.pow(q,he),te=Math.round(Di*K*(Math.random()-.5)*2);return Math.min(Kr,K+te)}function Bn(he){return he&&he._delegate?he._delegate:he}},777:(fn,at,ee)=>{ee.d(at,{TM:()=>ce,bo:()=>y,rr:()=>U});class y{constructor(fe,ne,de,ut,Fe,ue,oe,Re,je){this.uid=fe,this.rol=ne,this.email=de,this.nombre=ut,this.apellido=Fe,this.edad=ue,this.dni=oe,this.imagenUno=Re,this.imagenDos=je}}class ce extends y{constructor(fe,ne,de,ut,Fe,ue,oe,Re,je,Ee,It){super(fe,ne,de,ut,Fe,ue,oe,Re,je),this.obraSocial=Ee,this.numAfiliado=It}}class U extends y{constructor(fe,ne,de,ut,Fe,ue,oe,Re,je,Ee,It){super(fe,ne,de,ut,Fe,ue,oe,Re,je),this.especialidad=Ee,this.tieneAcceso=It}}},2468:(fn,at,ee)=>{ee.d(at,{H:()=>ne});var y=ee(4102),ce=ee(2309),U=ee(8996),Me=ee(8032),fe=ee(1902);let ne=(()=>{class de{constructor(Fe,ue,oe){this.auth=Fe,this.firestore=ue,this.storage=oe,this.isLogged=!1,this.objUsuarioLogueado=void 0,this.auth.onAuthStateChanged(Re=>{null!=Re?this.traerUsuarioDeFirestore(Re).then(je=>{this.objUsuarioLogueado=je.data(),this.isLogged=!0,this.saveToLocalstorage(je.data())}):(this.isLogged=!1,console.info("El usuario deslogue\xf3"),this.objUsuarioLogueado=void 0,console.info(this.objUsuarioLogueado))})}registrar({correo:Fe,password:ue}){return(0,ce.Xb)(this.auth,Fe,ue)}ingresar(Fe,ue){return(0,ce.e5)(this.auth,Fe,ue)}salir(){return(0,ce.w7)(this.auth).then(()=>this.deleteFromLocalstorage())}updateDocument(Fe,ue,oe){const Re=(0,y.JU)(this.firestore,`${Fe}/${ue}`);return(0,y.r7)(Re,{tieneAcceso:oe})}guardarUsuarioEnFirestore(Fe){const ue=(0,y.JU)(this.firestore,`usuarios/${Fe.uid}`);return(0,y.pl)(ue,Object.assign({},Fe),{merge:!0})}guardarInicioDeSesion(Fe){let ue={mail:Fe.mail,uid:Fe.uid,rol:Fe.rol,ingreso:(new Date).toLocaleString()};const oe=(0,y.hJ)(this.firestore,"ingresos");return(0,y.ET)(oe,ue)}guardarResultado(Fe){let ue=Fe;ue.fecha=(new Date).toLocaleString(),ue.usuario=this.objUsuarioLogueado?.mail,ue.rol=this.objUsuarioLogueado?.rol;const oe=(0,y.hJ)(this.firestore,"resultados");return(0,y.ET)(oe,ue)}traerUsuarioDeFirestore(Fe){let ue=(0,y.JU)(this.firestore,`usuarios/${Fe.uid}`);return(0,y.QT)(ue)}traerColeccion(Fe){const ue=(0,y.hJ)(this.firestore,Fe);return(0,U.D)((0,y.PL)(ue))}traerColeccionOrdenada(Fe,ue){const oe=(0,y.hJ)(this.firestore,Fe),Re=(0,y.IO)(oe,(0,y.Xo)(ue));return(0,y.BS)(Re)}getUsuarioLocalstorage(){return JSON.parse(localStorage.getItem("usuarioActual"))}saveToLocalstorage(Fe){localStorage.setItem("usuarioActual",JSON.stringify(Fe))}deleteFromLocalstorage(){localStorage.removeItem("usuarioActual")}get hayUsuarioLogueado(){return this.isLogged}get usuarioLogueado(){return this.objUsuarioLogueado}guardarMensaje(Fe){const ue={usuario:this.usuarioLogueado?.mail,fecha:(new Date).toString(),mensaje:Fe},oe=(0,y.hJ)(this.firestore,"mensajes");return(0,y.ET)(oe,ue)}guardarEncuesta(Fe){const ue=Fe;ue.usuario=this.usuarioLogueado,ue.fecha=(new Date).toString();const oe=(0,y.hJ)(this.firestore,"encuestas");return(0,y.ET)(oe,ue)}traerTodosLosMensajes(){const Fe=(0,y.hJ)(this.firestore,"mensajes"),ue=(0,y.IO)(Fe,(0,y.Xo)("fecha"));return(0,y.BS)(ue)}subirImagenes(Fe,ue,oe){const je=(0,Me.iH)(this.storage,"images/"+ue+"/"+oe);return(0,Me.KV)(je,Fe)}traerImagen(Fe,ue){const Re=(0,Me.iH)(this.storage,"images/"+Fe+"/"+ue);return(0,Me.Jt)(Re)}}return de.\u0275fac=function(Fe){return new(Fe||de)(fe.LFG(ce.gx),fe.LFG(y.gg),fe.LFG(Me.Ke))},de.\u0275prov=fe.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},1839:(fn,at,ee)=>{var y=ee(6550),ce=ee(6795),U=ee(1902),Me=ee(2468),fe=ee(5030);let ne=(()=>{class Ce{constructor(tt){this.userAuth=tt,this.usuariosDePrueba=[{email:"asdf@gmail.com",pass:"111111"},{email:"raul.gonzalez@sarasa.com",pass:"123456"},{email:"felipe.gonzalez@sarasa.com",pass:"123456"},{email:"asdf2@gmail.com",pass:"111111"},{email:"raul.gonzalez@sarasa.com",pass:"123456"},{email:"felipe.gonzalez@sarasa.com",pass:"123456"}]}loguear(tt,Le){console.info(tt,Le),this.userAuth.ingresar(tt,Le).then(()=>console.info("ingreso correctamente")).catch(Vt=>console.info(Vt))}ngOnInit(){}}return Ce.\u0275fac=function(tt){return new(tt||Ce)(U.Y36(Me.H))},Ce.\u0275cmp=U.Xpm({type:Ce,selectors:[["app-login"]],decls:30,vars:0,consts:[[1,"d-flex","justify-content-center"],[1,"row"],[1,"col-md-6"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","name@example.com",1,"form-control"],["for","floatingInput"],[1,"mt-2","form-floating"],["type","password","id","floatingPassword","placeholder","Password",1,"form-control"],["for","floatingPassword"],["type","submit",1,"mt-2","w-100","btn","btn-lg","btn-primary"],["role","group","aria-label","Basic\n                example",1,"w-25","btn-group-vertical","p-5"],["type","button",1,"btn","btn-info",3,"click"]],template:function(tt,Le){1&tt&&(U.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form")(4,"h1",3),U._uU(5,"Ya se encuentra registrado?"),U.qZA(),U.TgZ(6,"div",4),U._UZ(7,"input",5),U.TgZ(8,"label",6),U._uU(9,"Email"),U.qZA()(),U.TgZ(10,"div",7),U._UZ(11,"input",8),U.TgZ(12,"label",9),U._uU(13,"Contrase\xf1a"),U.qZA()(),U.TgZ(14,"button",10),U._uU(15,"Ingresar!"),U.qZA()()(),U.TgZ(16,"div",2)(17,"div",11)(18,"button",12),U.NdJ("click",function(){return Le.loguear(Le.usuariosDePrueba[0].email,Le.usuariosDePrueba[0].pass)}),U._uU(19,"Paciente 1"),U.qZA(),U.TgZ(20,"button",12),U.NdJ("click",function(){return Le.loguear(Le.usuariosDePrueba[1].email,Le.usuariosDePrueba[1].pass)}),U._uU(21,"Paciente 2"),U.qZA(),U.TgZ(22,"button",12),U.NdJ("click",function(){return Le.loguear(Le.usuariosDePrueba[2].email,Le.usuariosDePrueba[2].pass)}),U._uU(23,"Paciente 3"),U.qZA(),U.TgZ(24,"button",12),U.NdJ("click",function(){return Le.loguear(Le.usuariosDePrueba[3].email,Le.usuariosDePrueba[3].pass)}),U._uU(25,"Especialista 1"),U.qZA(),U.TgZ(26,"button",12),U.NdJ("click",function(){return Le.loguear(Le.usuariosDePrueba[4].email,Le.usuariosDePrueba[4].pass)}),U._uU(27,"Especialista 2"),U.qZA(),U.TgZ(28,"button",12),U.NdJ("click",function(){return Le.loguear(Le.usuariosDePrueba[5].email,Le.usuariosDePrueba[5].pass)}),U._uU(29,"Administrador"),U.qZA()()()()())},dependencies:[fe._Y,fe.JL,fe.F],styles:["div[_ngcontent-%COMP%]{text-align:center;min-width:360px;max-width:auto}"]}),Ce})(),de=(()=>{class Ce{}return Ce.\u0275fac=function(tt){return new(tt||Ce)},Ce.\u0275cmp=U.Xpm({type:Ce,selectors:[["app-navbar"]],decls:7,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary"],["src","../../../assets/medical-symbol-icon.png",2,"max-width","32px","max-height","100px"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"]],template:function(tt,Le){1&tt&&(U.TgZ(0,"nav",0),U._UZ(1,"img",1),U.TgZ(2,"h4"),U._uU(3,"OnLine Cl\xednica M\xe9dica"),U.qZA(),U.TgZ(4,"button",2),U._UZ(5,"span",3),U.qZA(),U._UZ(6,"div",4),U.qZA())},styles:["h4[_ngcontent-%COMP%]{padding-left:5px;padding-top:5px;color:#fff}"]}),Ce})(),ut=(()=>{class Ce{}return Ce.\u0275fac=function(tt){return new(tt||Ce)},Ce.\u0275cmp=U.Xpm({type:Ce,selectors:[["app-bienvenida"]],decls:16,vars:0,consts:[[1,"d-flex","justify-content-center"],["src","../../../assets/medical-symbol-icon.png","alt","","width","128","height","128",1,"mb-4"],[1,"row"],[1,"col-md-7"],[1,"col-md-5"],[1,"h3","mb-3","fw-normal"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button","routerLink","/registro/paciente",1,"btn","btn-primary"],["type","button","routerLink","/registro/especialista",1,"btn","btn-warning"]],template:function(tt,Le){1&tt&&(U._UZ(0,"app-navbar"),U.TgZ(1,"div")(2,"div",0),U._UZ(3,"img",1),U.qZA(),U.TgZ(4,"div",2)(5,"div",3),U._UZ(6,"app-login"),U.qZA(),U.TgZ(7,"div",4)(8,"div",2)(9,"h1",5),U._uU(10,"Usuario nuevo?"),U.qZA(),U.TgZ(11,"div",6)(12,"button",7),U._uU(13,"Registrarse como paciente"),U.qZA(),U.TgZ(14,"button",8),U._uU(15,"Registrarse como especialista"),U.qZA()()()()()())},dependencies:[ce.rH,ne,de],styles:["div[_ngcontent-%COMP%]{text-align:center;min-width:360px;max-width:auto}"]}),Ce})();var Fe=ee(777),ue=ee(4755);function oe(Ce,rt){1&Ce&&(U.TgZ(0,"small",19),U._uU(1,"Ingrese su nombre"),U.qZA())}function Re(Ce,rt){1&Ce&&(U.TgZ(0,"small",19),U._uU(1,"Ingrese su apellido"),U.qZA())}function je(Ce,rt){1&Ce&&(U.TgZ(0,"small",19),U._uU(1,"Ingrese su edad (Mayores de edad)"),U.qZA())}function Ee(Ce,rt){1&Ce&&(U.TgZ(0,"small",19),U._uU(1,"La edad debe ser de 18 a 99 a\xf1os"),U.qZA())}function It(Ce,rt){1&Ce&&(U.TgZ(0,"small",19),U._uU(1,"Ingrese un DNI correcto sin puntos ni comas"),U.qZA())}function st(Ce,rt){1&Ce&&(U.TgZ(0,"small",19),U._uU(1,"El DNI debe ser > 1000000 y < 99999999"),U.qZA())}function ht(Ce,rt){1&Ce&&(U.TgZ(0,"small",19),U._uU(1,"Ingrese su obra social"),U.qZA())}function Qt(Ce,rt){1&Ce&&(U.TgZ(0,"small",19),U._uU(1,"Ingrese su numero de afiliado"),U.qZA())}function Pn(Ce,rt){1&Ce&&(U.TgZ(0,"small",19),U._uU(1,"Debe estar en el rango de 1000 a 9999"),U.qZA())}function Fn(Ce,rt){if(1&Ce&&(U.TgZ(0,"div",3)(1,"div",4),U._UZ(2,"input",20),U.YNc(3,ht,2,0,"small",6),U.qZA(),U.TgZ(4,"div",4),U._UZ(5,"input",21),U.YNc(6,Qt,2,0,"small",6),U.YNc(7,Pn,2,0,"small",6),U.qZA(),U._UZ(8,"p"),U.qZA()),2&Ce){const tt=U.oxw();U.xp6(3),U.Q6J("ngIf",(null==tt.formulario.controls.obraSocial.errors?null:tt.formulario.controls.obraSocial.errors.required)&&tt.formulario.controls.obraSocial.touched),U.xp6(3),U.Q6J("ngIf",(null==tt.formulario.controls.numAfiliado.errors?null:tt.formulario.controls.numAfiliado.errors.required)&&tt.formulario.controls.numAfiliado.touched),U.xp6(1),U.Q6J("ngIf",(null==tt.formulario.controls.numAfiliado.errors?null:tt.formulario.controls.numAfiliado.errors.min)||(null==tt.formulario.controls.numAfiliado.errors?null:tt.formulario.controls.numAfiliado.errors.max)&&tt.formulario.controls.numAfiliado.touched)}}function qe(Ce,rt){1&Ce&&(U.TgZ(0,"small",19),U._uU(1,"Seleccione una especialidad"),U.qZA())}function ot(Ce,rt){1&Ce&&(U.TgZ(0,"small",19),U._uU(1,"Ingrese su especialidad"),U.qZA())}function Ge(Ce,rt){if(1&Ce){const tt=U.EpF();U.TgZ(0,"div",3)(1,"div",4)(2,"select",22)(3,"option",23),U._uU(4,"Especialidad"),U.qZA(),U.TgZ(5,"option",24),U._uU(6,"Cardi\xf3logo"),U.qZA(),U.TgZ(7,"option",25),U._uU(8,"Alergista"),U.qZA(),U.TgZ(9,"option",26),U._uU(10,"Traumat\xf3logo"),U.qZA()(),U.YNc(11,qe,2,0,"small",6),U.qZA(),U.TgZ(12,"div",4)(13,"div",27)(14,"input",28),U.NdJ("change",function(){U.CHM(tt);const Vt=U.oxw();return U.KtG(Vt.agregarOpcionPersonal())}),U.qZA(),U._UZ(15,"input",29),U.YNc(16,ot,2,0,"small",6),U.qZA()(),U._UZ(17,"p"),U.qZA()}if(2&Ce){const tt=U.oxw();U.xp6(11),U.Q6J("ngIf",(null==tt.formulario.controls.especialidad.errors?null:tt.formulario.controls.especialidad.errors.required)&&tt.formulario.controls.especialidad.touched),U.xp6(5),U.Q6J("ngIf",(null==tt.formulario.controls.especialidadPersonalizada.errors?null:tt.formulario.controls.especialidadPersonalizada.errors.required)&&tt.formulario.controls.especialidadPersonalizada.touched)}}function Je(Ce,rt){1&Ce&&(U.TgZ(0,"small",19),U._uU(1,"Ingrese su correo electr\xf3nico"),U.qZA())}function _t(Ce,rt){1&Ce&&(U.TgZ(0,"small",19),U._uU(1,"Ingrese su contrase\xf1a"),U.qZA())}function Xe(Ce,rt){1&Ce&&(U.TgZ(0,"small",19),U._UZ(1,"p"),U._uU(2," Las contrase\xf1as no coinciden."),U.qZA())}function et(Ce,rt){1&Ce&&(U.TgZ(0,"small",19),U._uU(1,"Repita su contrase\xf1a"),U.qZA())}function kt(Ce,rt){if(1&Ce){const tt=U.EpF();U.TgZ(0,"div",4)(1,"input",30),U.NdJ("change",function(Vt){U.CHM(tt);const At=U.oxw();return U.KtG(At.actualizarArchivo(Vt,"image2"))}),U.qZA()()}}const yr=[{path:"welcome",component:ut},{path:"",redirectTo:"/welcome",pathMatch:"full"},{path:"registro/:tipo",component:(()=>{class Ce{constructor(tt,Le,Vt,At){this._Activatedroute=tt,this.router=Le,this.fb=Vt,this.auth=At,this.tipo=this._Activatedroute.snapshot.paramMap.get("tipo")}ngOnInit(){this.setearValidaciones(),this.setUserCategoryValidators()}setearValidaciones(){this.formulario=this.fb.group({nombre:["Jose",[fe.kI.required]],apellido:["Garcia",fe.kI.required],edad:["22",[fe.kI.required,fe.kI.min(18),fe.kI.max(99)]],dni:["22222222",[fe.kI.required,fe.kI.min(1e6),fe.kI.max(99999999)]],obraSocial:["222222",fe.kI.required],numAfiliado:["2222",[fe.kI.required,fe.kI.min(1e3),fe.kI.max(9999)]],especialidad:["Cardi\xf3logo",fe.kI.required],especialidadPersonalizada:["",fe.kI.required],email:["asdf@gmail.com",[fe.kI.required,fe.kI.email]],pass:["111111",fe.kI.required],passConfirm:["111111",fe.kI.required],image1:[null,[fe.kI.required]],image2:[null,[fe.kI.required]]})}actualizarArchivo(tt,Le){"image1"==Le?this.image1=tt.target.files[0]:this.image2=tt.target.files[0]}setUserCategoryValidators(){const tt=this.formulario.get("obraSocial"),Le=this.formulario.get("numAfiliado"),Vt=this.formulario.get("especialidad"),At=this.formulario.get("especialidadPersonalizada"),Ut=this.formulario.get("image2");At?.disable(),At?.updateValueAndValidity(),"paciente"===this.tipo&&(Vt?.disable(),Vt?.updateValueAndValidity()),"especialista"===this.tipo&&(tt?.disable(),tt?.updateValueAndValidity(),Le?.disable(),Le?.updateValueAndValidity(),Ut?.disable(),Ut?.updateValueAndValidity())}agregarOpcionPersonal(){const tt=this.formulario.get("especialidad"),Le=this.formulario.get("especialidadPersonalizada");tt?.enabled?(tt?.disable(),Le?.enable()):(tt?.enable(),Le?.disable()),tt?.updateValueAndValidity(),Le?.updateValueAndValidity()}onPasswordChange(){this.confirm_password.setErrors(this.confirm_password.value==this.password.value?null:{mismatch:!0})}requiredFileType(tt){return function(Le){const Vt=Le.value;if(Vt){const At=Vt.name.split(".")[1].toLowerCase();return tt.toLowerCase()!==At.toLowerCase()?{requiredFileType:!0}:null}return null}}get password(){return this.formulario.controls.pass}get confirm_password(){return this.formulario.controls.passConfirm}onSubmit(tt){this.crearUsuario(tt,this.tipo)}crearUsuario(tt,Le){let Vt;"especialista"==Le?(null==tt.especialidad&&(tt.especialidad=tt.especialidadPersonalizada,delete tt.especialidadPersonalizada),Vt=new Fe.rr("","especialista",tt.email,tt.nombre,tt.apellido,tt.edad,tt.dni,"","",tt.especialidad,!1)):"paciente"==Le&&(Vt=new Fe.TM("","paciente",tt.email,tt.nombre,tt.apellido,tt.edad,tt.dni,"","",tt.obraSocial,tt.numAfiliado)),delete tt.passConfirm,this.auth.registrar({correo:tt.email,password:tt.pass}).then(At=>{Vt.uid=At.user.uid,this.auth.subirImagenes(this.image1,At.user.uid,"image1").then(()=>this.auth.traerImagen(At.user.uid,"image1").then(Ut=>{Vt.imagenUno=Ut,Vt instanceof Fe.TM?this.auth.subirImagenes(this.image2,At.user.uid,"image2").then(()=>this.auth.traerImagen(At.user.uid,"image2").then(mn=>{Vt.imagenDos=mn,this.auth.guardarUsuarioEnFirestore(Vt).then(()=>console.log("Registrado y guardado en Firebase")).catch(pr=>console.info(pr))})):this.auth.guardarUsuarioEnFirestore(Vt).then(()=>console.log("Registrado y guardado en Firebase")).catch(mn=>console.info(mn))}))}).catch(At=>console.info(At))}}return Ce.\u0275fac=function(tt){return new(tt||Ce)(U.Y36(ce.gz),U.Y36(ce.F0),U.Y36(fe.qu),U.Y36(Me.H))},Ce.\u0275cmp=U.Xpm({type:Ce,selectors:[["app-registrar"]],decls:50,vars:17,consts:[[1,"d-flex","justify-content-center"],["novalidate","",3,"formGroup","ngSubmit"],[1,"h3","mb-3","fw-normal"],[1,"row"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control"],["class","invalid",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control"],["type","number","formControlName","edad","placeholder","Edad",1,"form-control"],["type","number","formControlName","dni","placeholder","DNI sin puntos ni coma",1,"form-control"],["class","row",4,"ngIf"],["type","email","formControlName","email","placeholder","nombre@ejemplo.com",1,"form-control"],["type","password","formControlName","pass","placeholder","Contrase\xf1a",1,"form-control",3,"change"],["type","password","formControlName","passConfirm","placeholder","Repita su contrase\xf1a",1,"form-control",3,"change"],["type","file","formControlName","image1","placeholder","Imagen 1",1,"form-control",3,"change"],["class","col",4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button","routerLink","/welcome",1,"btn","btn-danger"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"invalid"],["type","text","formControlName","obraSocial","placeholder","Obra Social",1,"form-control"],["type","number","formControlName","numAfiliado","placeholder","N\xfamero de afiliado",1,"form-control"],["formControlName","especialidad",1,"form-select"],["selected","","value",""],["value","cardi\xf3logo"],["value","alergista"],["value","traumatologo"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change"],["type","text","formControlName","especialidadPersonalizada","placeholder","Otra opci\xf3n",1,"form-control"],["type","file","formControlName","image2","placeholder","Imagen 2",1,"form-control",3,"change"]],template:function(tt,Le){1&tt&&(U.TgZ(0,"div",0)(1,"form",1),U.NdJ("ngSubmit",function(){return Le.onSubmit(Le.formulario.value)}),U.TgZ(2,"h1",2),U._uU(3,"Ingrese sus datos:"),U.qZA(),U.TgZ(4,"div",3)(5,"div",4),U._UZ(6,"input",5),U.YNc(7,oe,2,0,"small",6),U.qZA(),U.TgZ(8,"div",4),U._UZ(9,"input",7),U.YNc(10,Re,2,0,"small",6),U.qZA()(),U._UZ(11,"p"),U.TgZ(12,"div",3)(13,"div",4),U._UZ(14,"input",8),U.YNc(15,je,2,0,"small",6),U.YNc(16,Ee,2,0,"small",6),U.qZA(),U.TgZ(17,"div",4),U._UZ(18,"input",9),U.YNc(19,It,2,0,"small",6),U.YNc(20,st,2,0,"small",6),U.qZA()(),U._UZ(21,"p"),U.YNc(22,Fn,9,3,"div",10),U.YNc(23,Ge,18,2,"div",10),U.TgZ(24,"div",3)(25,"div",4),U._UZ(26,"input",11),U.YNc(27,Je,2,0,"small",6),U.qZA()(),U._UZ(28,"p"),U.TgZ(29,"div",3)(30,"div",4)(31,"input",12),U.NdJ("change",function(){return Le.onPasswordChange()}),U.qZA(),U.YNc(32,_t,2,0,"small",6),U.YNc(33,Xe,3,0,"small",6),U.qZA(),U.TgZ(34,"div",4)(35,"input",13),U.NdJ("change",function(){return Le.onPasswordChange()}),U.qZA(),U.YNc(36,et,2,0,"small",6),U.qZA()(),U._UZ(37,"p"),U.TgZ(38,"div",3)(39,"div",4)(40,"input",14),U.NdJ("change",function(At){return Le.actualizarArchivo(At,"image1")}),U.qZA()(),U.YNc(41,kt,2,0,"div",15),U.qZA(),U._UZ(42,"p"),U._uU(43),U._UZ(44,"p"),U.TgZ(45,"div",16)(46,"button",17),U._uU(47,"Cancelar"),U.qZA(),U.TgZ(48,"button",18),U._uU(49),U.qZA()()()()),2&tt&&(U.xp6(1),U.Q6J("formGroup",Le.formulario),U.xp6(6),U.Q6J("ngIf",(null==Le.formulario.controls.nombre.errors?null:Le.formulario.controls.nombre.errors.required)&&Le.formulario.controls.nombre.touched),U.xp6(3),U.Q6J("ngIf",(null==Le.formulario.controls.apellido.errors?null:Le.formulario.controls.apellido.errors.required)&&Le.formulario.controls.apellido.touched),U.xp6(5),U.Q6J("ngIf",(null==Le.formulario.controls.edad.errors?null:Le.formulario.controls.edad.errors.required)&&Le.formulario.controls.edad.touched),U.xp6(1),U.Q6J("ngIf",(null==Le.formulario.controls.edad.errors?null:Le.formulario.controls.edad.errors.min)||(null==Le.formulario.controls.edad.errors?null:Le.formulario.controls.edad.errors.max)&&Le.formulario.controls.edad.touched),U.xp6(3),U.Q6J("ngIf",(null==Le.formulario.controls.dni.errors?null:Le.formulario.controls.dni.errors.required)&&Le.formulario.controls.dni.touched),U.xp6(1),U.Q6J("ngIf",(null==Le.formulario.controls.dni.errors?null:Le.formulario.controls.dni.errors.min)||(null==Le.formulario.controls.dni.errors?null:Le.formulario.controls.dni.errors.max)&&Le.formulario.controls.dni.touched),U.xp6(2),U.Q6J("ngIf","paciente"==Le.tipo),U.xp6(1),U.Q6J("ngIf","especialista"==Le.tipo),U.xp6(4),U.Q6J("ngIf",(null==Le.formulario.controls.email.errors?null:Le.formulario.controls.email.errors.required)&&Le.formulario.controls.email.touched),U.xp6(5),U.Q6J("ngIf",(null==Le.formulario.controls.pass.errors?null:Le.formulario.controls.pass.errors.required)&&Le.formulario.controls.pass.touched),U.xp6(1),U.Q6J("ngIf",Le.confirm_password.hasError("mismatch")&&Le.formulario.controls.pass.touched),U.xp6(3),U.Q6J("ngIf",(null==Le.formulario.controls.passConfirm.errors?null:Le.formulario.controls.passConfirm.errors.required)&&Le.formulario.controls.passConfirm.touched),U.xp6(5),U.Q6J("ngIf","paciente"==Le.tipo),U.xp6(2),U.hij(" FORMULARIO VALIDO? - ",Le.formulario.valid," "),U.xp6(5),U.Q6J("disabled",Le.formulario.invalid),U.xp6(1),U.hij("Registrar ",Le.tipo,""))},dependencies:[ue.O5,ce.rH,fe._Y,fe.YN,fe.Kr,fe.Fj,fe.wV,fe.EJ,fe.JJ,fe.JL,fe.sg,fe.u],styles:["div[_ngcontent-%COMP%]{text-align:center;min-width:360px;max-width:auto}.invalid[_ngcontent-%COMP%]{text-align:left;color:#8b0000}"]}),Ce})()},{path:"home",loadChildren:()=>ee.e(694).then(ee.bind(ee,6694)).then(Ce=>Ce.HomeModule)}];let yt=(()=>{class Ce{}return Ce.\u0275fac=function(tt){return new(tt||Ce)},Ce.\u0275mod=U.oAB({type:Ce}),Ce.\u0275inj=U.cJS({imports:[ce.Bz.forRoot(yr),ce.Bz]}),Ce})(),ft=(()=>{class Ce{constructor(){this.title="TP22023"}}return Ce.\u0275fac=function(tt){return new(tt||Ce)},Ce.\u0275cmp=U.Xpm({type:Ce,selectors:[["app-root"]],decls:1,vars:0,template:function(tt,Le){1&tt&&U._UZ(0,"router-outlet")},dependencies:[ce.lC]}),Ce})();var Ne=ee(3692);const me_firebase={projectId:"tp2-2023",appId:"1:1022099960959:web:24fdd56da5a9b463f63b4a",storageBucket:"tp2-2023.appspot.com",apiKey:"AIzaSyApsoEq5aHBp7IfMIM--hqFqkbO3hzRe7I",authDomain:"tp2-2023.firebaseapp.com",messagingSenderId:"1022099960959"};var Oe=ee(2309),We=ee(4102),vt=ee(8032);let ct=(()=>{class Ce{}return Ce.\u0275fac=function(tt){return new(tt||Ce)},Ce.\u0275mod=U.oAB({type:Ce,bootstrap:[ft]}),Ce.\u0275inj=U.cJS({imports:[y.b2,yt,fe.u5,fe.UX,(0,Ne.hX)(()=>(0,Ne.ZF)(me_firebase)),(0,Oe.AR)(()=>(0,Oe.v0)()),(0,We.Cm)(()=>(0,We.ad)()),(0,vt.Vq)(()=>(0,vt.cF)())]}),Ce})();y.q6().bootstrapModule(ct).catch(Ce=>console.error(Ce))},1135:(fn,at,ee)=>{ee.d(at,{X:()=>ce});var y=ee(7579);class ce extends y.x{constructor(Me){super(),this._value=Me}get value(){return this.getValue()}_subscribe(Me){const fe=super._subscribe(Me);return!fe.closed&&Me.next(this._value),fe}getValue(){const{hasError:Me,thrownError:fe,_value:ne}=this;if(Me)throw fe;return this._throwIfClosed(),ne}next(Me){super.next(this._value=Me)}}},9751:(fn,at,ee)=>{ee.d(at,{y:()=>ut});var y=ee(2961),ce=ee(727),U=ee(8822),Me=ee(9635),fe=ee(2416),ne=ee(576),de=ee(2806);let ut=(()=>{class Re{constructor(Ee){Ee&&(this._subscribe=Ee)}lift(Ee){const It=new Re;return It.source=this,It.operator=Ee,It}subscribe(Ee,It,st){const ht=function oe(Re){return Re&&Re instanceof y.Lv||function ue(Re){return Re&&(0,ne.m)(Re.next)&&(0,ne.m)(Re.error)&&(0,ne.m)(Re.complete)}(Re)&&(0,ce.Nn)(Re)}(Ee)?Ee:new y.Hp(Ee,It,st);return(0,de.x)(()=>{const{operator:Qt,source:Pn}=this;ht.add(Qt?Qt.call(ht,Pn):Pn?this._subscribe(ht):this._trySubscribe(ht))}),ht}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(It){Ee.error(It)}}forEach(Ee,It){return new(It=Fe(It))((st,ht)=>{const Qt=new y.Hp({next:Pn=>{try{Ee(Pn)}catch(Fn){ht(Fn),Qt.unsubscribe()}},error:ht,complete:st});this.subscribe(Qt)})}_subscribe(Ee){var It;return null===(It=this.source)||void 0===It?void 0:It.subscribe(Ee)}[U.L](){return this}pipe(...Ee){return(0,Me.U)(Ee)(this)}toPromise(Ee){return new(Ee=Fe(Ee))((It,st)=>{let ht;this.subscribe(Qt=>ht=Qt,Qt=>st(Qt),()=>It(ht))})}}return Re.create=je=>new Re(je),Re})();function Fe(Re){var je;return null!==(je=Re??fe.config.Promise)&&void 0!==je?je:Promise}},7579:(fn,at,ee)=>{ee.d(at,{x:()=>de});var y=ee(9751),ce=ee(727);const Me=(0,ee(3888).d)(Fe=>function(){Fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=ee(8737),ne=ee(2806);let de=(()=>{class Fe extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const Re=new ut(this,this);return Re.operator=oe,Re}_throwIfClosed(){if(this.closed)throw new Me}next(oe){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Re of this.currentObservers)Re.next(oe)}})}error(oe){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:Re}=this;for(;Re.length;)Re.shift().error(oe)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:Re,isStopped:je,observers:Ee}=this;return Re||je?ce.Lc:(this.currentObservers=null,Ee.push(oe),new ce.w0(()=>{this.currentObservers=null,(0,fe.P)(Ee,oe)}))}_checkFinalizedStatuses(oe){const{hasError:Re,thrownError:je,isStopped:Ee}=this;Re?oe.error(je):Ee&&oe.complete()}asObservable(){const oe=new y.y;return oe.source=this,oe}}return Fe.create=(ue,oe)=>new ut(ue,oe),Fe})();class ut extends de{constructor(ue,oe){super(),this.destination=ue,this.source=oe}next(ue){var oe,Re;null===(Re=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===Re||Re.call(oe,ue)}error(ue){var oe,Re;null===(Re=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===Re||Re.call(oe,ue)}complete(){var ue,oe;null===(oe=null===(ue=this.destination)||void 0===ue?void 0:ue.complete)||void 0===oe||oe.call(ue)}_subscribe(ue){var oe,Re;return null!==(Re=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(ue))&&void 0!==Re?Re:ce.Lc}}},2961:(fn,at,ee)=>{ee.d(at,{Hp:()=>st,Lv:()=>Re});var y=ee(576),ce=ee(727),U=ee(2416),Me=ee(7849);function fe(){}const ne=Fe("C",void 0,void 0);function Fe(qe,ot,Ge){return{kind:qe,value:ot,error:Ge}}var ue=ee(3410),oe=ee(2806);class Re extends ce.w0{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,ce.Nn)(ot)&&ot.add(this)):this.destination=Fn}static create(ot,Ge,Je){return new st(ot,Ge,Je)}next(ot){this.isStopped?Pn(function ut(qe){return Fe("N",qe,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?Pn(function de(qe){return Fe("E",void 0,qe)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?Pn(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Ee(qe,ot){return je.call(qe,ot)}class It{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:Ge}=this;if(Ge.next)try{Ge.next(ot)}catch(Je){ht(Je)}}error(ot){const{partialObserver:Ge}=this;if(Ge.error)try{Ge.error(ot)}catch(Je){ht(Je)}else ht(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(Ge){ht(Ge)}}}class st extends Re{constructor(ot,Ge,Je){let _t;if(super(),(0,y.m)(ot)||!ot)_t={next:ot??void 0,error:Ge??void 0,complete:Je??void 0};else{let Xe;this&&U.config.useDeprecatedNextContext?(Xe=Object.create(ot),Xe.unsubscribe=()=>this.unsubscribe(),_t={next:ot.next&&Ee(ot.next,Xe),error:ot.error&&Ee(ot.error,Xe),complete:ot.complete&&Ee(ot.complete,Xe)}):_t=ot}this.destination=new It(_t)}}function ht(qe){U.config.useDeprecatedSynchronousErrorHandling?(0,oe.O)(qe):(0,Me.h)(qe)}function Pn(qe,ot){const{onStoppedNotification:Ge}=U.config;Ge&&ue.z.setTimeout(()=>Ge(qe,ot))}const Fn={closed:!0,next:fe,error:function Qt(qe){throw qe},complete:fe}},727:(fn,at,ee)=>{ee.d(at,{Lc:()=>ne,w0:()=>fe,Nn:()=>de});var y=ee(576);const U=(0,ee(3888).d)(Fe=>function(oe){Fe(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((Re,je)=>`${je+1}) ${Re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var Me=ee(8737);class fe{constructor(ue){this.initialTeardown=ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ue;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const Ee of oe)Ee.remove(this);else oe.remove(this);const{initialTeardown:Re}=this;if((0,y.m)(Re))try{Re()}catch(Ee){ue=Ee instanceof U?Ee.errors:[Ee]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Ee of je)try{ut(Ee)}catch(It){ue=ue??[],It instanceof U?ue=[...ue,...It.errors]:ue.push(It)}}if(ue)throw new U(ue)}}add(ue){var oe;if(ue&&ue!==this)if(this.closed)ut(ue);else{if(ue instanceof fe){if(ue.closed||ue._hasParent(this))return;ue._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(ue)}}_hasParent(ue){const{_parentage:oe}=this;return oe===ue||Array.isArray(oe)&&oe.includes(ue)}_addParent(ue){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(ue),oe):oe?[oe,ue]:ue}_removeParent(ue){const{_parentage:oe}=this;oe===ue?this._parentage=null:Array.isArray(oe)&&(0,Me.P)(oe,ue)}remove(ue){const{_finalizers:oe}=this;oe&&(0,Me.P)(oe,ue),ue instanceof fe&&ue._removeParent(this)}}fe.EMPTY=(()=>{const Fe=new fe;return Fe.closed=!0,Fe})();const ne=fe.EMPTY;function de(Fe){return Fe instanceof fe||Fe&&"closed"in Fe&&(0,y.m)(Fe.remove)&&(0,y.m)(Fe.add)&&(0,y.m)(Fe.unsubscribe)}function ut(Fe){(0,y.m)(Fe)?Fe():Fe.unsubscribe()}},2416:(fn,at,ee)=>{ee.d(at,{config:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(fn,at,ee)=>{ee.d(at,{E:()=>ce});const ce=new(ee(9751).y)(fe=>fe.complete())},8996:(fn,at,ee)=>{ee.d(at,{D:()=>ot});var y=ee(8421),ce=ee(5363),U=ee(9468),ne=ee(9751),ut=ee(2202),Fe=ee(576),ue=ee(9672);function Re(Ge,Je){if(!Ge)throw new Error("Iterable cannot be null");return new ne.y(_t=>{(0,ue.f)(_t,Je,()=>{const Xe=Ge[Symbol.asyncIterator]();(0,ue.f)(_t,Je,()=>{Xe.next().then(et=>{et.done?_t.complete():_t.next(et.value)})},0,!0)})})}var je=ee(3670),Ee=ee(8239),It=ee(1144),st=ee(6495),ht=ee(2206),Qt=ee(4532),Pn=ee(3260);function ot(Ge,Je){return Je?function qe(Ge,Je){if(null!=Ge){if((0,je.c)(Ge))return function Me(Ge,Je){return(0,y.Xf)(Ge).pipe((0,U.R)(Je),(0,ce.Q)(Je))}(Ge,Je);if((0,It.z)(Ge))return function de(Ge,Je){return new ne.y(_t=>{let Xe=0;return Je.schedule(function(){Xe===Ge.length?_t.complete():(_t.next(Ge[Xe++]),_t.closed||this.schedule())})})}(Ge,Je);if((0,Ee.t)(Ge))return function fe(Ge,Je){return(0,y.Xf)(Ge).pipe((0,U.R)(Je),(0,ce.Q)(Je))}(Ge,Je);if((0,ht.D)(Ge))return Re(Ge,Je);if((0,st.T)(Ge))return function oe(Ge,Je){return new ne.y(_t=>{let Xe;return(0,ue.f)(_t,Je,()=>{Xe=Ge[ut.h](),(0,ue.f)(_t,Je,()=>{let et,kt;try{({value:et,done:kt}=Xe.next())}catch(Ln){return void _t.error(Ln)}kt?_t.complete():_t.next(et)},0,!0)}),()=>(0,Fe.m)(Xe?.return)&&Xe.return()})}(Ge,Je);if((0,Pn.L)(Ge))return function Fn(Ge,Je){return Re((0,Pn.Q)(Ge),Je)}(Ge,Je)}throw(0,Qt.z)(Ge)}(Ge,Je):(0,y.Xf)(Ge)}},8421:(fn,at,ee)=>{ee.d(at,{Xf:()=>je});var y=ee(7582),ce=ee(1144),U=ee(8239),Me=ee(9751),fe=ee(3670),ne=ee(2206),de=ee(4532),ut=ee(6495),Fe=ee(3260),ue=ee(576),oe=ee(7849),Re=ee(8822);function je(qe){if(qe instanceof Me.y)return qe;if(null!=qe){if((0,fe.c)(qe))return function Ee(qe){return new Me.y(ot=>{const Ge=qe[Re.L]();if((0,ue.m)(Ge.subscribe))return Ge.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(qe);if((0,ce.z)(qe))return function It(qe){return new Me.y(ot=>{for(let Ge=0;Ge<qe.length&&!ot.closed;Ge++)ot.next(qe[Ge]);ot.complete()})}(qe);if((0,U.t)(qe))return function st(qe){return new Me.y(ot=>{qe.then(Ge=>{ot.closed||(ot.next(Ge),ot.complete())},Ge=>ot.error(Ge)).then(null,oe.h)})}(qe);if((0,ne.D)(qe))return Qt(qe);if((0,ut.T)(qe))return function ht(qe){return new Me.y(ot=>{for(const Ge of qe)if(ot.next(Ge),ot.closed)return;ot.complete()})}(qe);if((0,Fe.L)(qe))return function Pn(qe){return Qt((0,Fe.Q)(qe))}(qe)}throw(0,de.z)(qe)}function Qt(qe){return new Me.y(ot=>{(function Fn(qe,ot){var Ge,Je,_t,Xe;return(0,y.mG)(this,void 0,void 0,function*(){try{for(Ge=(0,y.KL)(qe);!(Je=yield Ge.next()).done;)if(ot.next(Je.value),ot.closed)return}catch(et){_t={error:et}}finally{try{Je&&!Je.done&&(Xe=Ge.return)&&(yield Xe.call(Ge))}finally{if(_t)throw _t.error}}ot.complete()})})(qe,ot).catch(Ge=>ot.error(Ge))})}},9646:(fn,at,ee)=>{ee.d(at,{of:()=>U});var y=ee(7669),ce=ee(8996);function U(...Me){const fe=(0,y.yG)(Me);return(0,ce.D)(Me,fe)}},5403:(fn,at,ee)=>{ee.d(at,{x:()=>ce});var y=ee(2961);function ce(Me,fe,ne,de,ut){return new U(Me,fe,ne,de,ut)}class U extends y.Lv{constructor(fe,ne,de,ut,Fe,ue){super(fe),this.onFinalize=Fe,this.shouldUnsubscribe=ue,this._next=ne?function(oe){try{ne(oe)}catch(Re){fe.error(Re)}}:super._next,this._error=ut?function(oe){try{ut(oe)}catch(Re){fe.error(Re)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(oe){fe.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(fn,at,ee)=>{ee.d(at,{U:()=>U});var y=ee(4482),ce=ee(5403);function U(Me,fe){return(0,y.e)((ne,de)=>{let ut=0;ne.subscribe((0,ce.x)(de,Fe=>{de.next(Me.call(fe,Fe,ut++))}))})}},8189:(fn,at,ee)=>{ee.d(at,{J:()=>U});var y=ee(5577),ce=ee(4671);function U(Me=1/0){return(0,y.z)(ce.y,Me)}},5577:(fn,at,ee)=>{ee.d(at,{z:()=>ut});var y=ee(4004),ce=ee(8421),U=ee(4482),Me=ee(9672),fe=ee(5403),de=ee(576);function ut(Fe,ue,oe=1/0){return(0,de.m)(ue)?ut((Re,je)=>(0,y.U)((Ee,It)=>ue(Re,Ee,je,It))((0,ce.Xf)(Fe(Re,je))),oe):("number"==typeof ue&&(oe=ue),(0,U.e)((Re,je)=>function ne(Fe,ue,oe,Re,je,Ee,It,st){const ht=[];let Qt=0,Pn=0,Fn=!1;const qe=()=>{Fn&&!ht.length&&!Qt&&ue.complete()},ot=Je=>Qt<Re?Ge(Je):ht.push(Je),Ge=Je=>{Ee&&ue.next(Je),Qt++;let _t=!1;(0,ce.Xf)(oe(Je,Pn++)).subscribe((0,fe.x)(ue,Xe=>{je?.(Xe),Ee?ot(Xe):ue.next(Xe)},()=>{_t=!0},void 0,()=>{if(_t)try{for(Qt--;ht.length&&Qt<Re;){const Xe=ht.shift();It?(0,Me.f)(ue,It,()=>Ge(Xe)):Ge(Xe)}qe()}catch(Xe){ue.error(Xe)}}))};return Fe.subscribe((0,fe.x)(ue,ot,()=>{Fn=!0,qe()})),()=>{st?.()}}(Re,je,Fe,oe)))}},5363:(fn,at,ee)=>{ee.d(at,{Q:()=>Me});var y=ee(9672),ce=ee(4482),U=ee(5403);function Me(fe,ne=0){return(0,ce.e)((de,ut)=>{de.subscribe((0,U.x)(ut,Fe=>(0,y.f)(ut,fe,()=>ut.next(Fe),ne),()=>(0,y.f)(ut,fe,()=>ut.complete(),ne),Fe=>(0,y.f)(ut,fe,()=>ut.error(Fe),ne)))})}},9468:(fn,at,ee)=>{ee.d(at,{R:()=>ce});var y=ee(4482);function ce(U,Me=0){return(0,y.e)((fe,ne)=>{ne.add(U.schedule(()=>fe.subscribe(ne),Me))})}},8505:(fn,at,ee)=>{ee.d(at,{b:()=>fe});var y=ee(576),ce=ee(4482),U=ee(5403),Me=ee(4671);function fe(ne,de,ut){const Fe=(0,y.m)(ne)||de||ut?{next:ne,error:de,complete:ut}:ne;return Fe?(0,ce.e)((ue,oe)=>{var Re;null===(Re=Fe.subscribe)||void 0===Re||Re.call(Fe);let je=!0;ue.subscribe((0,U.x)(oe,Ee=>{var It;null===(It=Fe.next)||void 0===It||It.call(Fe,Ee),oe.next(Ee)},()=>{var Ee;je=!1,null===(Ee=Fe.complete)||void 0===Ee||Ee.call(Fe),oe.complete()},Ee=>{var It;je=!1,null===(It=Fe.error)||void 0===It||It.call(Fe,Ee),oe.error(Ee)},()=>{var Ee,It;je&&(null===(Ee=Fe.unsubscribe)||void 0===Ee||Ee.call(Fe)),null===(It=Fe.finalize)||void 0===It||It.call(Fe)}))}):Me.y}},3410:(fn,at,ee)=>{ee.d(at,{z:()=>y});const y={setTimeout(ce,U,...Me){const{delegate:fe}=y;return fe?.setTimeout?fe.setTimeout(ce,U,...Me):setTimeout(ce,U,...Me)},clearTimeout(ce){const{delegate:U}=y;return(U?.clearTimeout||clearTimeout)(ce)},delegate:void 0}},2202:(fn,at,ee)=>{ee.d(at,{h:()=>ce});const ce=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(fn,at,ee)=>{ee.d(at,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(fn,at,ee)=>{ee.d(at,{_6:()=>ne,jO:()=>Me,yG:()=>fe});var y=ee(576);function U(de){return de[de.length-1]}function Me(de){return(0,y.m)(U(de))?de.pop():void 0}function fe(de){return function ce(de){return de&&(0,y.m)(de.schedule)}(U(de))?de.pop():void 0}function ne(de,ut){return"number"==typeof U(de)?de.pop():ut}},4742:(fn,at,ee)=>{ee.d(at,{D:()=>fe});const{isArray:y}=Array,{getPrototypeOf:ce,prototype:U,keys:Me}=Object;function fe(de){if(1===de.length){const ut=de[0];if(y(ut))return{args:ut,keys:null};if(function ne(de){return de&&"object"==typeof de&&ce(de)===U}(ut)){const Fe=Me(ut);return{args:Fe.map(ue=>ut[ue]),keys:Fe}}}return{args:de,keys:null}}},8737:(fn,at,ee)=>{function y(ce,U){if(ce){const Me=ce.indexOf(U);0<=Me&&ce.splice(Me,1)}}ee.d(at,{P:()=>y})},3888:(fn,at,ee)=>{function y(ce){const Me=ce(fe=>{Error.call(fe),fe.stack=(new Error).stack});return Me.prototype=Object.create(Error.prototype),Me.prototype.constructor=Me,Me}ee.d(at,{d:()=>y})},1810:(fn,at,ee)=>{function y(ce,U){return ce.reduce((Me,fe,ne)=>(Me[fe]=U[ne],Me),{})}ee.d(at,{n:()=>y})},2806:(fn,at,ee)=>{ee.d(at,{O:()=>Me,x:()=>U});var y=ee(2416);let ce=null;function U(fe){if(y.config.useDeprecatedSynchronousErrorHandling){const ne=!ce;if(ne&&(ce={errorThrown:!1,error:null}),fe(),ne){const{errorThrown:de,error:ut}=ce;if(ce=null,de)throw ut}}else fe()}function Me(fe){y.config.useDeprecatedSynchronousErrorHandling&&ce&&(ce.errorThrown=!0,ce.error=fe)}},9672:(fn,at,ee)=>{function y(ce,U,Me,fe=0,ne=!1){const de=U.schedule(function(){Me(),ne?ce.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(ce.add(de),!ne)return de}ee.d(at,{f:()=>y})},4671:(fn,at,ee)=>{function y(ce){return ce}ee.d(at,{y:()=>y})},1144:(fn,at,ee)=>{ee.d(at,{z:()=>y});const y=ce=>ce&&"number"==typeof ce.length&&"function"!=typeof ce},2206:(fn,at,ee)=>{ee.d(at,{D:()=>ce});var y=ee(576);function ce(U){return Symbol.asyncIterator&&(0,y.m)(U?.[Symbol.asyncIterator])}},576:(fn,at,ee)=>{function y(ce){return"function"==typeof ce}ee.d(at,{m:()=>y})},3670:(fn,at,ee)=>{ee.d(at,{c:()=>U});var y=ee(8822),ce=ee(576);function U(Me){return(0,ce.m)(Me[y.L])}},6495:(fn,at,ee)=>{ee.d(at,{T:()=>U});var y=ee(2202),ce=ee(576);function U(Me){return(0,ce.m)(Me?.[y.h])}},8239:(fn,at,ee)=>{ee.d(at,{t:()=>ce});var y=ee(576);function ce(U){return(0,y.m)(U?.then)}},3260:(fn,at,ee)=>{ee.d(at,{L:()=>Me,Q:()=>U});var y=ee(7582),ce=ee(576);function U(fe){return(0,y.FC)(this,arguments,function*(){const de=fe.getReader();try{for(;;){const{value:ut,done:Fe}=yield(0,y.qq)(de.read());if(Fe)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(ut)}}finally{de.releaseLock()}})}function Me(fe){return(0,ce.m)(fe?.getReader)}},4482:(fn,at,ee)=>{ee.d(at,{A:()=>ce,e:()=>U});var y=ee(576);function ce(Me){return(0,y.m)(Me?.lift)}function U(Me){return fe=>{if(ce(fe))return fe.lift(function(ne){try{return Me(ne,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(fn,at,ee)=>{ee.d(at,{Z:()=>Me});var y=ee(4004);const{isArray:ce}=Array;function Me(fe){return(0,y.U)(ne=>function U(fe,ne){return ce(ne)?fe(...ne):fe(ne)}(fe,ne))}},9635:(fn,at,ee)=>{ee.d(at,{U:()=>U,z:()=>ce});var y=ee(4671);function ce(...Me){return U(Me)}function U(Me){return 0===Me.length?y.y:1===Me.length?Me[0]:function(ne){return Me.reduce((de,ut)=>ut(de),ne)}}},7849:(fn,at,ee)=>{ee.d(at,{h:()=>U});var y=ee(2416),ce=ee(3410);function U(Me){ce.z.setTimeout(()=>{const{onUnhandledError:fe}=y.config;if(!fe)throw Me;fe(Me)})}},4532:(fn,at,ee)=>{function y(ce){return new TypeError(`You provided ${null!==ce&&"object"==typeof ce?"an invalid object":`'${ce}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}ee.d(at,{z:()=>y})},4755:(fn,at,ee)=>{ee.d(at,{Do:()=>st,EM:()=>ms,HT:()=>Me,JF:()=>Si,K0:()=>ne,Mx:()=>Jr,O5:()=>Li,PM:()=>Xs,S$:()=>je,V_:()=>ut,Ye:()=>ht,b0:()=>It,bD:()=>mr,ez:()=>Ms,mk:()=>is,q:()=>U,sg:()=>Qi,w_:()=>fe});var y=ee(1902);let ce=null;function U(){return ce}function Me(S){ce||(ce=S)}class fe{}const ne=new y.OlP("DocumentToken");let de=(()=>{class S{historyGo(N){throw new Error("Not implemented")}}return S.\u0275fac=function(N){return new(N||S)},S.\u0275prov=y.Yz7({token:S,factory:function(){return(0,y.f3M)(Fe)},providedIn:"platform"}),S})();const ut=new y.OlP("Location Initialized");let Fe=(()=>{class S extends de{constructor(){super(),this._doc=(0,y.f3M)(ne),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(N){const z=U().getGlobalEventTarget(this._doc,"window");return z.addEventListener("popstate",N,!1),()=>z.removeEventListener("popstate",N)}onHashChange(N){const z=U().getGlobalEventTarget(this._doc,"window");return z.addEventListener("hashchange",N,!1),()=>z.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,z,ae){this._history.pushState(N,z,ae)}replaceState(N,z,ae){this._history.replaceState(N,z,ae)}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return S.\u0275fac=function(N){return new(N||S)},S.\u0275prov=y.Yz7({token:S,factory:function(){return new S},providedIn:"platform"}),S})();function ue(S,V){if(0==S.length)return V;if(0==V.length)return S;let N=0;return S.endsWith("/")&&N++,V.startsWith("/")&&N++,2==N?S+V.substring(1):1==N?S+V:S+"/"+V}function oe(S){const V=S.match(/#|\?|$/),N=V&&V.index||S.length;return S.slice(0,N-("/"===S[N-1]?1:0))+S.slice(N)}function Re(S){return S&&"?"!==S[0]?"?"+S:S}let je=(()=>{class S{historyGo(N){throw new Error("Not implemented")}}return S.\u0275fac=function(N){return new(N||S)},S.\u0275prov=y.Yz7({token:S,factory:function(){return(0,y.f3M)(It)},providedIn:"root"}),S})();const Ee=new y.OlP("appBaseHref");let It=(()=>{class S extends je{constructor(N,z){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=z??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return ue(this._baseHref,N)}path(N=!1){const z=this._platformLocation.pathname+Re(this._platformLocation.search),ae=this._platformLocation.hash;return ae&&N?`${z}${ae}`:z}pushState(N,z,ae,Ue){const Be=this.prepareExternalUrl(ae+Re(Ue));this._platformLocation.pushState(N,z,Be)}replaceState(N,z,ae,Ue){const Be=this.prepareExternalUrl(ae+Re(Ue));this._platformLocation.replaceState(N,z,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return S.\u0275fac=function(N){return new(N||S)(y.LFG(de),y.LFG(Ee,8))},S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),st=(()=>{class S extends je{constructor(N,z){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=z&&(this._baseHref=z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let z=this._platformLocation.hash;return null==z&&(z="#"),z.length>0?z.substring(1):z}prepareExternalUrl(N){const z=ue(this._baseHref,N);return z.length>0?"#"+z:z}pushState(N,z,ae,Ue){let Be=this.prepareExternalUrl(ae+Re(Ue));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.pushState(N,z,Be)}replaceState(N,z,ae,Ue){let Be=this.prepareExternalUrl(ae+Re(Ue));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.replaceState(N,z,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return S.\u0275fac=function(N){return new(N||S)(y.LFG(de),y.LFG(Ee,8))},S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac}),S})(),ht=(()=>{class S{constructor(N){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const z=this._locationStrategy.getBaseHref();this._basePath=function qe(S){if(new RegExp("^(https?:)?//").test(S)){const[,N]=S.split(/\/\/[^\/]+/);return N}return S}(oe(Fn(z))),this._locationStrategy.onPopState(ae=>{this._subject.emit({url:this.path(!0),pop:!0,state:ae.state,type:ae.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,z=""){return this.path()==this.normalize(N+Re(z))}normalize(N){return S.stripTrailingSlash(function Pn(S,V){if(!S||!V.startsWith(S))return V;const N=V.substring(S.length);return""===N||["/",";","?","#"].includes(N[0])?N:V}(this._basePath,Fn(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,z="",ae=null){this._locationStrategy.pushState(ae,"",N,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Re(z)),ae)}replaceState(N,z="",ae=null){this._locationStrategy.replaceState(ae,"",N,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Re(z)),ae)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(z=>{this._notifyUrlChangeListeners(z.url,z.state)})),()=>{const z=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",z){this._urlChangeListeners.forEach(ae=>ae(N,z))}subscribe(N,z,ae){return this._subject.subscribe({next:N,error:z,complete:ae})}}return S.normalizeQueryParams=Re,S.joinWithSlash=ue,S.stripTrailingSlash=oe,S.\u0275fac=function(N){return new(N||S)(y.LFG(je))},S.\u0275prov=y.Yz7({token:S,factory:function(){return function Qt(){return new ht((0,y.LFG)(je))}()},providedIn:"root"}),S})();function Fn(S){return S.replace(/\/index.html$/,"")}function Jr(S,V){V=encodeURIComponent(V);for(const N of S.split(";")){const z=N.indexOf("="),[ae,Ue]=-1==z?[N,""]:[N.slice(0,z),N.slice(z+1)];if(ae.trim()===V)return decodeURIComponent(Ue)}return null}const ci=/\s+/,Hi=[];let is=(()=>{class S{constructor(N,z,ae,Ue){this._iterableDiffers=N,this._keyValueDiffers=z,this._ngEl=ae,this._renderer=Ue,this.initialClasses=Hi,this.stateMap=new Map}set klass(N){this.initialClasses=null!=N?N.trim().split(ci):Hi}set ngClass(N){this.rawClass="string"==typeof N?N.trim().split(ci):N}ngDoCheck(){for(const z of this.initialClasses)this._updateState(z,!0);const N=this.rawClass;if(Array.isArray(N)||N instanceof Set)for(const z of N)this._updateState(z,!0);else if(null!=N)for(const z of Object.keys(N))this._updateState(z,!!N[z]);this._applyStateDiff()}_updateState(N,z){const ae=this.stateMap.get(N);void 0!==ae?(ae.enabled!==z&&(ae.changed=!0,ae.enabled=z),ae.touched=!0):this.stateMap.set(N,{enabled:z,changed:!0,touched:!0})}_applyStateDiff(){for(const N of this.stateMap){const z=N[0],ae=N[1];ae.changed?(this._toggleClass(z,ae.enabled),ae.changed=!1):ae.touched||(ae.enabled&&this._toggleClass(z,!1),this.stateMap.delete(z)),ae.touched=!1}}_toggleClass(N,z){(N=N.trim()).length>0&&N.split(ci).forEach(ae=>{z?this._renderer.addClass(this._ngEl.nativeElement,ae):this._renderer.removeClass(this._ngEl.nativeElement,ae)})}}return S.\u0275fac=function(N){return new(N||S)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))},S.\u0275dir=y.lG2({type:S,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),S})();class ps{constructor(V,N,z,ae){this.$implicit=V,this.ngForOf=N,this.index=z,this.count=ae}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qi=(()=>{class S{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,z,ae){this._viewContainer=N,this._template=z,this._differs=ae,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const z=this._viewContainer;N.forEachOperation((ae,Ue,Be)=>{if(null==ae.previousIndex)z.createEmbeddedView(this._template,new ps(ae.item,this._ngForOf,-1,-1),null===Be?void 0:Be);else if(null==Be)z.remove(null===Ue?void 0:Ue);else if(null!==Ue){const Xt=z.get(Ue);z.move(Xt,Be),Xn(Xt,ae)}});for(let ae=0,Ue=z.length;ae<Ue;ae++){const Xt=z.get(ae).context;Xt.index=ae,Xt.count=Ue,Xt.ngForOf=this._ngForOf}N.forEachIdentityChange(ae=>{Xn(z.get(ae.currentIndex),ae)})}static ngTemplateContextGuard(N,z){return!0}}return S.\u0275fac=function(N){return new(N||S)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},S.\u0275dir=y.lG2({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),S})();function Xn(S,V){S.context.$implicit=V.item}let Li=(()=>{class S{constructor(N,z){this._viewContainer=N,this._context=new Vi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=z}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){Bo("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){Bo("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,z){return!0}}return S.\u0275fac=function(N){return new(N||S)(y.Y36(y.s_b),y.Y36(y.Rgc))},S.\u0275dir=y.lG2({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),S})();class Vi{constructor(){this.$implicit=null,this.ngIf=null}}function Bo(S,V){if(V&&!V.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,y.AaK)(V)}'.`)}let Ms=(()=>{class S{}return S.\u0275fac=function(N){return new(N||S)},S.\u0275mod=y.oAB({type:S}),S.\u0275inj=y.cJS({}),S})();const mr="browser",xs="server";function Xs(S){return S===xs}let ms=(()=>{class S{}return S.\u0275prov=(0,y.Yz7)({token:S,providedIn:"root",factory:()=>new ei((0,y.LFG)(ne),window)}),S})();class ei{constructor(V,N){this.document=V,this.window=N,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(V){this.supportsScrolling()&&this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){if(!this.supportsScrolling())return;const N=function ys(S,V){const N=S.getElementById(V)||S.getElementsByName(V)[0];if(N)return N;if("function"==typeof S.createTreeWalker&&S.body&&"function"==typeof S.body.attachShadow){const z=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let ae=z.currentNode;for(;ae;){const Ue=ae.shadowRoot;if(Ue){const Be=Ue.getElementById(V)||Ue.querySelector(`[name="${V}"]`);if(Be)return Be}ae=z.nextNode()}}return null}(this.document,V);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(V){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=V)}}scrollToElement(V){const N=V.getBoundingClientRect(),z=N.left+this.window.pageXOffset,ae=N.top+this.window.pageYOffset,Ue=this.offset();this.window.scrollTo(z-Ue[0],ae-Ue[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const V=Rs(this.window.history)||Rs(Object.getPrototypeOf(this.window.history));return!(!V||!V.writable&&!V.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Rs(S){return Object.getOwnPropertyDescriptor(S,"scrollRestoration")}class Si{}},1902:(fn,at,ee)=>{ee.d(at,{tb:()=>Y0,AFp:()=>Gl,ip1:()=>rI,hGG:()=>OT,z2F:()=>cp,Ojb:()=>zm,sBO:()=>yT,Sil:()=>YC,EJc:()=>KC,Xts:()=>Hd,SBq:()=>eh,lqb:()=>Jc,qLn:()=>pc,vpe:()=>Dc,XFs:()=>Dt,OlP:()=>ai,zs3:()=>mu,ZZ4:()=>nw,aQg:()=>rw,soG:()=>dv,YKP:()=>cE,h0i:()=>op,PXZ:()=>cT,R0b:()=>va,FiY:()=>lo,Lbi:()=>qd,g9A:()=>lf,Qsj:()=>Pv,FYo:()=>_f,JOm:()=>Ka,tp0:()=>qa,Rgc:()=>gm,dDg:()=>sT,eoX:()=>gI,q4F:()=>Xc,GfV:()=>wf,s_b:()=>cv,ifc:()=>$t,MMx:()=>dE,Lck:()=>xD,eFA:()=>_I,Gpc:()=>Xe,f3M:()=>nn,$WT:()=>ds,_c5:()=>NT,qFp:()=>GT,rg0:()=>ha,c2e:()=>iI,zSh:()=>$p,HDt:()=>sI,wAp:()=>Tn,vHH:()=>ft,lri:()=>fI,rWj:()=>pI,D6c:()=>jT,cg1:()=>ov,kL8:()=>d0,dqk:()=>Jn,Z0I:()=>Sr,eJc:()=>U0,QGY:()=>ep,F4k:()=>rm,RDi:()=>Ou,AaK:()=>Ge,qOj:()=>Bg,TTD:()=>Go,_Bn:()=>uE,jDz:()=>hE,xp6:()=>ug,uIk:()=>hh,ekj:()=>jy,Suo:()=>kE,Xpm:()=>hi,lG2:()=>Ao,Yz7:()=>Sn,cJS:()=>Pt,oAB:()=>ls,Yjl:()=>zs,Y36:()=>yc,_UZ:()=>xy,BQk:()=>em,ynx:()=>ll,qZA:()=>cl,TgZ:()=>Jf,EpF:()=>nm,n5z:()=>Ma,LFG:()=>Bt,$8M:()=>ga,$Z:()=>oy,NdJ:()=>im,CRH:()=>FE,oxw:()=>M_,Q6J:()=>Ay,iGM:()=>PE,MAs:()=>ul,KtG:()=>zu,CHM:()=>Cu,P3R:()=>Vm,YNc:()=>Qg,W1O:()=>BE,_uU:()=>Zy,Oqu:()=>Qy,hij:()=>fd});var y=ee(7579),ce=ee(727),U=ee(1135),Me=ee(9751),fe=ee(8189),ne=ee(8421),de=ee(515),ut=ee(7669),Fe=ee(8996),oe=ee(9646),Re=ee(2961),je=ee(4482);function Ee(n={}){const{connector:r=(()=>new y.x),resetOnError:o=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=n;return d=>{let g,_,M,F=0,W=!1,re=!1;const ve=()=>{_?.unsubscribe(),_=void 0},xe=()=>{ve(),g=M=void 0,W=re=!1},it=()=>{const Et=g;xe(),Et?.unsubscribe()};return(0,je.e)((Et,Lt)=>{F++,!re&&!W&&ve();const dn=M=M??r();Lt.add(()=>{F--,0===F&&!re&&!W&&(_=It(it,c))}),dn.subscribe(Lt),!g&&F>0&&(g=new Re.Hp({next:mt=>dn.next(mt),error:mt=>{re=!0,ve(),_=It(xe,o,mt),dn.error(mt)},complete:()=>{W=!0,ve(),_=It(xe,a),dn.complete()}}),(0,ne.Xf)(Et).subscribe(g))})(d)}}function It(n,r,...o){if(!0===r)return void n();if(!1===r)return;const a=new Re.Hp({next:()=>{a.unsubscribe(),n()}});return(0,ne.Xf)(r(...o)).subscribe(a)}var st=ee(5577),ht=ee(4671),Qt=ee(5403);function Fn(n,r){return n===r}function qe(n){for(let r in n)if(n[r]===qe)return r;throw Error("Could not find renamed property on target object.")}function ot(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function Ge(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ge).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Je(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const _t=qe({__forward_ref__:qe});function Xe(n){return n.__forward_ref__=Xe,n.toString=function(){return Ge(this())},n}function et(n){return kt(n)?n():n}function kt(n){return"function"==typeof n&&n.hasOwnProperty(_t)&&n.__forward_ref__===Xe}function Ln(n){return n&&!!n.\u0275providers}const yt="https://g.co/ng/security#xss";class ft extends Error{constructor(r,o){super(function Ne(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function me(n){return"string"==typeof n?n:null==n?"":String(n)}function Ce(n,r){throw new ft(-201,!1)}function Zn(n,r){null==n&&function Rt(n,r,o,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Sn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Pt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Yt(n){return Yn(n,Qn)||Yn(n,Un)}function Sr(n){return null!==Yt(n)}function Yn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Vn(n){return n&&(n.hasOwnProperty(Wr)||n.hasOwnProperty($i))?n[Wr]:null}const Qn=qe({\u0275prov:qe}),Wr=qe({\u0275inj:qe}),Un=qe({ngInjectableDef:qe}),$i=qe({ngInjectorDef:qe});var Dt=(()=>((Dt=Dt||{})[Dt.Default=0]="Default",Dt[Dt.Host=1]="Host",Dt[Dt.Self=2]="Self",Dt[Dt.SkipSelf=4]="SkipSelf",Dt[Dt.Optional=8]="Optional",Dt))();let yi;function cr(n){const r=yi;return yi=n,r}function gn(n,r,o){const a=Yt(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&Dt.Optional?null:void 0!==r?r:void Ce(Ge(n))}const Jn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),An={},rn="__NG_DI_FLAG__",Bn="ngTempTokenPath",G=/\n/gm,K="__source";let te;function Qe(n){const r=te;return te=n,r}function bt(n,r=Dt.Default){if(void 0===te)throw new ft(-203,!1);return null===te?gn(n,void 0,r):te.get(n,r&Dt.Optional?null:void 0,r)}function Bt(n,r=Dt.Default){return(function ui(){return yi}()||bt)(et(n),r)}function nn(n,r=Dt.Default){return Bt(n,Jt(r))}function Jt(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function kn(n){const r=[];for(let o=0;o<n.length;o++){const a=et(n[o]);if(Array.isArray(a)){if(0===a.length)throw new ft(900,!1);let c,d=Dt.Default;for(let g=0;g<a.length;g++){const _=a[g],M=di(_);"number"==typeof M?-1===M?c=_.token:d|=M:c=_}r.push(Bt(c,d))}else r.push(Bt(a))}return r}function lr(n,r){return n[rn]=r,n.prototype[rn]=r,n}function di(n){return n[rn]}function Se(n){return{toString:n}.toString()}var nt=(()=>((nt=nt||{})[nt.OnPush=0]="OnPush",nt[nt.Default=1]="Default",nt))(),$t=(()=>{return(n=$t||($t={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",$t;var n})();const Wt={},Nt=[],pn=qe({\u0275cmp:qe}),Or=qe({\u0275dir:qe}),Er=qe({\u0275pipe:qe}),Qr=qe({\u0275mod:qe}),Jr=qe({\u0275fac:qe}),ci=qe({__NG_ELEMENT_ID__:qe}),Hi=qe({__NG_ENV_ID__:qe});function is(n,r,o){let a=n.length;for(;;){const c=n.indexOf(r,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||n.charCodeAt(c+d)<=32)return c}o=c+1}}function Yi(n,r,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const d=o[a++],g=o[a++],_=o[a++];n.setAttribute(r,g,_,d)}else{const d=c,g=o[++a];ps(d)?n.setProperty(r,d,g):n.setAttribute(r,d,g),a++}}return a}function Gs(n){return 3===n||4===n||6===n}function ps(n){return 64===n.charCodeAt(0)}function Qi(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?o=c:0===o||Xn(n,o,c,null,-1===o||2===o?r[++a]:null)}}return n}function Xn(n,r,o,a,c){let d=0,g=n.length;if(-1===r)g=-1;else for(;d<n.length;){const _=n[d++];if("number"==typeof _){if(_===r){g=-1;break}if(_>r){g=d-1;break}}}for(;d<n.length;){const _=n[d];if("number"==typeof _)break;if(_===o){if(null===a)return void(null!==c&&(n[d+1]=c));if(a===n[d+1])return void(n[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(n.splice(g,0,r),d=g+1),n.splice(d++,0,o),null!==a&&n.splice(d++,0,a),null!==c&&n.splice(d++,0,c)}const Ji="ng-template";function Li(n,r,o){let a=0,c=!0;for(;a<n.length;){let d=n[a++];if("string"==typeof d&&c){const g=n[a++];if(o&&"class"===d&&-1!==is(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<n.length&&"string"==typeof(d=n[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Vi(n){return 4===n.type&&n.value!==Ji}function Bo(n,r,o){return r===(4!==n.type||o?n.value:Ji)}function ye(n,r,o){let a=4;const c=n.attrs||[],d=function Ht(n){for(let r=0;r<n.length;r++)if(Gs(n[r]))return r;return n.length}(c);let g=!1;for(let _=0;_<r.length;_++){const M=r[_];if("number"!=typeof M){if(!g)if(4&a){if(a=2|1&a,""!==M&&!Bo(n,M,o)||""===M&&1===r.length){if(ge(a))return!1;g=!0}}else{const F=8&a?M:r[++_];if(8&a&&null!==n.attrs){if(!Li(n.attrs,F,o)){if(ge(a))return!1;g=!0}continue}const re=Ae(8&a?"class":M,c,Vi(n),o);if(-1===re){if(ge(a))return!1;g=!0;continue}if(""!==F){let ve;ve=re>d?"":c[re+1].toLowerCase();const xe=8&a?ve:null;if(xe&&-1!==is(xe,F,0)||2&a&&F!==ve){if(ge(a))return!1;g=!0}}}}else{if(!g&&!ge(a)&&!ge(M))return!1;if(g&&ge(M))continue;g=!1,a=M|1&a}}return ge(a)||g}function ge(n){return 0==(1&n)}function Ae(n,r,o,a){if(null===r)return-1;let c=0;if(a||!o){let d=!1;for(;c<r.length;){const g=r[c];if(g===n)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let _=r[++c];for(;"string"==typeof _;)_=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function $n(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const a=n[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,n)}function Ye(n,r,o=!1){for(let a=0;a<r.length;a++)if(ye(n,r[a],o))return!0;return!1}function vn(n,r){return n?":not("+r.trim()+")":r}function ss(n){let r=n[0],o=1,a=2,c="",d=!1;for(;o<n.length;){let g=n[o];if("string"==typeof g)if(2&a){const _=n[++o];c+="["+g+(_.length>0?'="'+_+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!ge(g)&&(r+=vn(d,c),c=""),a=g,d=d||!ge(a);o++}return""!==c&&(r+=vn(d,c)),r}function hi(n){return Se(()=>{const r=jo(n),o={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===nt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||$t.Emulated,styles:n.styles||Nt,_:null,schemas:n.schemas||null,tView:null,id:""};As(o);const a=n.dependencies;return o.directiveDefs=qs(a,!1),o.pipeDefs=qs(a,!0),o.id=function Ti(n){let r=0;const o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const c of o)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function $o(n){return bn(n)||Ar(n)}function go(n){return null!==n}function ls(n){return Se(()=>({type:n.type,bootstrap:n.bootstrap||Nt,declarations:n.declarations||Nt,imports:n.imports||Nt,exports:n.exports||Nt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Xi(n,r){if(null==n)return Wt;const o={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=a,r&&(r[c]=d)}return o}function Ao(n){return Se(()=>{const r=jo(n);return As(r),r})}function zs(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function bn(n){return n[pn]||null}function Ar(n){return n[Or]||null}function fi(n){return n[Er]||null}function ds(n){const r=bn(n)||Ar(n)||fi(n);return null!==r&&r.standalone}function Xr(n,r){const o=n[Qr]||null;if(!o&&!0===r)throw new Error(`Type ${Ge(n)} does not have '\u0275mod' property.`);return o}function jo(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Nt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xi(n.inputs,r),outputs:Xi(n.outputs)}}function As(n){n.features?.forEach(r=>r(n))}function qs(n,r){if(!n)return null;const o=r?fi:$o;return()=>("function"==typeof n?n():n).map(a=>o(a)).filter(go)}const Ir=0,St=1,ln=2,tn=3,bi=4,xi=5,Br=6,Ms=7,mr=8,xs=9,Gi=10,cn=11,gs=12,Xs=13,_i=14,Dr=15,Mo=16,ms=17,ei=18,Rs=19,ys=20,ti=21,Si=22,Ns=23,os=24,On=25,xo=1,Os=2,Ri=7,Ps=8,vs=9,Zr=11;function pi(n){return Array.isArray(n)&&"object"==typeof n[xo]}function Mr(n){return Array.isArray(n)&&!0===n[xo]}function eo(n){return 0!=(4&n.flags)}function Cr(n){return n.componentOffset>-1}function ks(n){return 1==(1&n.flags)}function as(n){return!!n.template}function Pr(n){return 0!=(512&n[ln])}function Rr(n,r){return n.hasOwnProperty(Jr)?n[Jr]:null}let no=Jn.WeakRef??class ni{constructor(r){this.ref=r}deref(){return this.ref}},Ls=0,Ni=null,_s=!1;function Ei(n){const r=Ni;return Ni=n,r}class _o{constructor(){this.id=Ls++,this.ref=function es(n){return new no(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[r,o]of this.producers){const a=o.producerNode.deref();if(void 0!==a&&o.atTrackingVersion===this.trackingVersion){if(a.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(r),a?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const r=_s;_s=!0;try{for(const[o,a]of this.consumers){const c=a.consumerNode.deref();void 0!==c&&c.trackingVersion===a.atTrackingVersion?c.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),c?.producers.delete(this.id))}}finally{_s=r}}producerAccessed(){if(_s)throw new Error("");if(null===Ni)return;let r=Ni.producers.get(this.id);void 0===r?(r={consumerNode:Ni.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ni.trackingVersion},Ni.producers.set(this.id,r),this.consumers.set(Ni.id,r)):(r.seenValueVersion=this.valueVersion,r.atTrackingVersion=Ni.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ni?.consumerAllowSignalWrites}producerPollStatus(r){return this.valueVersion!==r||(this.onProducerUpdateValueVersion(),this.valueVersion!==r)}}let da=null;function ha(n){const r=Ei(null);try{return n()}finally{Ei(r)}}const Da=()=>{};class wo extends _o{constructor(r,o,a){super(),this.watch=r,this.schedule=o,this.dirty=!1,this.cleanupFn=Da,this.registerOnCleanup=c=>{this.cleanupFn=c},this.consumerAllowSignalWrites=a}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const r=Ei(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Da,this.watch(this.registerOnCleanup)}finally{Ei(r)}}cleanup(){this.cleanupFn()}}class Du{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Go(){return Eo}function Eo(n){return n.type.prototype.ngOnChanges&&(n.setInput=ts),ws}function ws(){const n=Do(this),r=n?.current;if(r){const o=n.previous;if(o===Wt)n.previous=r;else for(let a in r)o[a]=r[a];n.current=null,this.ngOnChanges(r)}}function ts(n,r,o,a){const c=this.declaredInputs[o],d=Do(n)||function S(n,r){return n[Io]=r}(n,{previous:Wt,current:null}),g=d.current||(d.current={}),_=d.previous,M=_[c];g[c]=new Du(M&&M.currentValue,r,_===Wt),n[a]=r}Go.ngInherit=!0;const Io="__ngSimpleChanges__";function Do(n){return n[Io]||null}const z=function(n,r,o){};function Be(n){for(;Array.isArray(n);)n=n[Ir];return n}function ir(n,r){return Be(r[n])}function Dn(n,r){return Be(r[n.index])}function Mn(n,r){return n.data[r]}function jn(n,r){const o=r[n];return pi(o)?o:o[Ir]}function Vs(n){return 128==(128&n[ln])}function ri(n,r){return null==r?null:n[r]}function li(n){n[ms]=0}function Ks(n){1024&n[ln]||(n[ln]|=1024,gt(n,1))}function zo(n){1024&n[ln]&&(n[ln]&=-1025,gt(n,-1))}function gt(n,r){let o=n[tn];if(null===o)return;o[xi]+=r;let a=o;for(o=o[tn];null!==o&&(1===r&&1===a[xi]||-1===r&&0===a[xi]);)o[xi]+=r,a=o,o=o[tn]}const _n={lFrame:ja(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dt(){return _n.bindingsEnabled}function lt(){return _n.lFrame.lView}function sr(){return _n.lFrame.tView}function Cu(n){return _n.lFrame.contextLView=n,n[mr]}function zu(n){return _n.lFrame.contextLView=null,n}function xn(){let n=Ua();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ua(){return _n.lFrame.currentTNode}function Us(n,r){const o=_n.lFrame;o.currentTNode=n,o.isParent=r}function Wi(){return _n.lFrame.isParent}function ii(){_n.lFrame.isParent=!1}function io(){return _n.lFrame.bindingIndex++}function Ca(n,r){const o=_n.lFrame;o.bindingIndex=o.bindingRootIndex=n,No(r)}function No(n){_n.lFrame.currentDirectiveIndex=n}function Ja(){return _n.lFrame.currentQueryIndex}function Es(n){_n.lFrame.currentQueryIndex=n}function Wu(n){const r=n[St];return 2===r.type?r.declTNode:1===r.type?n[Br]:null}function $a(n,r,o){if(o&Dt.SkipSelf){let c=r,d=n;for(;!(c=c.parent,null!==c||o&Dt.Host||(c=Wu(d),null===c||(d=d[_i],10&c.type))););if(null===c)return!1;r=c,n=d}const a=_n.lFrame=Co();return a.currentTNode=r,a.lView=n,!0}function Tu(n){const r=Co(),o=n[St];_n.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Co(){const n=_n.lFrame,r=null===n?null:n.child;return null===r?ja(n):r}function ja(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Pe(){const n=_n.lFrame;return _n.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ha=Pe;function Is(){const n=Pe();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Oi(){return _n.lFrame.selectedIndex}function Oo(n){_n.lFrame.selectedIndex=n}function Hr(){const n=_n.lFrame;return Mn(n.tView,n.selectedIndex)}let Z=!0;function X(){return Z}function _e(n){Z=n}function Zt(n,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const d=n.data[o].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:_,ngAfterViewInit:M,ngAfterViewChecked:F,ngOnDestroy:W}=d;g&&(n.contentHooks??=[]).push(-o,g),_&&((n.contentHooks??=[]).push(o,_),(n.contentCheckHooks??=[]).push(o,_)),M&&(n.viewHooks??=[]).push(-o,M),F&&((n.viewHooks??=[]).push(o,F),(n.viewCheckHooks??=[]).push(o,F)),null!=W&&(n.destroyHooks??=[]).push(o,W)}}function Gt(n,r,o){ta(n,r,3,o)}function Cn(n,r,o,a){(3&n[ln])===o&&ta(n,r,o,a)}function rs(n,r){let o=n[ln];(3&o)===r&&(o&=4095,o+=1,n[ln]=o)}function ta(n,r,o,a){const d=a??-1,g=r.length-1;let _=0;for(let M=void 0!==a?65535&n[ms]:0;M<g;M++)if("number"==typeof r[M+1]){if(_=r[M],null!=a&&_>=a)break}else r[M]<0&&(n[ms]+=65536),(_<d||-1==d)&&(Wo(n,o,r,M),n[ms]=(4294901760&n[ms])+M+2),M++}function qo(n,r){z(4,n,r);const o=Ei(null);try{r.call(n)}finally{Ei(o),z(5,n,r)}}function Wo(n,r,o,a){const c=o[a]<0,d=o[a+1],_=n[c?-o[a]:o[a]];c?n[ln]>>12<n[ms]>>16&&(3&n[ln])===r&&(n[ln]+=4096,qo(_,d)):qo(_,d)}const Po=-1;class fs{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function El(n){return n!==Po}function Sc(n){return 32767&n}function Xa(n,r){let o=function lp(n){return n>>16}(n),a=r;for(;o>0;)a=a[_i],o--;return a}let Ac=!0;function ba(n){const r=Ac;return Ac=n,r}const Zu=255,eu=5;let Il=0;const Gr={};function ra(n,r){const o=si(n,r);if(-1!==o)return o;const a=r[St];a.firstCreatePass&&(n.injectorIndex=r.length,tu(a.data,n),tu(r,null),tu(a.blueprint,null));const c=pa(n,r),d=n.injectorIndex;if(El(c)){const g=Sc(c),_=Xa(c,r),M=_[St].data;for(let F=0;F<8;F++)r[d+F]=_[g+F]|M[g+F]}return r[d+8]=c,d}function tu(n,r){n.push(0,0,0,0,0,0,0,0,r)}function si(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function pa(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,a=null,c=r;for(;null!==c;){if(a=oa(c),null===a)return Po;if(o++,c=c[_i],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Po}function us(n,r,o){!function yd(n,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(ci)&&(a=o[ci]),null==a&&(a=o[ci]=Il++);const c=a&Zu;r.data[n+(c>>eu)]|=1<<c}(n,r,o)}function Yu(n,r,o){if(o&Dt.Optional||void 0!==n)return n;Ce()}function Sa(n,r,o,a){if(o&Dt.Optional&&void 0===a&&(a=null),!(o&(Dt.Self|Dt.Host))){const c=n[xs],d=cr(void 0);try{return c?c.get(r,a,o&Dt.Optional):gn(r,a,o&Dt.Optional)}finally{cr(d)}}return Yu(a,0,o)}function Ds(n,r,o,a=Dt.Default,c){if(null!==n){if(2048&r[ln]&&!(a&Dt.Self)){const g=function sa(n,r,o,a,c){let d=n,g=r;for(;null!==d&&null!==g&&2048&g[ln]&&!(512&g[ln]);){const _=Mc(d,g,o,a|Dt.Self,Gr);if(_!==Gr)return _;let M=d.parent;if(!M){const F=g[ys];if(F){const W=F.get(o,Gr,a);if(W!==Gr)return W}M=oa(g),g=g[_i]}d=M}return c}(n,r,o,a,Gr);if(g!==Gr)return g}const d=Mc(n,r,o,a,Gr);if(d!==Gr)return d}return Sa(r,o,a,c)}function Mc(n,r,o,a,c){const d=function oo(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(ci)?n[ci]:void 0;return"number"==typeof r?r>=0?r&Zu:Dl:r}(o);if("function"==typeof d){if(!$a(r,n,a))return a&Dt.Host?Yu(c,0,a):Sa(r,o,a,c);try{const g=d(a);if(null!=g||a&Dt.Optional)return g;Ce()}finally{Ha()}}else if("number"==typeof d){let g=null,_=si(n,r),M=Po,F=a&Dt.Host?r[Dr][Br]:null;for((-1===_||a&Dt.SkipSelf)&&(M=-1===_?pa(n,r):r[_+8],M!==Po&&ia(a,!1)?(g=r[St],_=Sc(M),r=Xa(M,r)):_=-1);-1!==_;){const W=r[St];if(Pi(d,_,W.data)){const re=xc(_,r,o,g,a,F);if(re!==Gr)return re}M=r[_+8],M!==Po&&ia(a,r[St].data[_+8]===F)&&Pi(d,_,r)?(g=W,_=Sc(M),r=Xa(M,r)):_=-1}}return c}function xc(n,r,o,a,c,d){const g=r[St],_=g.data[n+8],W=Ki(_,g,o,null==a?Cr(_)&&Ac:a!=g&&0!=(3&_.type),c&Dt.Host&&d===_);return null!==W?Aa(r,g,W,_):Gr}function Ki(n,r,o,a,c){const d=n.providerIndexes,g=r.data,_=1048575&d,M=n.directiveStart,W=d>>20,ve=c?_+W:n.directiveEnd;for(let xe=a?_:_+W;xe<ve;xe++){const it=g[xe];if(xe<M&&o===it||xe>=M&&it.type===o)return xe}if(c){const xe=g[M];if(xe&&as(xe)&&xe.type===o)return M}return null}function Aa(n,r,o,a){let c=n[o];const d=r.data;if(function Ku(n){return n instanceof fs}(c)){const g=c;g.resolving&&function We(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ft(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Oe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():me(n)}(d[o]));const _=ba(g.canSeeViewProviders);g.resolving=!0;const M=g.injectImpl?cr(g.injectImpl):null;$a(n,a,Dt.Default);try{c=n[o]=g.factory(void 0,d,n,a),r.firstCreatePass&&o>=a.directiveStart&&function Ke(n,r,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=Eo(r);(o.preOrderHooks??=[]).push(n,g),(o.preOrderCheckHooks??=[]).push(n,g)}c&&(o.preOrderHooks??=[]).push(0-n,c),d&&((o.preOrderHooks??=[]).push(n,d),(o.preOrderCheckHooks??=[]).push(n,d))}(o,d[o],r)}finally{null!==M&&cr(M),ba(_),g.resolving=!1,Ha()}}return c}function Pi(n,r,o){return!!(o[r+(n>>eu)]&1<<n)}function ia(n,r){return!(n&Dt.Self||n&Dt.Host&&r)}class Ko{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return Ds(this._tNode,this._lView,r,Jt(a),o)}}function Dl(){return new Ko(xn(),lt())}function Ma(n){return Se(()=>{const r=n.prototype.constructor,o=r[Jr]||Rc(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const d=c[Jr]||Rc(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Rc(n){return kt(n)?()=>{const r=Rc(et(n));return r&&r()}:Rr(n)}function oa(n){const r=n[St],o=r.type;return 2===o?r.declTNode:1===o?n[Br]:null}function ga(n){return function Ii(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const d=o[c];if(Gs(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(d===r)return o[c+1];c+=2}}}return null}(xn(),n)}const Ys="__parameters__";function bo(n,r,o){return Se(()=>{const a=function nu(n){return function(...o){if(n){const a=n(...o);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return _.annotation=g,_;function _(M,F,W){const re=M.hasOwnProperty(Ys)?M[Ys]:Object.defineProperty(M,Ys,{value:[]})[Ys];for(;re.length<=W;)re.push(null);return(re[W]=re[W]||[]).push(g),M}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}function oi(n,r){n.forEach(o=>Array.isArray(o)?oi(o,r):r(o))}function ma(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function Ga(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Y(n,r,o){let a=Ie(n,r);return a>=0?n[1|a]=o:(a=~a,function A(n,r,o,a){let c=n.length;if(c==r)n.push(o,a);else if(1===c)n.push(a,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=o,n[r+1]=a}}(n,a,r,o)),a}function pe(n,r){const o=Ie(n,r);if(o>=0)return n[1|o]}function Ie(n,r){return function Ft(n,r,o){let a=0,c=n.length>>o;for(;c!==a;){const d=a+(c-a>>1),g=n[d<<o];if(r===g)return d<<o;g>r?c=d:a=d+1}return~(c<<o)}(n,r,1)}const lo=lr(bo("Optional"),8),qa=lr(bo("SkipSelf"),4);function rc(n){return 128==(128&n.flags)}var Ka=(()=>((Ka=Ka||{})[Ka.Important=1]="Important",Ka[Ka.DashCase=2]="DashCase",Ka))();const mp=/^>|^->|<!--|-->|--!>|<!-$/g,Fc=/(<|>)/,ic="\u200b$1\u200b";const hu=new Map;let yp=0;const Vc="__ngContext__";function ho(n,r){pi(r)?(n[Vc]=r[Rs],function vp(n){hu.set(n[Rs],n)}(r)):n[Vc]=r}let Ml;function xl(n,r){return Ml(n,r)}function Rl(n){const r=n[tn];return Mr(r)?r[tn]:r}function p(n){return j(n[gs])}function C(n){return j(n[bi])}function j(n){for(;null!==n&&!Mr(n);)n=n[bi];return n}function J(n,r,o,a,c){if(null!=a){let d,g=!1;Mr(a)?d=a:pi(a)&&(g=!0,a=a[Ir]);const _=Be(a);0===n&&null!==o?null==c?Ol(r,o,_):xu(r,o,_,c||null,!0):1===n&&null!==o?xu(r,o,_,c||null,!0):2===n?function Od(n,r,o){const a=Gh(n,r);a&&function kl(n,r,o,a){n.removeChild(r,o,a)}(n,a,r,o)}(r,_,g):3===n&&r.destroyNode(_),null!=d&&function Dm(n,r,o,a,c){const d=o[Ri];d!==Be(o)&&J(r,n,a,d,c);for(let _=Zr;_<o.length;_++){const M=o[_];Nu(M[St],M,n,r,a,d)}}(r,n,d,o,c)}}function Mt(n,r){return n.createComment(function Vh(n){return n.replace(mp,r=>r.replace(Fc,ic))}(r))}function jt(n,r,o){return n.createElement(r,o)}function Hc(n,r){const o=n[vs],a=o.indexOf(r);zo(r),o.splice(a,1)}function Gc(n,r){if(n.length<=Zr)return;const o=Zr+r,a=n[o];if(a){const c=a[Mo];null!==c&&c!==n&&Hc(c,a),r>0&&(n[o-1][bi]=a[bi]);const d=Ga(n,Zr+r);!function hn(n,r){Nu(n,r,r[cn],2,null,null),r[Ir]=null,r[Br]=null}(a[St],a);const g=d[ei];null!==g&&g.detachView(d[St]),a[tn]=null,a[bi]=null,a[ln]&=-129}return a}function Nl(n,r){if(!(256&r[ln])){const o=r[cn];r[Ns]?.destroy(),r[os]?.destroy(),o.destroyNode&&Nu(n,r,o,3,null,null),function ua(n){let r=n[gs];if(!r)return zc(n[St],n);for(;r;){let o=null;if(pi(r))o=r[gs];else{const a=r[Zr];a&&(o=a)}if(!o){for(;r&&!r[bi]&&r!==n;)pi(r)&&zc(r[St],r),r=r[tn];null===r&&(r=n),pi(r)&&zc(r[St],r),o=r&&r[bi]}r=o}}(r)}}function zc(n,r){if(!(256&r[ln])){r[ln]&=-129,r[ln]|=256,function xd(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let a=0;a<o.length;a+=2){const c=r[o[a]];if(!(c instanceof fs)){const d=o[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const _=c[d[g]],M=d[g+1];z(4,_,M);try{M.call(_)}finally{z(5,_,M)}}else{z(4,c,d);try{d.call(c)}finally{z(5,c,d)}}}}}(n,r),function Md(n,r){const o=n.cleanup,a=r[Ms];if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const g=o[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else o[d].call(a[o[d+1]]);null!==a&&(r[Ms]=null);const c=r[ti];if(null!==c){r[ti]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(n,r),1===r[St].type&&r[cn].destroy();const o=r[Mo];if(null!==o&&Mr(r[tn])){o!==r[tn]&&Hc(o,r);const a=r[ei];null!==a&&a.detachView(n)}!function Sl(n){hu.delete(n[Rs])}(r)}}function qc(n,r,o){return function Rd(n,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[Ir];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=n.data[a.directiveStart+c];if(d===$t.None||d===$t.Emulated)return null}return Dn(a,o)}}(n,r.parent,o)}function xu(n,r,o,a,c){n.insertBefore(r,o,a,c)}function Ol(n,r,o){n.appendChild(r,o)}function Pl(n,r,o,a,c){null!==a?xu(n,r,o,a,c):Ol(n,r,o)}function Gh(n,r){return n.parentNode(r)}let Pa,Zh,Yh,Fl=function Ip(n,r,o){return 40&n.type?Dn(n,o):null};function Nd(n,r,o,a){const c=qc(n,a,r),d=r[cn],_=function zh(n,r,o){return Fl(n,r,o)}(a.parent||r[Br],a,r);if(null!=c)if(Array.isArray(o))for(let M=0;M<o.length;M++)Pl(d,c,o[M],_,!1);else Pl(d,c,o,_,!1);void 0!==Pa&&Pa(d,a,r,o,c)}function Ru(n,r){if(null!==r){const o=r.type;if(3&o)return Dn(r,n);if(4&o)return Wh(-1,n[r.index]);if(8&o){const a=r.child;if(null!==a)return Ru(n,a);{const c=n[r.index];return Mr(c)?Wh(-1,c):Be(c)}}if(32&o)return xl(r,n)()||Be(n[r.index]);{const a=Dp(n,r);return null!==a?Array.isArray(a)?a[0]:Ru(Rl(n[Dr]),a):Ru(n,r.next)}}return null}function Dp(n,r){return null!==r?n[Dr][Br].projection[r.projection]:null}function Wh(n,r){const o=Zr+n+1;if(o<r.length){const a=r[o],c=a[St].firstChild;if(null!==c)return Ru(a,c)}return r[Ri]}function Cp(n,r,o,a,c,d,g){for(;null!=o;){const _=a[o.index],M=o.type;if(g&&0===r&&(_&&ho(Be(_),a),o.flags|=2),32!=(32&o.flags))if(8&M)Cp(n,r,o.child,a,c,d,!1),J(r,n,c,_,d);else if(32&M){const F=xl(o,a);let W;for(;W=F();)J(r,n,c,W,d);J(r,n,c,_,d)}else 16&M?Im(n,r,a,o,c,d):J(r,n,c,_,d);o=g?o.projectionNext:o.next}}function Nu(n,r,o,a,c,d){Cp(o,a,n.firstChild,r,c,d,!1)}function Im(n,r,o,a,c,d){const g=o[Dr],M=g[Br].projection[a.projection];if(Array.isArray(M))for(let F=0;F<M.length;F++)J(r,n,c,M[F],d);else{let F=M;const W=g[tn];rc(a)&&(F.flags|=128),Cp(n,r,F,W,c,d,!0)}}function Tm(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function Sp(n,r,o){const{mergedAttrs:a,classes:c,styles:d}=o;null!==a&&Yi(n,r,a),null!==c&&Tm(n,r,c),null!==d&&function Cm(n,r,o){n.setAttribute(r,"style",o)}(n,r,d)}function Ou(n){Zh=n}function uc(n){return function Qh(){if(void 0===Yh&&(Yh=null,Jn.trustedTypes))try{Yh=Jn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Yh}()?.createScriptURL(n)||n}class cc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yt})`}}function Pu(n){return n instanceof cc?n.changingThisBreaksApplicationSecurity:n}function Fd(n,r){const o=function Am(n){return n instanceof cc&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${yt})`)}return o===r}const Ld=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Fr=(()=>((Fr=Fr||{})[Fr.NONE=0]="NONE",Fr[Fr.HTML=1]="HTML",Fr[Fr.STYLE=2]="STYLE",Fr[Fr.SCRIPT=3]="SCRIPT",Fr[Fr.URL=4]="URL",Fr[Fr.RESOURCE_URL=5]="RESOURCE_URL",Fr))();function $d(n){const r=ka();return r?r.sanitize(Fr.URL,n)||"":Fd(n,"URL")?Pu(n):function ku(n){return(n=String(n)).match(Ld)?n:"unsafe:"+n}(me(n))}function Fp(n){const r=ka();if(r)return uc(r.sanitize(Fr.RESOURCE_URL,n)||"");if(Fd(n,"ResourceURL"))return uc(Pu(n));throw new ft(904,!1)}function Vm(n,r,o){return function Kc(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?Fp:$d}(r,o)(n)}function ka(){const n=lt();return n&&n[Gi].sanitizer}class ai{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Sn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Hd=new ai("ENVIRONMENT_INITIALIZER"),Lp=new ai("INJECTOR",-1),Um=new ai("INJECTOR_DEF_TYPES");class Vp{get(r,o=An){if(o===An){const a=new Error(`NullInjectorError: No provider for ${Ge(r)}!`);throw a.name="NullInjectorError",a}return o}}function nf(...n){return{\u0275providers:$m(0,n),\u0275fromNgModule:!0}}function $m(n,...r){const o=[],a=new Set;let c;return oi(r,d=>{const g=d;rf(g,o,[],a)&&(c||=[],c.push(g))}),void 0!==c&&jm(c,o),o}function jm(n,r){for(let o=0;o<n.length;o++){const{providers:c}=n[o];sf(c,d=>{r.push(d)})}}function rf(n,r,o,a){if(!(n=et(n)))return!1;let c=null,d=Vn(n);const g=!d&&bn(n);if(d||g){if(g&&!g.standalone)return!1;c=n}else{const M=n.ngModule;if(d=Vn(M),!d)return!1;c=M}const _=a.has(c);if(g){if(_)return!1;if(a.add(c),g.dependencies){const M="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const F of M)rf(F,r,o,a)}}else{if(!d)return!1;{if(null!=d.imports&&!_){let F;a.add(c);try{oi(d.imports,W=>{rf(W,r,o,a)&&(F||=[],F.push(W))})}finally{}void 0!==F&&jm(F,r)}if(!_){const F=Rr(c)||(()=>new c);r.push({provide:c,useFactory:F,deps:Nt},{provide:Um,useValue:c,multi:!0},{provide:Hd,useValue:()=>Bt(c),multi:!0})}const M=d.providers;null==M||_||sf(M,W=>{r.push(W)})}}return c!==n&&void 0!==n.providers}function sf(n,r){for(let o of n)Ln(o)&&(o=o.\u0275providers),Array.isArray(o)?sf(o,r):r(o)}const Zc=qe({provide:String,useValue:qe});function Yc(n){return null!==n&&"object"==typeof n&&Zc in n}function Qc(n){return"function"==typeof n}const $p=new ai("Set Injector scope."),af={},jp={};let $s;function uf(){return void 0===$s&&($s=new Vp),$s}class Jc{}class Hp extends Jc{get destroyed(){return this._destroyed}constructor(r,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zd(r,g=>this.processProvider(g)),this.records.set(Lp,Fu(void 0,this)),c.has("environment")&&this.records.set(Jc,Fu(void 0,this));const d=this.records.get($p);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Um.multi,Nt,Dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Qe(this),a=cr(void 0);try{return r()}finally{Qe(o),cr(a)}}get(r,o=An,a=Dt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Hi))return r[Hi](this);a=Jt(a);const c=Qe(this),d=cr(void 0);try{if(!(a&Dt.SkipSelf)){let _=this.records.get(r);if(void 0===_){const M=function qp(n){return"function"==typeof n||"object"==typeof n&&n instanceof ai}(r)&&Yt(r);_=M&&this.injectableDefInScope(M)?Fu(Gp(r),af):null,this.records.set(r,_)}if(null!=_)return this.hydrate(r,_)}return(a&Dt.Self?uf():this.parent).get(r,o=a&Dt.Optional&&o===An?null:o)}catch(g){if("NullInjectorError"===g.name){if((g[Bn]=g[Bn]||[]).unshift(Ge(r)),c)throw g;return function ji(n,r,o,a){const c=n[Bn];throw r[K]&&c.unshift(r[K]),n.message=function Ve(n,r,o,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=Ge(r);if(Array.isArray(r))c=r.map(Ge).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let _=r[g];d.push(g+":"+("string"==typeof _?JSON.stringify(_):Ge(_)))}c=`{${d.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${n.replace(G,"\n  ")}`}("\n"+n.message,c,o,a),n.ngTokenPath=c,n[Bn]=null,n}(g,r,"R3InjectorError",this.source)}throw g}finally{cr(d),Qe(c)}}resolveInjectorInitializers(){const r=Qe(this),o=cr(void 0);try{const a=this.get(Hd.multi,Nt,Dt.Self);for(const c of a)c()}finally{Qe(r),cr(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(Ge(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ft(205,!1)}processProvider(r){let o=Qc(r=et(r))?r:et(r&&r.provide);const a=function Av(n){return Yc(n)?Fu(void 0,n.useValue):Fu(Gd(n),af)}(r);if(Qc(r)||!0!==r.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Fu(void 0,af,!0),c.factory=()=>kn(c.multi),this.records.set(o,c)),o=r,c.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===af&&(o.value=jp,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Gm(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=et(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Gp(n){const r=Yt(n),o=null!==r?r.factory:Rr(n);if(null!==o)return o;if(n instanceof ai)throw new ft(204,!1);if(n instanceof Function)return function zp(n){const r=n.length;if(r>0)throw function ou(n,r){const o=[];for(let a=0;a<n;a++)o.push(r);return o}(r,"?"),new ft(204,!1);const o=function qr(n){return n&&(n[Qn]||n[Un])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new ft(204,!1)}function Gd(n,r,o){let a;if(Qc(n)){const c=et(n);return Rr(c)||Gp(c)}if(Yc(n))a=()=>et(n.useValue);else if(function Bp(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...kn(n.deps||[]));else if(function Up(n){return!(!n||!n.useExisting)}(n))a=()=>Bt(et(n.useExisting));else{const c=et(n&&(n.useClass||n.provide));if(!function Mv(n){return!!n.deps}(n))return Rr(c)||Gp(c);a=()=>new c(...kn(n.deps))}return a}function Fu(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function zd(n,r){for(const o of n)Array.isArray(o)?zd(o,r):o&&Ln(o)?zd(o.\u0275providers,r):r(o)}const Gl=new ai("AppId",{providedIn:"root",factory:()=>cf}),cf="ng",lf=new ai("Platform Initializer"),qd=new ai("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zm=new ai("CSP nonce",{providedIn:"root",factory:()=>function Ul(){if(void 0!==Zh)return Zh;if(typeof document<"u")return document;throw new ft(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Yp=(n,r)=>null;function Wl(n,r){return Yp(n,r)}class Uo{}class Ym{}class ng{resolveComponentFactory(r){throw function Qm(n){const r=Error(`No component factory found for ${Ge(n)}.`);return r.ngComponent=n,r}(r)}}let Xd=(()=>{class n{}return n.NULL=new ng,n})();function Nv(){return Kl(xn(),lt())}function Kl(n,r){return new eh(Dn(n,r))}let eh=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Nv,n})();function Ov(n){return n instanceof eh?n.nativeElement:n}class _f{}let Pv=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function kv(){const n=lt(),o=jn(xn().index,n);return(pi(o)?o:n)[cn]}(),n})(),th=(()=>{class n{}return n.\u0275prov=Sn({token:n,providedIn:"root",factory:()=>null}),n})();class wf{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Xc=new wf("16.0.4"),nh={};function fc(n){for(;n;){n[ln]|=64;const r=Rl(n);if(Pr(n)&&!r)return n;n=r}return null}function Ef(n){return n.ngOriginalError}class pc{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Ef(r);for(;o&&Ef(o);)o=Ef(o);return o||null}}const rg=new ai("",{providedIn:"root",factory:()=>!1});function gu(n){return n instanceof Function?n():n}class ny extends _o{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(r){this._lView=r}onConsumerDependencyMayHaveChanged(){fc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(r,o,a){const c=Ei(this);this.trackingVersion++;try{r(o,a)}finally{Ei(c)}}destroy(){this.trackingVersion++}}let Ql=null;function ry(){return Ql??=new ny,Ql}function If(n,r){return n[r]??ry()}function iy(n,r){const o=ry();o.hasReadASignal&&(n[r]=Ql,o.lView=n,Ql=new ny)}const qn={};function ug(n){Df(sr(),lt(),Oi()+n,!1)}function Df(n,r,o,a){if(!a)if(3==(3&r[ln])){const d=n.preOrderCheckHooks;null!==d&&Gt(r,d,o)}else{const d=n.preOrderHooks;null!==d&&Cn(r,d,0,o)}Oo(o)}function Cf(n,r=null,o=null,a){const c=Tf(n,r,o,a);return c.resolveInjectorInitializers(),c}function Tf(n,r=null,o=null,a,c=new Set){const d=[o||Nt,nf(n)];return a=a||("object"==typeof n?void 0:Ge(n)),new Hp(d,r||uf(),a||null,c)}let mu=(()=>{class n{static create(o,a){if(Array.isArray(o))return Cf({name:""},a,o,"");{const c=o.name??"";return Cf({name:c},o.parent,o.providers,c)}}}return n.THROW_IF_NOT_FOUND=An,n.NULL=new Vp,n.\u0275prov=Sn({token:n,providedIn:"any",factory:()=>Bt(Lp)}),n.__NG_ELEMENT_ID__=-1,n})();function yc(n,r=Dt.Default){const o=lt();return null===o?Bt(n,r):Ds(xn(),o,et(n),r)}function oy(){throw new Error("invalid")}function ed(n,r,o,a,c,d,g,_,M,F,W){const re=r.blueprint.slice();return re[Ir]=c,re[ln]=140|a,(null!==F||n&&2048&n[ln])&&(re[ln]|=2048),li(re),re[tn]=re[_i]=n,re[mr]=o,re[Gi]=g||n&&n[Gi],re[cn]=_||n&&n[cn],re[xs]=M||n&&n[xs]||null,re[Br]=d,re[Rs]=function Lc(){return yp++}(),re[Si]=W,re[ys]=F,re[Dr]=2==r.type?n[Dr]:re,re}function vc(n,r,o,a,c){let d=n.data[r];if(null===d)d=function hg(n,r,o,a,c){const d=Ua(),g=Wi(),M=n.data[r]=function yg(n,r,o,a,c,d){let g=r?r.injectorIndex:-1,_=0;return function gi(){return null!==_n.skipHydrationRootTNode}()&&(_|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,o,r,a,c);return null===n.firstChild&&(n.firstChild=M),null!==d&&(g?null==d.child&&null!==M.parent&&(d.child=M):null===d.next&&(d.next=M,M.prev=d)),M}(n,r,o,a,c),function ea(){return _n.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=o,d.value=a,d.attrs=c;const g=function Kt(){const n=_n.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Us(d,!0),d}function td(n,r,o,a){if(0===o)return-1;const c=r.length;for(let d=0;d<o;d++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function ay(n,r,o,a,c){const d=If(r,Ns),g=Oi(),_=2&a;try{if(Oo(-1),_&&r.length>On&&Df(n,r,On,!1),z(_?2:0,c),_)d.runInContext(o,a,c);else{const F=Ei(null);try{o(a,c)}finally{Ei(F)}}}finally{_&&null===r[Ns]&&iy(r,Ns),Oo(g),z(_?3:1,c)}}function bf(n,r,o){if(eo(r)){const a=Ei(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const _=n.data[g];_.contentQueries&&_.contentQueries(1,o[g],g)}}finally{Ei(a)}}}function Sf(n,r,o){dt()&&(function Eg(n,r,o,a){const c=o.directiveStart,d=o.directiveEnd;Cr(o)&&function Tg(n,r,o){const a=Dn(r,n),g=Pf(n,ed(n,fg(o),null,o.onPush?64:16,a,r,null,n[Gi].rendererFactory.createRenderer(a,o),null,null,null));n[r.index]=g}(r,o,n.data[c+o.componentOffset]),n.firstCreatePass||ra(o,r),ho(a,r);const g=o.initialInputs;for(let _=c;_<d;_++){const M=n.data[_],F=Aa(r,n,_,o);ho(F,r),null!==g&&Yv(0,_-c,F,M,0,g),as(M)&&(jn(o.index,r)[mr]=Aa(r,n,_,o))}}(n,r,o,Dn(o,r)),64==(64&o.flags)&&Rf(n,r,o))}function Af(n,r,o=Dn){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],_=-1===g?o(r,n):n[g];n[c++]=_}}}function fg(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=pg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function pg(n,r,o,a,c,d,g,_,M,F,W){const re=On+a,ve=re+c,xe=function Hv(n,r){const o=[];for(let a=0;a<r;a++)o.push(a<n?null:qn);return o}(re,ve),it="function"==typeof F?F():F;return xe[St]={type:n,blueprint:xe,template:o,queries:null,viewQuery:_,declTNode:r,data:xe.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:M,consts:it,incompleteFirstPass:!1,ssrId:W}}let Mf=n=>null;function uy(n,r,o,a){for(let c in n)if(n.hasOwnProperty(c)){o=null===o?{}:o;const d=n[c];null===a?xf(o,r,c,d):a.hasOwnProperty(c)&&xf(o,r,a[c],d)}return o}function xf(n,r,o,a){n.hasOwnProperty(o)?n[o].push(r,a):n[o]=[r,a]}function ih(n,r,o,a){if(dt()){const c=null===a?null:{"":-1},d=function nd(n,r){const o=n.directiveRegistry;let a=null,c=null;if(o)for(let d=0;d<o.length;d++){const g=o[d];if(Ye(r,g.selectors,!1))if(a||(a=[]),as(g))if(null!==g.findHostDirectiveDefs){const _=[];c=c||new Map,g.findHostDirectiveDefs(g,_,c),a.unshift(..._,g),Nf(n,r,_.length)}else a.unshift(g),Nf(n,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(n,o);let g,_;null===d?g=_=null:[g,_]=d,null!==g&&ly(n,r,o,g,c,_),c&&function Dg(n,r,o){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const d=o[r[c+1]];if(null==d)throw new ft(-301,!1);a.push(r[c],d)}}}(o,a,c)}o.mergedAttrs=Qi(o.mergedAttrs,o.attrs)}function ly(n,r,o,a,c,d){for(let F=0;F<a.length;F++)us(ra(o,r),n,a[F].type);!function Cg(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}(o,n.data.length,a.length);for(let F=0;F<a.length;F++){const W=a[F];W.providersResolver&&W.providersResolver(W)}let g=!1,_=!1,M=td(n,r,a.length,null);for(let F=0;F<a.length;F++){const W=a[F];o.mergedAttrs=Qi(o.mergedAttrs,W.hostAttrs),Vu(n,o,r,M,W),Zv(M,W,c),null!==W.contentQueries&&(o.flags|=4),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(o.flags|=64);const re=W.type.prototype;!g&&(re.ngOnChanges||re.ngOnInit||re.ngDoCheck)&&((n.preOrderHooks??=[]).push(o.index),g=!0),!_&&(re.ngOnChanges||re.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(o.index),_=!0),M++}!function cy(n,r,o){const c=r.directiveEnd,d=n.data,g=r.attrs,_=[];let M=null,F=null;for(let W=r.directiveStart;W<c;W++){const re=d[W],ve=o?o.get(re):null,it=ve?ve.outputs:null;M=uy(re.inputs,W,M,ve?ve.inputs:null),F=uy(re.outputs,W,F,it);const Et=null===M||null===g||Vi(r)?null:bg(M,W,g);_.push(Et)}null!==M&&(M.hasOwnProperty("class")&&(r.flags|=8),M.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=_,r.inputs=M,r.outputs=F}(n,o,d)}function Rf(n,r,o){const a=o.directiveStart,c=o.directiveEnd,d=o.index,g=function yl(){return _n.lFrame.currentDirectiveIndex}();try{Oo(d);for(let _=a;_<c;_++){const M=n.data[_],F=r[_];No(_),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Ig(M,F)}}finally{Oo(-1),No(g)}}function Ig(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Nf(n,r,o){r.componentOffset=o,(n.components??=[]).push(r.index)}function Zv(n,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=n;as(r)&&(o[""]=n)}}function Vu(n,r,o,a,c){n.data[a]=c;const d=c.factory||(c.factory=Rr(c.type)),g=new fs(d,as(c),yc);n.blueprint[a]=g,o[a]=g,function wg(n,r,o,a,c){const d=c.hostBindings;if(d){let g=n.hostBindingOpCodes;null===g&&(g=n.hostBindingOpCodes=[]);const _=~r.index;(function Kv(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(g)!=_&&g.push(_),g.push(o,a,d)}}(n,r,a,td(n,o,c.hostVars,qn),c)}function yu(n,r,o,a,c,d){const g=Dn(n,r);!function sh(n,r,o,a,c,d,g){if(null==d)n.removeAttribute(r,c,o);else{const _=null==g?me(d):g(d,a||"",c);n.setAttribute(r,c,_,o)}}(r[cn],g,d,n.value,o,a,c)}function Yv(n,r,o,a,c,d){const g=d[r];if(null!==g)for(let _=0;_<g.length;)dy(a,o,g[_++],g[_++],g[_++])}function dy(n,r,o,a,c){const d=Ei(null);try{null!==n.setInput?n.setInput(r,c,o,a):r[a]=c}finally{Ei(d)}}function bg(n,r,o){let a=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(n.hasOwnProperty(d)){null===a&&(a=[]);const g=n[d];for(let _=0;_<g.length;_+=2)if(g[_]===r){a.push(d,g[_+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function hy(n,r,o,a){return[n,!0,!1,r,null,0,a,o,null,null,null]}function Of(n,r){const o=n.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const d=o[a+1];if(-1!==d){const g=n.data[d];Es(o[a]),g.contentQueries(2,r[d],d)}}}function Pf(n,r){return n[gs]?n[Xs][bi]=r:n[gs]=r,n[Xs]=r,r}function oh(n,r,o){Es(0);const a=Ei(null);try{r(n,o)}finally{Ei(a)}}function kf(n){return n[Ms]||(n[Ms]=[])}function Sg(n){return n.cleanup||(n.cleanup=[])}function Ag(n,r){const o=n[xs],a=o?o.get(pc,null):null;a&&a.handleError(r)}function Mg(n,r,o,a,c){for(let d=0;d<o.length;){const g=o[d++],_=o[d++];dy(n.data[g],r[g],a,_,c)}}function xg(n,r){const o=jn(r,n),a=o[St];!function Qv(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])}(a,o);const c=o[Ir];null!==c&&null===o[Si]&&(o[Si]=Wl(c,o[xs])),ah(a,o,o[mr])}function ah(n,r,o){Tu(r);try{const a=n.viewQuery;null!==a&&oh(1,a,o);const c=n.template;null!==c&&ay(n,r,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Of(n,r),n.staticViewQueries&&oh(2,n.viewQuery,o);const d=n.components;null!==d&&function Rg(n,r){for(let o=0;o<r.length;o++)xg(n,r[o])}(r,d)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[ln]&=-5,Is()}}let fy=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(o,a,c){const d=typeof Zone>"u"?null:Zone.current,g=new wo(o,F=>{this.all.has(F)&&this.queue.set(F,d)},c);let _;this.all.add(g),g.notify();const M=()=>{g.cleanup(),_?.(),this.all.delete(g),this.queue.delete(g)};return _=a?.onDestroy(M),{destroy:M}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=Sn({token:n,providedIn:"root",factory:()=>new n}),n})();function uh(n,r,o){let a=o?n.styles:null,c=o?n.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const _=r[g];"number"==typeof _?d=_:1==d?c=Je(c,_):2==d&&(a=Je(a,_+": "+r[++g]+";"))}o?n.styles=a:n.stylesWithoutHost=a,o?n.classes=c:n.classesWithoutHost=c}function vu(n,r,o,a,c=!1){for(;null!==o;){const d=r[o.index];if(null!==d&&a.push(Be(d)),Mr(d)){for(let _=Zr;_<d.length;_++){const M=d[_],F=M[St].firstChild;null!==F&&vu(M[St],M,F,a)}d[Ri]!==d[Ir]&&a.push(d[Ri])}const g=o.type;if(8&g)vu(n,r,o.child,a);else if(32&g){const _=xl(o,r);let M;for(;M=_();)a.push(M)}else if(16&g){const _=Dp(r,o);if(Array.isArray(_))a.push(..._);else{const M=Rl(r[Dr]);vu(M[St],M,_,a,!0)}}o=c?o.projectionNext:o.next}return a}function ch(n,r,o,a=!0){const c=r[Gi].rendererFactory;c.begin&&c.begin();try{Lf(n,r,n.template,o)}catch(g){throw a&&Ag(r,g),g}finally{c.end&&c.end(),r[Gi].effectManager?.flush()}}function Lf(n,r,o,a){const c=r[ln];if(256!=(256&c)){r[Gi].effectManager?.flush(),Tu(r);try{li(r),function xt(n){return _n.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&ay(n,r,o,2,a);const g=3==(3&c);if(g){const F=n.preOrderCheckHooks;null!==F&&Gt(r,F,null)}else{const F=n.preOrderHooks;null!==F&&Cn(r,F,0,null),rs(r,0)}if(function t_(n){for(let r=p(n);null!==r;r=C(r)){if(!r[Os])continue;const o=r[vs];for(let a=0;a<o.length;a++){Ks(o[a])}}}(r),function e_(n){for(let r=p(n);null!==r;r=C(r))for(let o=Zr;o<r.length;o++){const a=r[o],c=a[St];Vs(a)&&Lf(c,a,c.template,a[mr])}}(r),null!==n.contentQueries&&Of(n,r),g){const F=n.contentCheckHooks;null!==F&&Gt(r,F)}else{const F=n.contentHooks;null!==F&&Cn(r,F,1),rs(r,1)}!function jv(n,r){const o=n.hostBindingOpCodes;if(null===o)return;const a=If(r,os);try{for(let c=0;c<o.length;c++){const d=o[c];if(d<0)Oo(~d);else{const g=d,_=o[++c],M=o[++c];Ca(_,g),a.runInContext(M,2,r[g])}}}finally{null===r[os]&&iy(r,os),Oo(-1)}}(n,r);const _=n.components;null!==_&&function kg(n,r){for(let o=0;o<r.length;o++)Vf(n,r[o])}(r,_);const M=n.viewQuery;if(null!==M&&oh(2,M,a),g){const F=n.viewCheckHooks;null!==F&&Gt(r,F)}else{const F=n.viewHooks;null!==F&&Cn(r,F,2),rs(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[ln]&=-73,zo(r)}finally{Is()}}}function Vf(n,r){const o=jn(r,n);if(Vs(o)){const a=o[St];80&o[ln]?Lf(a,o,a.template,o[mr]):o[xi]>0&&lh(o)}}function lh(n){for(let a=p(n);null!==a;a=C(a))for(let c=Zr;c<a.length;c++){const d=a[c];if(Vs(d))if(1024&d[ln]){const g=d[St];Lf(g,d,g.template,d[mr])}else d[xi]>0&&lh(d)}const o=n[St].components;if(null!==o)for(let a=0;a<o.length;a++){const c=jn(o[a],n);Vs(c)&&c[xi]>0&&lh(c)}}class rl{get rootNodes(){const r=this._lView,o=r[St];return vu(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mr]}set context(r){this._lView[mr]=r}get destroyed(){return 256==(256&this._lView[ln])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[tn];if(Mr(r)){const o=r[Ps],a=o?o.indexOf(this):-1;a>-1&&(Gc(r,a),Ga(o,a))}this._attachedToViewContainer=!1}Nl(this._lView[St],this._lView)}onDestroy(r){!function hr(n,r){if(256==(256&n[ln]))throw new ft(911,!1);null===n[ti]&&(n[ti]=[]),n[ti].push(r)}(this._lView,r)}markForCheck(){fc(this._cdRefInjectingView||this._lView)}detach(){this._lView[ln]&=-129}reattach(){this._lView[ln]|=128}detectChanges(){ch(this._lView[St],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ft(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bs(n,r){Nu(n,r,r[cn],2,null,null)}(this._lView[St],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ft(902,!1);this._appRef=r}}class gy extends rl{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;ch(r[St],r,r[mr],!1)}checkNoChanges(){}get context(){return null}}class Uf extends Xd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=bn(r);return new rd(o,this.ngModule)}}function Bf(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class Fg{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=Jt(a);const c=this.injector.get(r,nh,a);return c!==nh||o===nh?c:this.parentInjector.get(r,o,a)}}class rd extends Ym{get inputs(){return Bf(this.componentDef.inputs)}get outputs(){return Bf(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function vi(n){return n.map(ss).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,c){let d=(c=c||this.ngModule)instanceof Jc?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new Fg(r,d):r,_=g.get(_f,null);if(null===_)throw new ft(407,!1);const W={rendererFactory:_,sanitizer:g.get(th,null),effectManager:g.get(fy,null)},re=_.createRenderer(null,this.componentDef),ve=this.componentDef.selectors[0][0]||"div",xe=a?function Gv(n,r,o,a){const d=a.get(rg,!1)||o===$t.ShadowDom,g=n.selectRootElement(r,d);return function zv(n){Mf(n)}(g),g}(re,a,this.componentDef.encapsulation,g):jt(re,ve,function $f(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ve)),it=this.componentDef.onPush?576:528,Et=pg(0,null,null,1,0,null,null,null,null,null,null),Lt=ed(null,Et,null,it,null,null,W,re,g,null,null);let dn,mt;Tu(Lt);try{const Nn=this.componentDef;let xr,Mi=null;Nn.findHostDirectiveDefs?(xr=[],Mi=new Map,Nn.findHostDirectiveDefs(Nn,xr,Mi),xr.push(Nn)):xr=[Nn];const Hu=function Lg(n,r){const o=n[St],a=On;return n[a]=r,vc(o,a,2,"#host",null)}(Lt,xe),HI=function my(n,r,o,a,c,d,g){const _=c[St];!function id(n,r,o,a){for(const c of n)r.mergedAttrs=Qi(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(uh(r,r.mergedAttrs,!0),null!==o&&Sp(a,o,r))}(a,n,r,g);let M=null;null!==r&&(M=Wl(r,c[xs]));const F=d.rendererFactory.createRenderer(r,o),W=ed(c,fg(o),null,o.onPush?64:16,c[n.index],n,d,F,null,null,M);return _.firstCreatePass&&Nf(_,n,a.length-1),Pf(c,W),c[n.index]=W}(Hu,xe,Nn,xr,Lt,W,re);mt=Mn(Et,On),xe&&function r_(n,r,o,a){if(a)Yi(n,o,["ng-version",Xc.full]);else{const{attrs:c,classes:d}=function Ci(n){const r=[],o=[];let a=1,c=2;for(;a<n.length;){let d=n[a];if("string"==typeof d)2===c?""!==d&&r.push(d,n[++a]):8===c&&o.push(d);else{if(!ge(c))break;c=d}a++}return{attrs:r,classes:o}}(r.selectors[0]);c&&Yi(n,o,c),d&&d.length>0&&Tm(n,o,d.join(" "))}}(re,Nn,xe,a),void 0!==o&&function i_(n,r,o){const a=n.projection=[];for(let c=0;c<r.length;c++){const d=o[c];a.push(null!=d?Array.from(d):null)}}(mt,this.ngContentSelectors,o),dn=function Vg(n,r,o,a,c,d){const g=xn(),_=c[St],M=Dn(g,c);ly(_,c,g,o,null,a);for(let W=0;W<o.length;W++)ho(Aa(c,_,g.directiveStart+W,g),c);Rf(_,c,g),M&&ho(M,c);const F=Aa(c,_,g.directiveStart+g.componentOffset,g);if(n[mr]=c[mr]=F,null!==d)for(const W of d)W(F,r);return bf(_,g,n),F}(HI,Nn,xr,Mi,Lt,[s_]),ah(Et,Lt,null)}finally{Is()}return new jf(this.componentType,dn,Kl(mt,Lt),Lt,mt)}}class jf extends Uo{constructor(r,o,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new gy(c),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const d=this._rootLView;Mg(d[St],d,c,r,o),this.previousInputValues.set(r,o),fc(jn(this._tNode.index,d))}}get injector(){return new Ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function s_(){const n=xn();Zt(lt()[St],n)}function Bg(n){let r=function Ug(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const a=[n];for(;r;){let c;if(as(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ft(903,!1);c=r.\u0275dir}if(c){if(o){a.push(c);const g=n;g.inputs=$g(n.inputs),g.declaredInputs=$g(n.declaredInputs),g.outputs=$g(n.outputs);const _=c.hostBindings;_&&u_(n,_);const M=c.viewQuery,F=c.contentQueries;if(M&&o_(n,M),F&&a_(n,F),ot(n.inputs,c.inputs),ot(n.declaredInputs,c.declaredInputs),ot(n.outputs,c.outputs),as(c)&&c.data.animation){const W=n.data;W.animation=(W.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const _=d[g];_&&_.ngInherit&&_(n),_===Bg&&(o=!1)}}r=Object.getPrototypeOf(r)}!function yy(n){let r=0,o=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Qi(c.hostAttrs,o=Qi(o,c.hostAttrs))}}(a)}function $g(n){return n===Wt?{}:n===Nt?[]:n}function o_(n,r){const o=n.viewQuery;n.viewQuery=o?(a,c)=>{r(a,c),o(a,c)}:r}function a_(n,r){const o=n.contentQueries;n.contentQueries=o?(a,c,d)=>{r(a,c,d),o(a,c,d)}:r}function u_(n,r){const o=n.hostBindings;n.hostBindings=o?(a,c)=>{r(a,c),o(a,c)}:r}function _c(n){return!!Js(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Js(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function So(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function hh(n,r,o,a){const c=lt();return So(c,io(),r)&&(sr(),yu(Hr(),c,n,r,o,a)),hh}function Qg(n,r,o,a,c,d,g,_){const M=lt(),F=sr(),W=n+On,re=F.firstCreatePass?function Yf(n,r,o,a,c,d,g,_,M){const F=r.consts,W=vc(r,n,4,g||null,ri(F,_));ih(r,o,W,ri(F,M)),Zt(r,W);const re=W.tView=pg(2,W,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,F,null);return null!==r.queries&&(r.queries.template(r,W),re.queries=r.queries.embeddedTView(W)),W}(W,F,M,r,o,a,c,d,g):F.data[W];Us(re,!1);const ve=Qf(F,M,re,n);X()&&Nd(F,M,ve,re),ho(ve,M),Pf(M,M[W]=hy(ve,M,ve,re)),ks(re)&&Sf(F,M,re),null!=g&&Af(M,re,_)}let Qf=function Jg(n,r,o,a){return _e(!0),r[cn].createComment("")};function ul(n){return function Tr(n,r){return n[r]}(function an(){return _n.lFrame.contextLView}(),On+n)}function Ay(n,r,o){const a=lt();return So(a,io(),r)&&function ca(n,r,o,a,c,d,g,_){const M=Dn(r,o);let W,F=r.inputs;!_&&null!=F&&(W=F[a])?(Mg(n,o,W,a,c),Cr(r)&&function Wv(n,r){const o=jn(r,n);16&o[ln]||(o[ln]|=64)}(o,r.index)):3&r.type&&(a=function vg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(M,a,c))}(sr(),Hr(),a,n,r,a[cn],o,!1),Ay}function My(n,r,o,a,c){const g=c?"class":"style";Mg(n,o,r.inputs[g],g,a)}function Jf(n,r,o,a){const c=lt(),d=sr(),g=On+n,_=c[cn],M=d.firstCreatePass?function Xg(n,r,o,a,c,d){const g=r.consts,M=vc(r,n,2,a,ri(g,c));return ih(r,o,M,ri(g,d)),null!==M.attrs&&uh(M,M.attrs,!1),null!==M.mergedAttrs&&uh(M,M.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,M),M}(g,d,c,r,o,a):d.data[g],F=T_(d,c,M,_,r,n);c[g]=F;const W=ks(M);return Us(M,!0),Sp(_,F,M),32!=(32&M.flags)&&X()&&Nd(d,c,F,M),0===function gl(){return _n.lFrame.elementDepthCount}()&&ho(F,c),function Ct(){_n.lFrame.elementDepthCount++}(),W&&(Sf(d,c,M),bf(d,M,c)),null!==a&&Af(c,M),Jf}function cl(){let n=xn();Wi()?ii():(n=n.parent,Us(n,!1));const r=n;(function Cc(n){return _n.skipHydrationRootTNode===n})(r)&&function Tc(){_n.skipHydrationRootTNode=null}(),function $e(){_n.lFrame.elementDepthCount--}();const o=sr();return o.firstCreatePass&&(Zt(o,n),eo(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function _l(n){return 0!=(8&n.flags)}(r)&&My(o,r,lt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function na(n){return 0!=(16&n.flags)}(r)&&My(o,r,lt(),r.stylesWithoutHost,!1),cl}function xy(n,r,o,a){return Jf(n,r,o,a),cl(),xy}let T_=(n,r,o,a,c,d)=>(_e(!0),jt(a,c,function k(){return _n.lFrame.currentNamespace}()));function ll(n,r,o){const a=lt(),c=sr(),d=n+On,g=c.firstCreatePass?function _w(n,r,o,a,c){const d=r.consts,g=ri(d,a),_=vc(r,n,8,"ng-container",g);return null!==g&&uh(_,g,!0),ih(r,o,_,ri(d,c)),null!==r.queries&&r.queries.elementStart(r,_),_}(d,c,a,r,o):c.data[d];Us(g,!0);const _=tm(c,a,g,n);return a[d]=_,X()&&Nd(c,a,_,g),ho(_,a),ks(g)&&(Sf(c,a,g),bf(c,g,a)),null!=o&&Af(a,g),ll}function em(){let n=xn();const r=sr();return Wi()?ii():(n=n.parent,Us(n,!1)),r.firstCreatePass&&(Zt(r,n),eo(n)&&r.queries.elementEnd(n)),em}let tm=(n,r,o,a)=>(_e(!0),Mt(r[cn],""));function nm(){return lt()}function ep(n){return!!n&&"function"==typeof n.then}function rm(n){return!!n&&"function"==typeof n.subscribe}function im(n,r,o,a){const c=lt(),d=sr(),g=xn();return function S_(n,r,o,a,c,d,g){const _=ks(a),F=n.firstCreatePass&&Sg(n),W=r[mr],re=kf(r);let ve=!0;if(3&a.type||g){const Et=Dn(a,r),Lt=g?g(Et):Et,dn=re.length,mt=g?xr=>g(Be(xr[a.index])):a.index;let Nn=null;if(!g&&_&&(Nn=function ww(n,r,o,a){const c=n.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===o&&c[d+1]===a){const _=r[Ms],M=c[d+2];return _.length>M?_[M]:null}"string"==typeof g&&(d+=2)}return null}(n,r,c,a.index)),null!==Nn)(Nn.__ngLastListenerFn__||Nn).__ngNextListenerFn__=d,Nn.__ngLastListenerFn__=d,ve=!1;else{d=Oy(a,r,W,d,!1);const xr=o.listen(Lt,c,d);re.push(d,xr),F&&F.push(c,mt,dn,dn+1)}}else d=Oy(a,r,W,d,!1);const xe=a.outputs;let it;if(ve&&null!==xe&&(it=xe[c])){const Et=it.length;if(Et)for(let Lt=0;Lt<Et;Lt+=2){const Mi=r[it[Lt]][it[Lt+1]].subscribe(d),Hu=re.length;re.push(d,Mi),F&&F.push(c,a.index,Hu,-(Hu+1))}}}(d,c,c[cn],g,n,r,a),im}function A_(n,r,o,a){try{return z(6,r,o),!1!==o(a)}catch(c){return Ag(n,c),!1}finally{z(7,r,o)}}function Oy(n,r,o,a,c){return function d(g){if(g===Function)return a;fc(n.componentOffset>-1?jn(n.index,r):r);let M=A_(r,o,a,g),F=d.__ngNextListenerFn__;for(;F;)M=A_(r,o,F,g)&&M,F=F.__ngNextListenerFn__;return c&&!1===M&&g.preventDefault(),M}}function M_(n=1){return function vl(n){return(_n.lFrame.contextLView=function Ta(n,r){for(;n>0;)r=r[_i],n--;return r}(n,_n.lFrame.contextLView))[mr]}(n)}function sm(n,r){return n<<17|r<<2}function Ic(n){return n>>17&32767}function om(n){return 2|n}function hl(n){return(131068&n)>>2}function Ly(n,r){return-131069&n|r<<2}function Ch(n){return 1|n}function Vy(n,r,o,a,c){const d=n[o+1],g=null===r;let _=a?Ic(d):hl(d),M=!1;for(;0!==_&&(!1===M||g);){const W=n[_+1];L_(n[_],r)&&(M=!0,n[_+1]=a?Ch(W):om(W)),_=a?Ic(W):hl(W)}M&&(n[o+1]=a?om(d):Ch(d))}function L_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Ie(n,r)>=0}function jy(n,r){return function Qa(n,r,o,a){const c=lt(),d=sr(),g=function so(n){const r=_n.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}(2);d.firstUpdatePass&&function rp(n,r,o,a){const c=n.data;if(null===c[o+1]){const d=c[Oi()],g=function Hy(n,r){return r>=n.expandoStartIndex}(n,o);(function q_(n,r){return 0!=(n.flags&(r?8:16))})(d,a)&&null===r&&!g&&(r=!1),r=function G_(n,r,o,a){const c=function Ba(n){const r=_n.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(o=fl(o=am(null,n,r,o,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||n[g]!==c)if(o=am(c,n,r,o,a),null===d){let M=function Mw(n,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==hl(a))return n[Ic(a)]}(n,r,a);void 0!==M&&Array.isArray(M)&&(M=am(null,n,r,M[1],a),M=fl(M,r.attrs,a),function Gy(n,r,o,a){n[Ic(o?r.classBindings:r.styleBindings)]=a}(n,r,a,M))}else d=function zy(n,r,o){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=fl(a,n[d].hostAttrs,o);return fl(a,r.attrs,o)}(n,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),o}(c,d,r,a),function k_(n,r,o,a,c,d){let g=d?r.classBindings:r.styleBindings,_=Ic(g),M=hl(g);n[a]=o;let W,F=!1;if(Array.isArray(o)?(W=o[1],(null===W||Ie(o,W)>0)&&(F=!0)):W=o,c)if(0!==M){const ve=Ic(n[_+1]);n[a+1]=sm(ve,_),0!==ve&&(n[ve+1]=Ly(n[ve+1],a)),n[_+1]=function Iw(n,r){return 131071&n|r<<17}(n[_+1],a)}else n[a+1]=sm(_,0),0!==_&&(n[_+1]=Ly(n[_+1],a)),_=a;else n[a+1]=sm(M,0),0===_?_=a:n[M+1]=Ly(n[M+1],a),M=a;F&&(n[a+1]=om(n[a+1])),Vy(n,W,a,!0),Vy(n,W,a,!1),function F_(n,r,o,a,c){const d=c?n.residualClasses:n.residualStyles;null!=d&&"string"==typeof r&&Ie(d,r)>=0&&(o[a+1]=Ch(o[a+1]))}(r,W,n,a,d),g=sm(_,M),d?r.classBindings=g:r.styleBindings=g}(c,d,r,o,g,a)}}(d,n,g,a),r!==qn&&So(c,g,r)&&function Ky(n,r,o,a,c,d,g,_){if(!(3&r.type))return;const M=n.data,F=M[_+1],W=function Dh(n){return 1==(1&n)}(F)?cm(M,r,o,c,hl(F),g):void 0;ip(W)||(ip(d)||function P_(n){return 2==(2&n)}(F)&&(d=cm(M,null,o,c,_,g)),function bp(n,r,o,a,c){if(r)c?n.addClass(o,a):n.removeClass(o,a);else{let d=-1===a.indexOf("-")?void 0:Ka.DashCase;null==c?n.removeStyle(o,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Ka.Important),n.setStyle(o,a,c,d))}}(a,g,ir(Oi(),o),c,d))}(d,d.data[Oi()],c,c[cn],n,c[g+1]=function xw(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Ge(Pu(n)))),n}(r,o),a,g)}(n,r,null,!0),jy}function am(n,r,o,a,c){let d=null;const g=o.directiveEnd;let _=o.directiveStylingLast;for(-1===_?_=o.directiveStart:_++;_<g&&(d=r[_],a=fl(a,d.hostAttrs,c),d!==n);)_++;return null!==n&&(o.directiveStylingLast=_),a}function fl(n,r,o){const a=o?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Y(n,g,!!o||r[++d]))}return void 0===n?null:n}function cm(n,r,o,a,c,d){const g=null===r;let _;for(;c>0;){const M=n[c],F=Array.isArray(M),W=F?M[1]:M,re=null===W;let ve=o[c+1];ve===qn&&(ve=re?Nt:void 0);let xe=re?pe(ve,a):W===a?ve:void 0;if(F&&!ip(xe)&&(xe=pe(M,a)),ip(xe)&&(_=xe,g))return _;const it=n[c+1];c=g?Ic(it):hl(it)}if(null!==r){let M=d?r.residualClasses:r.residualStyles;null!=M&&(_=pe(M,a))}return _}function ip(n){return void 0!==n}function Zy(n,r=""){const o=lt(),a=sr(),c=n+On,d=a.firstCreatePass?vc(a,c,1,r,null):a.data[c],g=Th(a,o,d,r,n);o[c]=g,X()&&Nd(a,o,g,d),Us(d,!1)}let Th=(n,r,o,a,c)=>(_e(!0),function we(n,r){return n.createText(r)}(r[cn],a));function Qy(n){return fd("",n,""),Qy}function fd(n,r,o){const a=lt(),c=function fh(n,r,o,a){return So(n,io(),o)?r+me(o)+a:qn}(a,n,r,o);return c!==qn&&function Uu(n,r,o){const a=ir(r,n);!function He(n,r,o){n.setValue(r,o)}(n[cn],a,o)}(a,Oi(),c),fd}const pd=void 0;var zw=["en",[["a","p"],["AM","PM"],pd],[["AM","PM"],pd,pd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pd,"{1} 'at' {0}",pd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function l0(n){const o=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let bh={};function ov(n){const r=function f0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=h0(r);if(o)return o;const a=r.split("-")[0];if(o=h0(a),o)return o;if("en"===a)return zw;throw new ft(701,!1)}function d0(n){return ov(n)[Tn.PluralCase]}function h0(n){return n in bh||(bh[n]=Jn.ng&&Jn.ng.common&&Jn.ng.common.locales&&Jn.ng.common.locales[n]),bh[n]}var Tn=(()=>((Tn=Tn||{})[Tn.LocaleId=0]="LocaleId",Tn[Tn.DayPeriodsFormat=1]="DayPeriodsFormat",Tn[Tn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tn[Tn.DaysFormat=3]="DaysFormat",Tn[Tn.DaysStandalone=4]="DaysStandalone",Tn[Tn.MonthsFormat=5]="MonthsFormat",Tn[Tn.MonthsStandalone=6]="MonthsStandalone",Tn[Tn.Eras=7]="Eras",Tn[Tn.FirstDayOfWeek=8]="FirstDayOfWeek",Tn[Tn.WeekendRange=9]="WeekendRange",Tn[Tn.DateFormat=10]="DateFormat",Tn[Tn.TimeFormat=11]="TimeFormat",Tn[Tn.DateTimeFormat=12]="DateTimeFormat",Tn[Tn.NumberSymbols=13]="NumberSymbols",Tn[Tn.NumberFormats=14]="NumberFormats",Tn[Tn.CurrencyCode=15]="CurrencyCode",Tn[Tn.CurrencySymbol=16]="CurrencySymbol",Tn[Tn.CurrencyName=17]="CurrencyName",Tn[Tn.Currencies=18]="Currencies",Tn[Tn.Directionality=19]="Directionality",Tn[Tn.PluralCase=20]="PluralCase",Tn[Tn.ExtraData=21]="ExtraData",Tn))();const Sh="en-US";let p0=Sh;function D0(n,r,o,a,c){if(n=et(n),Array.isArray(n))for(let d=0;d<n.length;d++)D0(n[d],r,o,a,c);else{const d=sr(),g=lt();let _=Qc(n)?n:et(n.provide),M=Gd(n);const F=xn(),W=1048575&F.providerIndexes,re=F.directiveStart,ve=F.providerIndexes>>20;if(Qc(n)||!n.multi){const xe=new fs(M,c,yc),it=T0(_,r,c?W:W+ve,re);-1===it?(us(ra(F,g),d,_),C0(d,n,r.length),r.push(_),F.directiveStart++,F.directiveEnd++,c&&(F.providerIndexes+=1048576),o.push(xe),g.push(xe)):(o[it]=xe,g[it]=xe)}else{const xe=T0(_,r,W+ve,re),it=T0(_,r,W,W+ve),Lt=it>=0&&o[it];if(c&&!Lt||!c&&!(xe>=0&&o[xe])){us(ra(F,g),d,_);const dn=function MD(n,r,o,a,c){const d=new fs(n,o,yc);return d.multi=[],d.index=r,d.componentProviders=0,aE(d,c,a&&!o),d}(c?AD:SD,o.length,c,a,M);!c&&Lt&&(o[it].providerFactory=dn),C0(d,n,r.length,0),r.push(_),F.directiveStart++,F.directiveEnd++,c&&(F.providerIndexes+=1048576),o.push(dn),g.push(dn)}else C0(d,n,xe>-1?xe:it,aE(o[c?it:xe],M,!c&&a));!c&&a&&Lt&&o[it].componentProviders++}}}function C0(n,r,o,a){const c=Qc(r),d=function Hm(n){return!!n.useClass}(r);if(c||d){const M=(d?et(r.useClass):r).prototype.ngOnDestroy;if(M){const F=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const W=F.indexOf(o);-1===W?F.push(o,[a,M]):F[W+1].push(a,M)}else F.push(o,M)}}}function aE(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function T0(n,r,o,a){for(let c=o;c<a;c++)if(r[c]===n)return c;return-1}function SD(n,r,o,a){return b0(this.multi,[])}function AD(n,r,o,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,_=Aa(o,o[St],this.providerFactory.index,a);d=_.slice(0,g),b0(c,d);for(let M=g;M<_.length;M++)d.push(_[M])}else d=[],b0(c,d);return d}function b0(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function uE(n,r=[]){return o=>{o.providersResolver=(a,c)=>function bD(n,r,o){const a=sr();if(a.firstCreatePass){const c=as(n);D0(o,a.data,a.blueprint,c,!0),D0(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class op{}class cE{}function xD(n,r){return new S0(n,r??null,[])}class S0 extends op{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Uf(this);const c=Xr(r);this._bootstrapComponents=gu(c.bootstrap),this._r3Injector=Tf(r,o,[{provide:op,useValue:this},{provide:Xd,useValue:this.componentFactoryResolver},...a],Ge(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class A0 extends cE{constructor(r){super(),this.moduleType=r}create(r){return new S0(this.moduleType,r,[])}}class lE extends op{constructor(r){super(),this.componentFactoryResolver=new Uf(this),this.instance=null;const o=new Hp([...r.providers,{provide:op,useValue:this},{provide:Xd,useValue:this.componentFactoryResolver}],r.parent||uf(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function dE(n,r,o=null){return new lE({providers:n,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let ND=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const a=$m(0,o.type),c=a.length>0?dE([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Sn({token:n,providedIn:"environment",factory:()=>new n(Bt(Jc))}),n})();function hE(n){n.getStandaloneInjector=r=>r.get(ND).getOrCreateStandaloneInjector(n)}function x0(n){return r=>{setTimeout(n,void 0,r)}}const Dc=class iC extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let c=r,d=o||(()=>null),g=a;if(r&&"object"==typeof r){const M=r;c=M.next?.bind(M),d=M.error?.bind(M),g=M.complete?.bind(M)}this.__isAsync&&(d=x0(d),c&&(c=x0(c)),g&&(g=x0(g)));const _=super.subscribe({next:c,error:d,complete:g});return r instanceof ce.w0&&r.add(_),_}};function sC(){return this._results[Symbol.iterator]()}class R0{get changes(){return this._changes||(this._changes=new Dc)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=R0.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=sC)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const c=function Lo(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function ki(n,r,o){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],d=r[a];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(a._results,c,o))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gm=(()=>{class n{}return n.__NG_ELEMENT_ID__=uC,n})();const oC=gm,aC=class extends oC{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o,null)}createEmbeddedViewImpl(r,o,a){const c=this._declarationTContainer.tView,d=ed(this._declarationLView,c,r,16,null,c.declTNode,null,null,null,o||null,a||null);d[Mo]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[ei];return null!==_&&(d[ei]=_.createEmbeddedView(c)),ah(c,d,r),new rl(d)}};function uC(){return uv(xn(),lt())}function uv(n,r){return 4&n.type?new aC(r,n,Kl(n,r)):null}let cv=(()=>{class n{}return n.__NG_ELEMENT_ID__=gC,n})();function gC(){return ME(xn(),lt())}const mC=cv,SE=class extends mC{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return Kl(this._hostTNode,this._hostLView)}get injector(){return new Ko(this._hostTNode,this._hostLView)}get parentInjector(){const r=pa(this._hostTNode,this._hostLView);if(El(r)){const o=Xa(r,this._hostLView),a=Sc(r);return new Ko(o[St].data[a+8],o)}return new Ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=AE(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-Zr}createEmbeddedView(r,o,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const _=r.createEmbeddedViewImpl(o||{},d,null);return this.insertImpl(_,c,false),_}createComponent(r,o,a,c,d){const g=r&&!function su(n){return"function"==typeof n}(r);let _;if(g)_=o;else{const Et=o||{};_=Et.index,a=Et.injector,c=Et.projectableNodes,d=Et.environmentInjector||Et.ngModuleRef}const M=g?r:new rd(bn(r)),F=a||this.parentInjector;if(!d&&null==M.ngModule){const Lt=(g?F:this.parentInjector).get(Jc,null);Lt&&(d=Lt)}bn(M.componentType??{});const xe=M.create(F,c,null,d);return this.insertImpl(xe.hostView,_,false),xe}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const c=r._lView,d=c[St];if(function br(n){return Mr(n[tn])}(c)){const M=this.indexOf(r);if(-1!==M)this.detach(M);else{const F=c[tn],W=new SE(F,F[Br],F[tn]);W.detach(W.indexOf(r))}}const g=this._adjustIndex(o),_=this._lContainer;if(function fu(n,r,o,a){const c=Zr+a,d=o.length;a>0&&(o[c-1][bi]=r),a<d-Zr?(r[bi]=o[c],ma(o,Zr+a,r)):(o.push(r),r[bi]=null),r[tn]=o;const g=r[Mo];null!==g&&o!==g&&function jc(n,r){const o=n[vs];r[Dr]!==r[tn][tn][Dr]&&(n[Os]=!0),null===o?n[vs]=[r]:o.push(r)}(g,r);const _=r[ei];null!==_&&_.insertView(n),r[ln]|=128}(d,c,_,g),!a){const M=Wh(g,_),F=c[cn],W=Gh(F,_[Ri]);null!==W&&function ur(n,r,o,a,c,d){a[Ir]=c,a[Br]=r,Nu(n,a,o,1,c,d)}(d,_[Br],F,c,W,M)}return r.attachToViewContainerRef(),ma(O0(_),g,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=AE(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=Gc(this._lContainer,o);a&&(Ga(O0(this._lContainer),o),Nl(a[St],a))}detach(r){const o=this._adjustIndex(r,-1),a=Gc(this._lContainer,o);return a&&null!=Ga(O0(this._lContainer),o)?new rl(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function AE(n){return n[Ps]}function O0(n){return n[Ps]||(n[Ps]=[])}function ME(n,r){let o;const a=r[n.index];return Mr(a)?o=a:(o=hy(a,r,null,n),r[n.index]=o,Pf(r,o)),xE(o,r,n,a),new SE(o,n,r)}let xE=function RE(n,r,o,a){if(n[Ri])return;let c;c=8&o.type?Be(a):function yC(n,r){const o=n[cn],a=o.createComment(""),c=Dn(r,n);return xu(o,Gh(o,c),a,function Ts(n,r){return n.nextSibling(r)}(o,c),!1),a}(r,o),n[Ri]=c};class P0{constructor(r){this.queryList=r,this.matches=null}clone(){return new P0(this.queryList)}setDirty(){this.queryList.setDirty()}}class k0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,c=[];for(let d=0;d<a;d++){const g=o.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new k0(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==UE(r,o).matches&&this.queries[o].setDirty()}}class NE{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class F0{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==o?o.push(d):o=[d])}return null!==o?new F0(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class L0{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new L0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,o,wC(o,d)),this.matchTNodeWithReadOption(r,o,Ki(o,r,d,!1,!1))}else a===gm?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Ki(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===eh||c===cv||c===gm&&4&o.type)this.addMatch(o.index,-2);else{const d=Ki(o,r,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function wC(n,r){const o=n.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function IC(n,r,o,a){return-1===o?function EC(n,r){return 11&n.type?Kl(n,r):4&n.type?uv(n,r):null}(r,n):-2===o?function DC(n,r,o){return o===eh?Kl(r,n):o===gm?uv(r,n):o===cv?ME(r,n):void 0}(n,r,a):Aa(n,n[St],o,r)}function OE(n,r,o,a){const c=r[ei].queries[a];if(null===c.matches){const d=n.data,g=o.matches,_=[];for(let M=0;M<g.length;M+=2){const F=g[M];_.push(F<0?null:IC(r,d[F],g[M+1],o.metadata.read))}c.matches=_}return c.matches}function V0(n,r,o,a){const c=n.queries.getByIndex(o),d=c.matches;if(null!==d){const g=OE(n,r,c,o);for(let _=0;_<d.length;_+=2){const M=d[_];if(M>0)a.push(g[_/2]);else{const F=d[_+1],W=r[-M];for(let re=Zr;re<W.length;re++){const ve=W[re];ve[Mo]===ve[tn]&&V0(ve[St],ve,F,a)}if(null!==W[vs]){const re=W[vs];for(let ve=0;ve<re.length;ve++){const xe=re[ve];V0(xe[St],xe,F,a)}}}}}return a}function PE(n){const r=lt(),o=sr(),a=Ja();Es(a+1);const c=UE(o,a);if(n.dirty&&function jr(n){return 4==(4&n[ln])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const d=c.crossesNgTemplate?V0(o,r,a,[]):OE(o,r,c,a);n.reset(d,Ov),n.notifyOnChanges()}return!0}return!1}function kE(n,r,o,a){const c=sr();if(c.firstCreatePass){const d=xn();(function VE(n,r,o){null===n.queries&&(n.queries=new F0),n.queries.track(new L0(r,o))})(c,new NE(r,o,a),d.index),function bC(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}!function LE(n,r,o){const a=new R0(4==(4&o));(function qv(n,r,o,a){const c=kf(r);c.push(o),n.firstCreatePass&&Sg(n).push(a,c.length-1)})(n,r,a,a.destroy),null===r[ei]&&(r[ei]=new k0),r[ei].queries.push(new P0(a))}(c,lt(),o)}function FE(){return function TC(n,r){return n[ei].queries[r].queryList}(lt(),Ja())}function UE(n,r){return n.queries.getByIndex(r)}function BE(n,r){return uv(n,r)}function U0(n){return!!Xr(n)}const rI=new ai("Application Initializer");let G0=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=nn(rI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const c of this.appInits){const d=c();if(ep(d))o.push(d);else if(rm(d)){const g=new Promise((_,M)=>{d.subscribe({complete:_,error:M})});o.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(c=>{this.reject(c)}),0===o.length&&a(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const dv=new ai("LocaleId",{providedIn:"root",factory:()=>nn(dv,Dt.Optional|Dt.SkipSelf)||function WC(){return typeof $localize<"u"&&$localize.locale||Sh}()}),KC=new ai("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let sI=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new U.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ZC{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let YC=(()=>{class n{compileModuleSync(o){return new A0(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),d=gu(Xr(o).declarations).reduce((g,_)=>{const M=bn(_);return M&&g.push(new rd(M)),g},[]);return new ZC(a,d)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XC=(()=>Promise.resolve(0))();function z0(n){typeof Zone>"u"?XC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function uI(...n){}class va{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dc(!1),this.onMicrotaskEmpty=new Dc(!1),this.onStable=new Dc(!1),this.onError=new Dc(!1),typeof Zone>"u")throw new ft(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function eT(){let n=Jn.requestAnimationFrame,r=Jn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function rT(n){const r=()=>{!function nT(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Jn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,W0(n),n.isCheckStableRunning=!0,q0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),W0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,d,g,_)=>{try{return cI(n),o.invokeTask(c,d,g,_)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&r(),lI(n)}},onInvoke:(o,a,c,d,g,_,M)=>{try{return cI(n),o.invoke(c,d,g,_,M)}finally{n.shouldCoalesceRunChangeDetection&&r(),lI(n)}},onHasTask:(o,a,c,d)=>{o.hasTask(c,d),a===c&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,W0(n),q0(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,a,c,d)=>(o.handleError(c,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!va.isInAngularZone())throw new ft(909,!1)}static assertNotInAngularZone(){if(va.isInAngularZone())throw new ft(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,tT,uI,uI);try{return d.runTask(g,o,a)}finally{d.cancelTask(g)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const tT={};function q0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function W0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function cI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function lI(n){n._nesting--,q0(n)}class iT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dc,this.onMicrotaskEmpty=new Dc,this.onStable=new Dc,this.onError=new Dc}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,c){return r.apply(o,a)}}const dI=new ai("",{providedIn:"root",factory:hI});function hI(){const n=nn(va);let r=!0;return function ue(...n){const r=(0,ut.yG)(n),o=(0,ut._6)(n,1/0),a=n;return a.length?1===a.length?(0,ne.Xf)(a[0]):(0,fe.J)(o)((0,Fe.D)(a,r)):de.E}(new Me.y(c=>{r=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{c.next(r),c.complete()})}),new Me.y(c=>{let d;n.runOutsideAngular(()=>{d=n.onStable.subscribe(()=>{va.assertNotInAngularZone(),z0(()=>{!r&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=n.onUnstable.subscribe(()=>{va.assertInAngularZone(),r&&(r=!1,n.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}}).pipe(Ee()))}const fI=new ai(""),pI=new ai("");let K0,sT=(()=>{class n{constructor(o,a,c){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,K0||(function oT(n){K0=n}(c),c.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{va.assertNotInAngularZone(),z0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())z0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,c){return[]}}return n.\u0275fac=function(o){return new(o||n)(Bt(va),Bt(gI),Bt(pI))},n.\u0275prov=Sn({token:n,factory:n.\u0275fac}),n})(),gI=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return K0?.findTestabilityInTree(this,o,a)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),gd=null;const mI=new ai("AllowMultipleToken"),Z0=new ai("PlatformDestroyListeners"),Y0=new ai("appBootstrapListener");class cT{constructor(r,o){this.name=r,this.token=o}}function _I(n,r,o=[]){const a=`Platform: ${r}`,c=new ai(a);return(d=[])=>{let g=Q0();if(!g||g.injector.get(mI,!1)){const _=[...o,...d,{provide:c,useValue:!0}];n?n(_):function lT(n){if(gd&&!gd.get(mI,!1))throw new ft(400,!1);(function yI(){!function Ea(n){da=n}(()=>{throw new ft(600,!1)})})(),gd=n;const r=n.get(EI);(function vI(n){n.get(lf,null)?.forEach(o=>o())})(n)}(function wI(n=[],r){return mu.create({name:r,providers:[{provide:$p,useValue:"platform"},{provide:Z0,useValue:new Set([()=>gd=null])},...n]})}(_,a))}return function hT(n){const r=Q0();if(!r)throw new ft(401,!1);return r}()}}function Q0(){return gd?.get(EI)??null}let EI=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const c=function fT(n="zone.js",r){return"noop"===n?new iT:"zone.js"===n?new va(r):n}(a?.ngZone,function II(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function RD(n,r,o){return new S0(n,r,o)}(o.moduleType,this.injector,function SI(n){return[{provide:va,useFactory:n},{provide:Hd,multi:!0,useFactory:()=>{const r=nn(gT,{optional:!0});return()=>r.initialize()}},{provide:bI,useFactory:pT},{provide:dI,useFactory:hI}]}(()=>c)),g=d.injector.get(pc,null);return c.runOutsideAngular(()=>{const _=c.onError.subscribe({next:M=>{g.handleError(M)}});d.onDestroy(()=>{hv(this._modules,d),_.unsubscribe()})}),function DI(n,r,o){try{const a=o();return ep(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(g,c,()=>{const _=d.injector.get(G0);return _.runInitializers(),_.donePromise.then(()=>(function g0(n){Zn(n,"Expected localeId to be defined"),"string"==typeof n&&(p0=n.toLowerCase().replace(/_/g,"-"))}(d.injector.get(dv,Sh)||Sh),this._moduleDoBootstrap(d),d))})})}bootstrapModule(o,a=[]){const c=CI({},a);return function aT(n,r,o){const a=new A0(o);return Promise.resolve(a)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const a=o.injector.get(cp);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new ft(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ft(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(Z0,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Bt(mu))},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function CI(n,r){return Array.isArray(r)?r.reduce(CI,n):{...n,...r}}let cp=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nn(bI),this.zoneIsStable=nn(dI),this.componentTypes=[],this.components=[],this.isStable=nn(sI).hasPendingTasks.pipe((0,st.z)(o=>o?(0,oe.of)(!1):this.zoneIsStable),function Pn(n,r=ht.y){return n=n??Fn,(0,je.e)((o,a)=>{let c,d=!0;o.subscribe((0,Qt.x)(a,g=>{const _=r(g);(d||!n(c,_))&&(d=!1,c=_,a.next(g))}))})}(),Ee()),this._injector=nn(Jc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const c=o instanceof Ym;if(!this._injector.get(G0).done)throw!c&&ds(o),new ft(405,!1);let g;g=c?o:this._injector.get(Xd).resolveComponentFactory(o),this.componentTypes.push(g.componentType);const _=function uT(n){return n.isBoundToModule}(g)?void 0:this._injector.get(op),F=g.create(mu.NULL,[],a||g.selector,_),W=F.location.nativeElement,re=F.injector.get(fI,null);return re?.registerApplication(W),F.onDestroy(()=>{this.detachView(F.hostView),hv(this.components,F),re?.unregisterApplication(W)}),this._loadComponent(F),F}tick(){if(this._runningTick)throw new ft(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;hv(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(Y0,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>hv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ft(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hv(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}const bI=new ai("",{providedIn:"root",factory:()=>nn(pc).handleError.bind(void 0)});function pT(){const n=nn(va),r=nn(pc);return o=>n.runOutsideAngular(()=>r.handleError(o))}let gT=(()=>{class n{constructor(){this.zone=nn(va),this.applicationRef=nn(cp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();let yT=(()=>{class n{}return n.__NG_ELEMENT_ID__=vT,n})();function vT(n){return function _T(n,r,o){if(Cr(n)&&!o){const a=jn(n.index,r);return new rl(a,a)}return 47&n.type?new rl(r[Dr],r):null}(xn(),lt(),16==(16&n))}class RI{constructor(){}supports(r){return _c(r)}create(r){return new TT(r)}}const CT=(n,r)=>r;class TT{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||CT}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,c=0,d=null;for(;o||a;){const g=!a||o&&o.currentIndex<OI(a,c,d)?o:a,_=OI(g,c,d),M=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(o=o._next,null==g.previousIndex)c++;else{d||(d=[]);const F=_-c,W=M-c;if(F!=W){for(let ve=0;ve<F;ve++){const xe=ve<d.length?d[ve]:d[ve]=0,it=xe+ve;W<=it&&it<F&&(d[ve]=xe+1)}d[g.previousIndex]=W-F}}_!==M&&r(g,_,M)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!_c(r))throw new ft(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let _=0;_<this.length;_++)d=r[_],g=this._trackByFn(_,d),null!==o&&Object.is(o.trackById,g)?(a&&(o=this._verifyReinsertion(o,d,g,_)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,g,_),a=!0),o=o._next}else c=0,function bs(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,_=>{g=this._trackByFn(c,_),null!==o&&Object.is(o.trackById,g)?(a&&(o=this._verifyReinsertion(o,_,g,c)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,g,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,d,c)):r=this._addAfter(new bT(o,a),d,c),r}_verifyReinsertion(r,o,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const c=null===o?this._itHead:o._next;return r._next=c,r._prev=o,null===c?this._itTail=r:c._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new NI),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new NI),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class bT{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ST{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class NI{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new ST,this.map.set(o,a)),a.add(r)}get(r,o){const c=this.map.get(r);return c?c.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OI(n,r,o){const a=n.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+r+c}class PI{constructor(){}supports(r){return r instanceof Map||Js(r)}create(){return new AT}}class AT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Js(r)))throw new ft(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,o);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new MT(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class MT{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kI(){return new nw([new RI])}let nw=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const c=a.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||kI()),deps:[[n,new qa,new lo]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(null!=a)return a;throw new ft(901,!1)}}return n.\u0275prov=Sn({token:n,providedIn:"root",factory:kI}),n})();function FI(){return new rw([new PI])}let rw=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(a){const c=a.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||FI()),deps:[[n,new qa,new lo]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(a)return a;throw new ft(901,!1)}}return n.\u0275prov=Sn({token:n,providedIn:"root",factory:FI}),n})();const NT=_I(null,"core",[]);let OT=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Bt(cp))},n.\u0275mod=ls({type:n}),n.\u0275inj=Pt({}),n})();function jT(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function GT(n){const r=bn(n);if(!r)return null;const o=new rd(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone}}}},5030:(fn,at,ee)=>{ee.d(at,{Fj:()=>qe,qu:()=>vo,u:()=>mr,sg:()=>St,u5:()=>se,JJ:()=>Pt,JL:()=>Yt,F:()=>Ae,YN:()=>Xs,wV:()=>zs,UX:()=>be,EJ:()=>gs,kI:()=>et,_Y:()=>Xi,Kr:()=>Rs});var y=ee(1902),ce=ee(4755),U=ee(8996),Me=ee(9751),fe=ee(4742),ne=ee(8421),de=ee(7669),ut=ee(5403),Fe=ee(3268),ue=ee(1810),Re=ee(4004);let je=(()=>{class x{constructor(T,$){this._renderer=T,this._elementRef=$,this.onChange=De=>{},this.onTouched=()=>{}}setProperty(T,$){this._renderer.setProperty(this._elementRef.nativeElement,T,$)}registerOnTouched(T){this.onTouched=T}registerOnChange(T){this.onChange=T}setDisabledState(T){this.setProperty("disabled",T)}}return x.\u0275fac=function(T){return new(T||x)(y.Y36(y.Qsj),y.Y36(y.SBq))},x.\u0275dir=y.lG2({type:x}),x})(),Ee=(()=>{class x extends je{}return x.\u0275fac=function(){let R;return function($){return(R||(R=y.n5z(x)))($||x)}}(),x.\u0275dir=y.lG2({type:x,features:[y.qOj]}),x})();const It=new y.OlP("NgValueAccessor"),Qt={provide:It,useExisting:(0,y.Gpc)(()=>qe),multi:!0},Fn=new y.OlP("CompositionEventMode");let qe=(()=>{class x extends je{constructor(T,$,De){super(T,$),this._compositionMode=De,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pn(){const x=(0,ce.q)()?(0,ce.q)().getUserAgent():"";return/android (\d+)/.test(x.toLowerCase())}())}writeValue(T){this.setProperty("value",T??"")}_handleInput(T){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(T)}_compositionStart(){this._composing=!0}_compositionEnd(T){this._composing=!1,this._compositionMode&&this.onChange(T)}}return x.\u0275fac=function(T){return new(T||x)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Fn,8))},x.\u0275dir=y.lG2({type:x,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(T,$){1&T&&y.NdJ("input",function(pt){return $._handleInput(pt.target.value)})("blur",function(){return $.onTouched()})("compositionstart",function(){return $._compositionStart()})("compositionend",function(pt){return $._compositionEnd(pt.target.value)})},features:[y._Bn([Qt]),y.qOj]}),x})();function ot(x){return null==x||("string"==typeof x||Array.isArray(x))&&0===x.length}function Ge(x){return null!=x&&"number"==typeof x.length}const Je=new y.OlP("NgValidators"),_t=new y.OlP("NgAsyncValidators"),Xe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class et{static min(R){return function kt(x){return R=>{if(ot(R.value)||ot(x))return null;const T=parseFloat(R.value);return!isNaN(T)&&T<x?{min:{min:x,actual:R.value}}:null}}(R)}static max(R){return function Ln(x){return R=>{if(ot(R.value)||ot(x))return null;const T=parseFloat(R.value);return!isNaN(T)&&T>x?{max:{max:x,actual:R.value}}:null}}(R)}static required(R){return function yr(x){return ot(x.value)?{required:!0}:null}(R)}static requiredTrue(R){return function yt(x){return!0===x.value?null:{required:!0}}(R)}static email(R){return function ft(x){return ot(x.value)||Xe.test(x.value)?null:{email:!0}}(R)}static minLength(R){return function Ne(x){return R=>ot(R.value)||!Ge(R.value)?null:R.value.length<x?{minlength:{requiredLength:x,actualLength:R.value.length}}:null}(R)}static maxLength(R){return function me(x){return R=>Ge(R.value)&&R.value.length>x?{maxlength:{requiredLength:x,actualLength:R.value.length}}:null}(R)}static pattern(R){return function Oe(x){if(!x)return We;let R,T;return"string"==typeof x?(T="","^"!==x.charAt(0)&&(T+="^"),T+=x,"$"!==x.charAt(x.length-1)&&(T+="$"),R=new RegExp(T)):(T=x.toString(),R=x),$=>{if(ot($.value))return null;const De=$.value;return R.test(De)?null:{pattern:{requiredPattern:T,actualValue:De}}}}(R)}static nullValidator(R){return null}static compose(R){return Vt(R)}static composeAsync(R){return Ut(R)}}function We(x){return null}function vt(x){return null!=x}function ct(x){return(0,y.QGY)(x)?(0,U.D)(x):x}function Ce(x){let R={};return x.forEach(T=>{R=null!=T?{...R,...T}:R}),0===Object.keys(R).length?null:R}function rt(x,R){return R.map(T=>T(x))}function Le(x){return x.map(R=>function tt(x){return!x.validate}(R)?R:T=>R.validate(T))}function Vt(x){if(!x)return null;const R=x.filter(vt);return 0==R.length?null:function(T){return Ce(rt(T,R))}}function At(x){return null!=x?Vt(Le(x)):null}function Ut(x){if(!x)return null;const R=x.filter(vt);return 0==R.length?null:function(T){return function oe(...x){const R=(0,de.jO)(x),{args:T,keys:$}=(0,fe.D)(x),De=new Me.y(pt=>{const{length:yn}=T;if(!yn)return void pt.complete();const zn=new Array(yn);let rr=yn,er=yn;for(let Rr=0;Rr<yn;Rr++){let tr=!1;(0,ne.Xf)(T[Rr]).subscribe((0,ut.x)(pt,hs=>{tr||(tr=!0,er--),zn[Rr]=hs},()=>rr--,void 0,()=>{(!rr||!tr)&&(er||pt.next($?(0,ue.n)($,zn):zn),pt.complete())}))}});return R?De.pipe((0,Fe.Z)(R)):De}(rt(T,R).map(ct)).pipe((0,Re.U)(Ce))}}function mn(x){return null!=x?Ut(Le(x)):null}function pr(x,R){return null===x?[R]:Array.isArray(x)?[...x,R]:[x,R]}function vr(x){return x._rawValidators}function Hn(x){return x._rawAsyncValidators}function Wn(x){return x?Array.isArray(x)?x:[x]:[]}function gr(x,R){return Array.isArray(x)?x.includes(R):x===R}function _r(x,R){const T=Wn(R);return Wn(x).forEach(De=>{gr(T,De)||T.push(De)}),T}function Zn(x,R){return Wn(R).filter(T=>!gr(x,T))}class Rt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=At(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=mn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R=void 0){this.control&&this.control.reset(R)}hasError(R,T){return!!this.control&&this.control.hasError(R,T)}getError(R,T){return this.control?this.control.getError(R,T):null}}class In extends Rt{get formDirective(){return null}get path(){return null}}class Yr extends Rt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vr{constructor(R){this._cd=R}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pt=(()=>{class x extends Vr{constructor(T){super(T)}}return x.\u0275fac=function(T){return new(T||x)(y.Y36(Yr,2))},x.\u0275dir=y.lG2({type:x,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(T,$){2&T&&y.ekj("ng-untouched",$.isUntouched)("ng-touched",$.isTouched)("ng-pristine",$.isPristine)("ng-dirty",$.isDirty)("ng-valid",$.isValid)("ng-invalid",$.isInvalid)("ng-pending",$.isPending)},features:[y.qOj]}),x})(),Yt=(()=>{class x extends Vr{constructor(T){super(T)}}return x.\u0275fac=function(T){return new(T||x)(y.Y36(In,10))},x.\u0275dir=y.lG2({type:x,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(T,$){2&T&&y.ekj("ng-untouched",$.isUntouched)("ng-touched",$.isTouched)("ng-pristine",$.isPristine)("ng-dirty",$.isDirty)("ng-valid",$.isValid)("ng-invalid",$.isInvalid)("ng-pending",$.isPending)("ng-submitted",$.isSubmitted)},features:[y.qOj]}),x})();const Nr="VALID",An="INVALID",rn="PENDING",Bn="DISABLED";function he(x){return(te(x)?x.validators:x)||null}function q(x,R){return(te(R)?R.asyncValidators:x)||null}function te(x){return null!=x&&!Array.isArray(x)&&"object"==typeof x}function Te(x,R,T){const $=x.controls;if(!(R?Object.keys($):$).length)throw new y.vHH(1e3,"");if(!$[T])throw new y.vHH(1001,"")}function Qe(x,R,T){x._forEachChild(($,De)=>{if(void 0===T[De])throw new y.vHH(1002,"")})}class bt{constructor(R,T){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(R),this._assignAsyncValidators(T)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===Nr}get invalid(){return this.status===An}get pending(){return this.status==rn}get disabled(){return this.status===Bn}get enabled(){return this.status!==Bn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._assignValidators(R)}setAsyncValidators(R){this._assignAsyncValidators(R)}addValidators(R){this.setValidators(_r(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(_r(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(Zn(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(Zn(R,this._rawAsyncValidators))}hasValidator(R){return gr(this._rawValidators,R)}hasAsyncValidator(R){return gr(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(T=>{T.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(T=>{T.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=rn,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const T=this._parentMarkedDirty(R.onlySelf);this.status=Bn,this.errors=null,this._forEachChild($=>{$.disable({...R,onlySelf:!0})}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...R,skipPristineCheck:T}),this._onDisabledChange.forEach($=>$(!0))}enable(R={}){const T=this._parentMarkedDirty(R.onlySelf);this.status=Nr,this._forEachChild($=>{$.enable({...R,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors({...R,skipPristineCheck:T}),this._onDisabledChange.forEach($=>$(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}getRawValue(){return this.value}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nr||this.status===rn)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(T=>T._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bn:Nr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=rn,this._hasOwnPendingAsyncValidator=!0;const T=ct(this.asyncValidator(this));this._asyncValidationSubscription=T.subscribe($=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,T={}){this.errors=R,this._updateControlsErrors(!1!==T.emitEvent)}get(R){let T=R;return null==T||(Array.isArray(T)||(T=T.split(".")),0===T.length)?null:T.reduce(($,De)=>$&&$._find(De),this)}getError(R,T){const $=T?this.get(T):this;return $&&$.errors?$.errors[R]:null}hasError(R,T){return!!this.getError(R,T)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?Bn:this.errors?An:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rn)?rn:this._anyControlsHaveStatus(An)?An:Nr}_anyControlsHaveStatus(R){return this._anyControls(T=>T.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){te(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(R){return null}_assignValidators(R){this._rawValidators=Array.isArray(R)?R.slice():R,this._composedValidatorFn=function G(x){return Array.isArray(x)?At(x):x||null}(this._rawValidators)}_assignAsyncValidators(R){this._rawAsyncValidators=Array.isArray(R)?R.slice():R,this._composedAsyncValidatorFn=function K(x){return Array.isArray(x)?mn(x):x||null}(this._rawAsyncValidators)}}class Bt extends bt{constructor(R,T,$){super(he(T),q($,T)),this.controls=R,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,T){return this.controls[R]?this.controls[R]:(this.controls[R]=T,T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange),T)}addControl(R,T,$={}){this.registerControl(R,T),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}removeControl(R,T={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}setControl(R,T,$={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],T&&this.registerControl(R,T),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,T={}){Qe(this,0,R),Object.keys(R).forEach($=>{Te(this,!0,$),this.controls[$].setValue(R[$],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(R,T={}){null!=R&&(Object.keys(R).forEach($=>{const De=this.controls[$];De&&De.patchValue(R[$],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(R={},T={}){this._forEachChild(($,De)=>{$.reset(R[De],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this._reduceChildren({},(R,T,$)=>(R[$]=T.getRawValue(),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(T,$)=>!!$._syncPendingControls()||T);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(T=>{const $=this.controls[T];$&&R($,T)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const[T,$]of Object.entries(this.controls))if(this.contains(T)&&R($))return!0;return!1}_reduceValue(){return this._reduceChildren({},(T,$,De)=>(($.enabled||this.disabled)&&(T[De]=$.value),T))}_reduceChildren(R,T){let $=R;return this._forEachChild((De,pt)=>{$=T($,De,pt)}),$}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(R){return this.controls.hasOwnProperty(R)?this.controls[R]:null}}class Jt extends Bt{}const lr=new y.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>di}),di="always";function Ve(x,R,T=di){Wt(x,R),R.valueAccessor.writeValue(x.value),(x.disabled||"always"===T)&&R.valueAccessor.setDisabledState?.(x.disabled),function pn(x,R){R.valueAccessor.registerOnChange(T=>{x._pendingValue=T,x._pendingChange=!0,x._pendingDirty=!0,"change"===x.updateOn&&Er(x,R)})}(x,R),function Qr(x,R){const T=($,De)=>{R.valueAccessor.writeValue($),De&&R.viewToModelUpdate($)};x.registerOnChange(T),R._registerOnDestroy(()=>{x._unregisterOnChange(T)})}(x,R),function Or(x,R){R.valueAccessor.registerOnTouched(()=>{x._pendingTouched=!0,"blur"===x.updateOn&&x._pendingChange&&Er(x,R),"submit"!==x.updateOn&&x.markAsTouched()})}(x,R),function $t(x,R){if(R.valueAccessor.setDisabledState){const T=$=>{R.valueAccessor.setDisabledState($)};x.registerOnDisabledChange(T),R._registerOnDestroy(()=>{x._unregisterOnDisabledChange(T)})}}(x,R)}function Se(x,R,T=!0){const $=()=>{};R.valueAccessor&&(R.valueAccessor.registerOnChange($),R.valueAccessor.registerOnTouched($)),Nt(x,R),x&&(R._invokeOnDestroyCallbacks(),x._registerOnCollectionChange(()=>{}))}function nt(x,R){x.forEach(T=>{T.registerOnValidatorChange&&T.registerOnValidatorChange(R)})}function Wt(x,R){const T=vr(x);null!==R.validator?x.setValidators(pr(T,R.validator)):"function"==typeof T&&x.setValidators([T]);const $=Hn(x);null!==R.asyncValidator?x.setAsyncValidators(pr($,R.asyncValidator)):"function"==typeof $&&x.setAsyncValidators([$]);const De=()=>x.updateValueAndValidity();nt(R._rawValidators,De),nt(R._rawAsyncValidators,De)}function Nt(x,R){let T=!1;if(null!==x){if(null!==R.validator){const De=vr(x);if(Array.isArray(De)&&De.length>0){const pt=De.filter(yn=>yn!==R.validator);pt.length!==De.length&&(T=!0,x.setValidators(pt))}}if(null!==R.asyncValidator){const De=Hn(x);if(Array.isArray(De)&&De.length>0){const pt=De.filter(yn=>yn!==R.asyncValidator);pt.length!==De.length&&(T=!0,x.setAsyncValidators(pt))}}}const $=()=>{};return nt(R._rawValidators,$),nt(R._rawAsyncValidators,$),T}function Er(x,R){x._pendingDirty&&x.markAsDirty(),x.setValue(x._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(x._pendingValue),x._pendingChange=!1}function Jr(x,R){Wt(x,R)}function Ji(x,R){x._syncPendingControls(),R.forEach(T=>{const $=T.control;"submit"===$.updateOn&&$._pendingChange&&(T.viewToModelUpdate($._pendingValue),$._pendingChange=!1)})}const ye={provide:In,useExisting:(0,y.Gpc)(()=>Ae)},ge=(()=>Promise.resolve())();let Ae=(()=>{class x extends In{constructor(T,$,De){super(),this.callSetDisabledState=De,this.submitted=!1,this._directives=new Set,this.ngSubmit=new y.vpe,this.form=new Bt({},At(T),mn($))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(T){ge.then(()=>{const $=this._findContainer(T.path);T.control=$.registerControl(T.name,T.control),Ve(T.control,T,this.callSetDisabledState),T.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(T)})}getControl(T){return this.form.get(T.path)}removeControl(T){ge.then(()=>{const $=this._findContainer(T.path);$&&$.removeControl(T.name),this._directives.delete(T)})}addFormGroup(T){ge.then(()=>{const $=this._findContainer(T.path),De=new Bt({});Jr(De,T),$.registerControl(T.name,De),De.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(T){ge.then(()=>{const $=this._findContainer(T.path);$&&$.removeControl(T.name)})}getFormGroup(T){return this.form.get(T.path)}updateModel(T,$){ge.then(()=>{this.form.get(T.path).setValue($)})}setValue(T){this.control.setValue(T)}onSubmit(T){return this.submitted=!0,Ji(this.form,this._directives),this.ngSubmit.emit(T),"dialog"===T?.target?.method}onReset(){this.resetForm()}resetForm(T=void 0){this.form.reset(T),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(T){return T.pop(),T.length?this.form.get(T):this.form}}return x.\u0275fac=function(T){return new(T||x)(y.Y36(Je,10),y.Y36(_t,10),y.Y36(lr,8))},x.\u0275dir=y.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(T,$){1&T&&y.NdJ("submit",function(pt){return $.onSubmit(pt)})("reset",function(){return $.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([ye]),y.qOj]}),x})();function Ye(x,R){const T=x.indexOf(R);T>-1&&x.splice(T,1)}function wt(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}const Ht=class extends bt{constructor(R=null,T,$){super(he(T),q($,T)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(T),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),te(T)&&(T.nonNullable||T.initialValueIsDefault)&&(this.defaultValue=wt(R)?R.value:R)}setValue(R,T={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==T.emitModelToViewChange&&this._onChange.forEach($=>$(this.value,!1!==T.emitViewToModelChange)),this.updateValueAndValidity(T)}patchValue(R,T={}){this.setValue(R,T)}reset(R=this.defaultValue,T={}){this._applyFormState(R),this.markAsPristine(T),this.markAsUntouched(T),this.setValue(this.value,T),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){Ye(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){Ye(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){wt(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}};let Xi=(()=>{class x{}return x.\u0275fac=function(T){return new(T||x)},x.\u0275dir=y.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),x})();const Ao={provide:It,useExisting:(0,y.Gpc)(()=>zs),multi:!0};let zs=(()=>{class x extends Ee{writeValue(T){this.setProperty("value",T??"")}registerOnChange(T){this.onChange=$=>{T(""==$?null:parseFloat($))}}}return x.\u0275fac=function(){let R;return function($){return(R||(R=y.n5z(x)))($||x)}}(),x.\u0275dir=y.lG2({type:x,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(T,$){1&T&&y.NdJ("input",function(pt){return $.onChange(pt.target.value)})("blur",function(){return $.onTouched()})},features:[y._Bn([Ao]),y.qOj]}),x})(),fi=(()=>{class x{}return x.\u0275fac=function(T){return new(T||x)},x.\u0275mod=y.oAB({type:x}),x.\u0275inj=y.cJS({}),x})();const qs=new y.OlP("NgModelWithFormControlWarning"),Ir={provide:In,useExisting:(0,y.Gpc)(()=>St)};let St=(()=>{class x extends In{constructor(T,$,De){super(),this.callSetDisabledState=De,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.vpe,this._setValidators(T),this._setAsyncValidators($)}ngOnChanges(T){this._checkFormPresent(),T.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(T){const $=this.form.get(T.path);return Ve($,T,this.callSetDisabledState),$.updateValueAndValidity({emitEvent:!1}),this.directives.push(T),$}getControl(T){return this.form.get(T.path)}removeControl(T){Se(T.control||null,T,!1),function Vi(x,R){const T=x.indexOf(R);T>-1&&x.splice(T,1)}(this.directives,T)}addFormGroup(T){this._setUpFormContainer(T)}removeFormGroup(T){this._cleanUpFormContainer(T)}getFormGroup(T){return this.form.get(T.path)}addFormArray(T){this._setUpFormContainer(T)}removeFormArray(T){this._cleanUpFormContainer(T)}getFormArray(T){return this.form.get(T.path)}updateModel(T,$){this.form.get(T.path).setValue($)}onSubmit(T){return this.submitted=!0,Ji(this.form,this.directives),this.ngSubmit.emit(T),"dialog"===T?.target?.method}onReset(){this.resetForm()}resetForm(T=void 0){this.form.reset(T),this.submitted=!1}_updateDomValue(){this.directives.forEach(T=>{const $=T.control,De=this.form.get(T.path);$!==De&&(Se($||null,T),(x=>x instanceof Ht)(De)&&(Ve(De,T,this.callSetDisabledState),T.control=De))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(T){const $=this.form.get(T.path);Jr($,T),$.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(T){if(this.form){const $=this.form.get(T.path);$&&function ci(x,R){return Nt(x,R)}($,T)&&$.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Wt(this.form,this),this._oldForm&&Nt(this._oldForm,this)}_checkFormPresent(){}}return x.\u0275fac=function(T){return new(T||x)(y.Y36(Je,10),y.Y36(_t,10),y.Y36(lr,8))},x.\u0275dir=y.lG2({type:x,selectors:[["","formGroup",""]],hostBindings:function(T,$){1&T&&y.NdJ("submit",function(pt){return $.onSubmit(pt)})("reset",function(){return $.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([Ir]),y.qOj,y.TTD]}),x})();const Ms={provide:Yr,useExisting:(0,y.Gpc)(()=>mr)};let mr=(()=>{class x extends Yr{set isDisabled(T){}constructor(T,$,De,pt,yn){super(),this._ngModelWarningConfig=yn,this._added=!1,this.name=null,this.update=new y.vpe,this._ngModelWarningSent=!1,this._parent=T,this._setValidators($),this._setAsyncValidators(De),this.valueAccessor=function Li(x,R){if(!R)return null;let T,$,De;return Array.isArray(R),R.forEach(pt=>{pt.constructor===qe?T=pt:function Xn(x){return Object.getPrototypeOf(x.constructor)===Ee}(pt)?$=pt:De=pt}),De||$||T||null}(0,pt)}ngOnChanges(T){this._added||this._setUpControl(),function Qi(x,R){if(!x.hasOwnProperty("model"))return!1;const T=x.model;return!!T.isFirstChange()||!Object.is(R,T.currentValue)}(T,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(T){this.viewModel=T,this.update.emit(T)}get path(){return function ji(x,R){return[...R.path,x]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return x._ngModelWarningSentOnce=!1,x.\u0275fac=function(T){return new(T||x)(y.Y36(In,13),y.Y36(Je,10),y.Y36(_t,10),y.Y36(It,10),y.Y36(qs,8))},x.\u0275dir=y.lG2({type:x,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y._Bn([Ms]),y.qOj,y.TTD]}),x})();const xs={provide:It,useExisting:(0,y.Gpc)(()=>gs),multi:!0};function Gi(x,R){return null==x?`${R}`:(R&&"object"==typeof R&&(R="Object"),`${x}: ${R}`.slice(0,50))}let gs=(()=>{class x extends Ee{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(T){this._compareWith=T}writeValue(T){this.value=T;const De=Gi(this._getOptionId(T),T);this.setProperty("value",De)}registerOnChange(T){this.onChange=$=>{this.value=this._getOptionValue($),T(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(T){for(const $ of this._optionMap.keys())if(this._compareWith(this._optionMap.get($),T))return $;return null}_getOptionValue(T){const $=function cn(x){return x.split(":")[0]}(T);return this._optionMap.has($)?this._optionMap.get($):T}}return x.\u0275fac=function(){let R;return function($){return(R||(R=y.n5z(x)))($||x)}}(),x.\u0275dir=y.lG2({type:x,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(T,$){1&T&&y.NdJ("change",function(pt){return $.onChange(pt.target.value)})("blur",function(){return $.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([xs]),y.qOj]}),x})(),Xs=(()=>{class x{constructor(T,$,De){this._element=T,this._renderer=$,this._select=De,this._select&&(this.id=this._select._registerOption())}set ngValue(T){null!=this._select&&(this._select._optionMap.set(this.id,T),this._setElementValue(Gi(this.id,T)),this._select.writeValue(this._select.value))}set value(T){this._setElementValue(T),this._select&&this._select.writeValue(this._select.value)}_setElementValue(T){this._renderer.setProperty(this._element.nativeElement,"value",T)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return x.\u0275fac=function(T){return new(T||x)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(gs,9))},x.\u0275dir=y.lG2({type:x,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),x})();const _i={provide:It,useExisting:(0,y.Gpc)(()=>ei),multi:!0};function Dr(x,R){return null==x?`${R}`:("string"==typeof R&&(R=`'${R}'`),R&&"object"==typeof R&&(R="Object"),`${x}: ${R}`.slice(0,50))}let ei=(()=>{class x extends Ee{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(T){this._compareWith=T}writeValue(T){let $;if(this.value=T,Array.isArray(T)){const De=T.map(pt=>this._getOptionId(pt));$=(pt,yn)=>{pt._setSelected(De.indexOf(yn.toString())>-1)}}else $=(De,pt)=>{De._setSelected(!1)};this._optionMap.forEach($)}registerOnChange(T){this.onChange=$=>{const De=[],pt=$.selectedOptions;if(void 0!==pt){const yn=pt;for(let zn=0;zn<yn.length;zn++){const er=this._getOptionValue(yn[zn].value);De.push(er)}}else{const yn=$.options;for(let zn=0;zn<yn.length;zn++){const rr=yn[zn];if(rr.selected){const er=this._getOptionValue(rr.value);De.push(er)}}}this.value=De,T(De)}}_registerOption(T){const $=(this._idCounter++).toString();return this._optionMap.set($,T),$}_getOptionId(T){for(const $ of this._optionMap.keys())if(this._compareWith(this._optionMap.get($)._value,T))return $;return null}_getOptionValue(T){const $=function Mo(x){return x.split(":")[0]}(T);return this._optionMap.has($)?this._optionMap.get($)._value:T}}return x.\u0275fac=function(){let R;return function($){return(R||(R=y.n5z(x)))($||x)}}(),x.\u0275dir=y.lG2({type:x,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(T,$){1&T&&y.NdJ("change",function(pt){return $.onChange(pt.target)})("blur",function(){return $.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([_i]),y.qOj]}),x})(),Rs=(()=>{class x{constructor(T,$,De){this._element=T,this._renderer=$,this._select=De,this._select&&(this.id=this._select._registerOption(this))}set ngValue(T){null!=this._select&&(this._value=T,this._setElementValue(Dr(this.id,T)),this._select.writeValue(this._select.value))}set value(T){this._select?(this._value=T,this._setElementValue(Dr(this.id,T)),this._select.writeValue(this._select.value)):this._setElementValue(T)}_setElementValue(T){this._renderer.setProperty(this._element.nativeElement,"value",T)}_setSelected(T){this._renderer.setProperty(this._element.nativeElement,"selected",T)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return x.\u0275fac=function(T){return new(T||x)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(ei,9))},x.\u0275dir=y.lG2({type:x,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),x})(),yo=(()=>{class x{}return x.\u0275fac=function(T){return new(T||x)},x.\u0275mod=y.oAB({type:x}),x.\u0275inj=y.cJS({imports:[fi]}),x})();class to extends bt{constructor(R,T,$){super(he(T),q($,T)),this.controls=R,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(R){return this.controls[this._adjustIndex(R)]}push(R,T={}){this.controls.push(R),this._registerControl(R),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}insert(R,T,$={}){this.controls.splice(R,0,T),this._registerControl(T),this.updateValueAndValidity({emitEvent:$.emitEvent})}removeAt(R,T={}){let $=this._adjustIndex(R);$<0&&($=0),this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),this.controls.splice($,1),this.updateValueAndValidity({emitEvent:T.emitEvent})}setControl(R,T,$={}){let De=this._adjustIndex(R);De<0&&(De=0),this.controls[De]&&this.controls[De]._registerOnCollectionChange(()=>{}),this.controls.splice(De,1),T&&(this.controls.splice(De,0,T),this._registerControl(T)),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(R,T={}){Qe(this,0,R),R.forEach(($,De)=>{Te(this,!1,De),this.at(De).setValue($,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(R,T={}){null!=R&&(R.forEach(($,De)=>{this.at(De)&&this.at(De).patchValue($,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(R=[],T={}){this._forEachChild(($,De)=>{$.reset(R[De],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this.controls.map(R=>R.getRawValue())}clear(R={}){this.controls.length<1||(this._forEachChild(T=>T._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:R.emitEvent}))}_adjustIndex(R){return R<0?R+this.length:R}_syncPendingControls(){let R=this.controls.reduce((T,$)=>!!$._syncPendingControls()||T,!1);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){this.controls.forEach((T,$)=>{R(T,$)})}_updateValue(){this.value=this.controls.filter(R=>R.enabled||this.disabled).map(R=>R.value)}_anyControls(R){return this.controls.some(T=>T.enabled&&R(T))}_setUpControls(){this._forEachChild(R=>this._registerControl(R))}_allControlsDisabled(){for(const R of this.controls)if(R.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(R){R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)}_find(R){return this.at(R)??null}}function Fs(x){return!!x&&(void 0!==x.asyncValidators||void 0!==x.validators||void 0!==x.updateOn)}let vo=(()=>{class x{constructor(){this.useNonNullable=!1}get nonNullable(){const T=new x;return T.useNonNullable=!0,T}group(T,$=null){const De=this._reduceControls(T);let pt={};return Fs($)?pt=$:null!==$&&(pt.validators=$.validator,pt.asyncValidators=$.asyncValidator),new Bt(De,pt)}record(T,$=null){const De=this._reduceControls(T);return new Jt(De,$)}control(T,$,De){let pt={};return this.useNonNullable?(Fs($)?pt=$:(pt.validators=$,pt.asyncValidators=De),new Ht(T,{...pt,nonNullable:!0})):new Ht(T,$,De)}array(T,$,De){const pt=T.map(yn=>this._createControl(yn));return new to(pt,$,De)}_reduceControls(T){const $={};return Object.keys(T).forEach(De=>{$[De]=this._createControl(T[De])}),$}_createControl(T){return T instanceof Ht||T instanceof bt?T:Array.isArray(T)?this.control(T[0],T.length>1?T[1]:null,T.length>2?T[2]:null):this.control(T)}}return x.\u0275fac=function(T){return new(T||x)},x.\u0275prov=y.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),se=(()=>{class x{static withConfig(T){return{ngModule:x,providers:[{provide:lr,useValue:T.callSetDisabledState??di}]}}}return x.\u0275fac=function(T){return new(T||x)},x.\u0275mod=y.oAB({type:x}),x.\u0275inj=y.cJS({imports:[yo]}),x})(),be=(()=>{class x{static withConfig(T){return{ngModule:x,providers:[{provide:qs,useValue:T.warnOnNgModelWithFormControl??"always"},{provide:lr,useValue:T.callSetDisabledState??di}]}}}return x.\u0275fac=function(T){return new(T||x)},x.\u0275mod=y.oAB({type:x}),x.\u0275inj=y.cJS({imports:[yo]}),x})()},6550:(fn,at,ee)=>{ee.d(at,{Dx:()=>Yr,b2:()=>gr,q6:()=>pr});var y=ee(1902),ce=ee(4755);class U extends ce.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Me extends U{static makeCurrent(){(0,ce.HT)(new Me)}onAndCancel(q,K,te){return q.addEventListener(K,te),()=>{q.removeEventListener(K,te)}}dispatchEvent(q,K){q.dispatchEvent(K)}remove(q){q.parentNode&&q.parentNode.removeChild(q)}createElement(q,K){return(K=K||this.getDefaultDocument()).createElement(q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(q){return q.nodeType===Node.ELEMENT_NODE}isShadowRoot(q){return q instanceof DocumentFragment}getGlobalEventTarget(q,K){return"window"===K?window:"document"===K?q:"body"===K?q.body:null}getBaseHref(q){const K=function ne(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==K?null:function ut(G){de=de||document.createElement("a"),de.setAttribute("href",G);const q=de.pathname;return"/"===q.charAt(0)?q:`/${q}`}(K)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(q){return(0,ce.Mx)(document.cookie,q)}}let de,fe=null,ue=(()=>{class G{build(){return new XMLHttpRequest}}return G.\u0275fac=function(K){return new(K||G)},G.\u0275prov=y.Yz7({token:G,factory:G.\u0275fac}),G})();const oe=new y.OlP("EventManagerPlugins");let Re=(()=>{class G{constructor(K,te){this._zone=te,this._eventNameToPlugin=new Map,K.forEach(Te=>{Te.manager=this}),this._plugins=K.slice().reverse()}addEventListener(K,te,Te){return this._findPluginFor(te).addEventListener(K,te,Te)}getZone(){return this._zone}_findPluginFor(K){let te=this._eventNameToPlugin.get(K);if(te)return te;if(te=this._plugins.find(Qe=>Qe.supports(K)),!te)throw new y.vHH(5101,!1);return this._eventNameToPlugin.set(K,te),te}}return G.\u0275fac=function(K){return new(K||G)(y.LFG(oe),y.LFG(y.R0b))},G.\u0275prov=y.Yz7({token:G,factory:G.\u0275fac}),G})();class je{constructor(q){this._doc=q}}const Ee="ng-app-id";let It=(()=>{class G{constructor(K,te,Te,Qe={}){this.doc=K,this.appId=te,this.nonce=Te,this.platformId=Qe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ce.PM)(Qe),this.resetHostNodes()}addStyles(K){for(const te of K)1===this.changeUsageCount(te,1)&&this.onStyleAdded(te)}removeStyles(K){for(const te of K)this.changeUsageCount(te,-1)<=0&&this.onStyleRemoved(te)}ngOnDestroy(){const K=this.styleNodesInDOM;K&&(K.forEach(te=>te.remove()),K.clear());for(const te of this.getAllStyles())this.onStyleRemoved(te);this.resetHostNodes()}addHost(K){this.hostNodes.add(K);for(const te of this.getAllStyles())this.addStyleToHost(K,te)}removeHost(K){this.hostNodes.delete(K)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(K){for(const te of this.hostNodes)this.addStyleToHost(te,K)}onStyleRemoved(K){const te=this.styleRef;te.get(K)?.elements?.forEach(Te=>Te.remove()),te.delete(K)}collectServerRenderedStyles(){const K=this.doc.head?.querySelectorAll(`style[${Ee}="${this.appId}"]`);if(K?.length){const te=new Map;return K.forEach(Te=>{null!=Te.textContent&&te.set(Te.textContent,Te)}),te}return null}changeUsageCount(K,te){const Te=this.styleRef;if(Te.has(K)){const Qe=Te.get(K);return Qe.usage+=te,Qe.usage}return Te.set(K,{usage:te,elements:[]}),te}getStyleElement(K,te){const Te=this.styleNodesInDOM,Qe=Te?.get(te);if(Qe?.parentNode===K)return Te.delete(te),Qe.removeAttribute(Ee),Qe;{const bt=this.doc.createElement("style");return this.nonce&&bt.setAttribute("nonce",this.nonce),bt.textContent=te,this.platformIsServer&&bt.setAttribute(Ee,this.appId),bt}}addStyleToHost(K,te){const Te=this.getStyleElement(K,te);K.appendChild(Te);const Qe=this.styleRef,bt=Qe.get(te)?.elements;bt?bt.push(Te):Qe.set(te,{elements:[Te],usage:1})}resetHostNodes(){const K=this.hostNodes;K.clear(),K.add(this.doc.head)}}return G.\u0275fac=function(K){return new(K||G)(y.LFG(ce.K0),y.LFG(y.AFp),y.LFG(y.Ojb,8),y.LFG(y.Lbi))},G.\u0275prov=y.Yz7({token:G,factory:G.\u0275fac}),G})();const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ht=/%COMP%/g,ot=new y.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function _t(G,q){return q.map(K=>K.replace(ht,G))}let Xe=(()=>{class G{constructor(K,te,Te,Qe,bt,Bt,un,nn=null){this.eventManager=K,this.sharedStylesHost=te,this.appId=Te,this.removeStylesOnCompDestory=Qe,this.doc=bt,this.platformId=Bt,this.ngZone=un,this.nonce=nn,this.rendererByCompId=new Map,this.platformIsServer=(0,ce.PM)(Bt),this.defaultRenderer=new et(K,bt,un,this.platformIsServer)}createRenderer(K,te){if(!K||!te)return this.defaultRenderer;this.platformIsServer&&te.encapsulation===y.ifc.ShadowDom&&(te={...te,encapsulation:y.ifc.Emulated});const Te=this.getOrCreateRenderer(K,te);return Te instanceof Ne?Te.applyToHost(K):Te instanceof ft&&Te.applyStyles(),Te}getOrCreateRenderer(K,te){const Te=this.rendererByCompId;let Qe=Te.get(te.id);if(!Qe){const bt=this.doc,Bt=this.ngZone,un=this.eventManager,nn=this.sharedStylesHost,Jt=this.removeStylesOnCompDestory,kn=this.platformIsServer;switch(te.encapsulation){case y.ifc.Emulated:Qe=new Ne(un,nn,te,this.appId,Jt,bt,Bt,kn);break;case y.ifc.ShadowDom:return new yt(un,nn,K,te,bt,Bt,this.nonce,kn);default:Qe=new ft(un,nn,te,Jt,bt,Bt,kn)}Qe.onDestroy=()=>Te.delete(te.id),Te.set(te.id,Qe)}return Qe}ngOnDestroy(){this.rendererByCompId.clear()}}return G.\u0275fac=function(K){return new(K||G)(y.LFG(Re),y.LFG(It),y.LFG(y.AFp),y.LFG(ot),y.LFG(ce.K0),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(y.Ojb))},G.\u0275prov=y.Yz7({token:G,factory:G.\u0275fac}),G})();class et{constructor(q,K,te,Te){this.eventManager=q,this.doc=K,this.ngZone=te,this.platformIsServer=Te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(q,K){return K?this.doc.createElementNS(st[K]||K,q):this.doc.createElement(q)}createComment(q){return this.doc.createComment(q)}createText(q){return this.doc.createTextNode(q)}appendChild(q,K){(yr(q)?q.content:q).appendChild(K)}insertBefore(q,K,te){q&&(yr(q)?q.content:q).insertBefore(K,te)}removeChild(q,K){q&&q.removeChild(K)}selectRootElement(q,K){let te="string"==typeof q?this.doc.querySelector(q):q;if(!te)throw new y.vHH(5104,!1);return K||(te.textContent=""),te}parentNode(q){return q.parentNode}nextSibling(q){return q.nextSibling}setAttribute(q,K,te,Te){if(Te){K=Te+":"+K;const Qe=st[Te];Qe?q.setAttributeNS(Qe,K,te):q.setAttribute(K,te)}else q.setAttribute(K,te)}removeAttribute(q,K,te){if(te){const Te=st[te];Te?q.removeAttributeNS(Te,K):q.removeAttribute(`${te}:${K}`)}else q.removeAttribute(K)}addClass(q,K){q.classList.add(K)}removeClass(q,K){q.classList.remove(K)}setStyle(q,K,te,Te){Te&(y.JOm.DashCase|y.JOm.Important)?q.style.setProperty(K,te,Te&y.JOm.Important?"important":""):q.style[K]=te}removeStyle(q,K,te){te&y.JOm.DashCase?q.style.removeProperty(K):q.style[K]=""}setProperty(q,K,te){q[K]=te}setValue(q,K){q.nodeValue=K}listen(q,K,te){if("string"==typeof q&&!(q=(0,ce.q)().getGlobalEventTarget(this.doc,q)))throw new Error(`Unsupported event target ${q} for event ${K}`);return this.eventManager.addEventListener(q,K,this.decoratePreventDefault(te))}decoratePreventDefault(q){return K=>{if("__ngUnwrap__"===K)return q;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>q(K)):q(K))&&K.preventDefault()}}}function yr(G){return"TEMPLATE"===G.tagName&&void 0!==G.content}class yt extends et{constructor(q,K,te,Te,Qe,bt,Bt,un){super(q,Qe,bt,un),this.sharedStylesHost=K,this.hostEl=te,this.shadowRoot=te.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const nn=_t(Te.id,Te.styles);for(const Jt of nn){const kn=document.createElement("style");Bt&&kn.setAttribute("nonce",Bt),kn.textContent=Jt,this.shadowRoot.appendChild(kn)}}nodeOrShadowRoot(q){return q===this.hostEl?this.shadowRoot:q}appendChild(q,K){return super.appendChild(this.nodeOrShadowRoot(q),K)}insertBefore(q,K,te){return super.insertBefore(this.nodeOrShadowRoot(q),K,te)}removeChild(q,K){return super.removeChild(this.nodeOrShadowRoot(q),K)}parentNode(q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(q)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ft extends et{constructor(q,K,te,Te,Qe,bt,Bt,un){super(q,Qe,bt,Bt),this.sharedStylesHost=K,this.removeStylesOnCompDestory=Te,this.rendererUsageCount=0,this.styles=un?_t(un,te.styles):te.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ne extends ft{constructor(q,K,te,Te,Qe,bt,Bt,un){const nn=Te+"-"+te.id;super(q,K,te,Qe,bt,Bt,un,nn),this.contentAttr=function Ge(G){return"_ngcontent-%COMP%".replace(ht,G)}(nn),this.hostAttr=function Je(G){return"_nghost-%COMP%".replace(ht,G)}(nn)}applyToHost(q){this.applyStyles(),this.setAttribute(q,this.hostAttr,"")}createElement(q,K){const te=super.createElement(q,K);return super.setAttribute(te,this.contentAttr,""),te}}let me=(()=>{class G extends je{constructor(K){super(K)}supports(K){return!0}addEventListener(K,te,Te){return K.addEventListener(te,Te,!1),()=>this.removeEventListener(K,te,Te)}removeEventListener(K,te,Te){return K.removeEventListener(te,Te)}}return G.\u0275fac=function(K){return new(K||G)(y.LFG(ce.K0))},G.\u0275prov=y.Yz7({token:G,factory:G.\u0275fac}),G})();const Oe=["alt","control","meta","shift"],We={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vt={alt:G=>G.altKey,control:G=>G.ctrlKey,meta:G=>G.metaKey,shift:G=>G.shiftKey};let ct=(()=>{class G extends je{constructor(K){super(K)}supports(K){return null!=G.parseEventName(K)}addEventListener(K,te,Te){const Qe=G.parseEventName(te),bt=G.eventCallback(Qe.fullKey,Te,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ce.q)().onAndCancel(K,Qe.domEventName,bt))}static parseEventName(K){const te=K.toLowerCase().split("."),Te=te.shift();if(0===te.length||"keydown"!==Te&&"keyup"!==Te)return null;const Qe=G._normalizeKey(te.pop());let bt="",Bt=te.indexOf("code");if(Bt>-1&&(te.splice(Bt,1),bt="code."),Oe.forEach(nn=>{const Jt=te.indexOf(nn);Jt>-1&&(te.splice(Jt,1),bt+=nn+".")}),bt+=Qe,0!=te.length||0===Qe.length)return null;const un={};return un.domEventName=Te,un.fullKey=bt,un}static matchEventFullKeyCode(K,te){let Te=We[K.key]||K.key,Qe="";return te.indexOf("code.")>-1&&(Te=K.code,Qe="code."),!(null==Te||!Te)&&(Te=Te.toLowerCase()," "===Te?Te="space":"."===Te&&(Te="dot"),Oe.forEach(bt=>{bt!==Te&&(0,vt[bt])(K)&&(Qe+=bt+".")}),Qe+=Te,Qe===te)}static eventCallback(K,te,Te){return Qe=>{G.matchEventFullKeyCode(Qe,K)&&Te.runGuarded(()=>te(Qe))}}static _normalizeKey(K){return"esc"===K?"escape":K}}return G.\u0275fac=function(K){return new(K||G)(y.LFG(ce.K0))},G.\u0275prov=y.Yz7({token:G,factory:G.\u0275fac}),G})();const pr=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:ce.bD},{provide:y.g9A,useValue:function Vt(){Me.makeCurrent()},multi:!0},{provide:ce.K0,useFactory:function Ut(){return(0,y.RDi)(document),document},deps:[]}]),vr=new y.OlP(""),Hn=[{provide:y.rWj,useClass:class Fe{addToWindow(q){y.dqk.getAngularTestability=(te,Te=!0)=>{const Qe=q.findTestabilityInTree(te,Te);if(null==Qe)throw new y.vHH(5103,!1);return Qe},y.dqk.getAllAngularTestabilities=()=>q.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>q.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(te=>{const Te=y.dqk.getAllAngularTestabilities();let Qe=Te.length,bt=!1;const Bt=function(un){bt=bt||un,Qe--,0==Qe&&te(bt)};Te.forEach(function(un){un.whenStable(Bt)})})}findTestabilityInTree(q,K,te){return null==K?null:q.getTestability(K)??(te?(0,ce.q)().isShadowRoot(K)?this.findTestabilityInTree(q,K.host,!0):this.findTestabilityInTree(q,K.parentElement,!0):null)}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],Wn=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function At(){return new y.qLn},deps:[]},{provide:oe,useClass:me,multi:!0,deps:[ce.K0,y.R0b,y.Lbi]},{provide:oe,useClass:ct,multi:!0,deps:[ce.K0]},Xe,It,Re,{provide:y.FYo,useExisting:Xe},{provide:ce.JF,useClass:ue,deps:[]},[]];let gr=(()=>{class G{constructor(K){}static withServerTransition(K){return{ngModule:G,providers:[{provide:y.AFp,useValue:K.appId}]}}}return G.\u0275fac=function(K){return new(K||G)(y.LFG(vr,12))},G.\u0275mod=y.oAB({type:G}),G.\u0275inj=y.cJS({providers:[...Wn,...Hn],imports:[ce.ez,y.hGG]}),G})(),Yr=(()=>{class G{constructor(K){this._doc=K}getTitle(){return this._doc.title}setTitle(K){this._doc.title=K||""}}return G.\u0275fac=function(K){return new(K||G)(y.LFG(ce.K0))},G.\u0275prov=y.Yz7({token:G,factory:function(K){let te=null;return te=K?new K:function In(){return new Yr((0,y.LFG)(ce.K0))}(),te},providedIn:"root"}),G})();typeof window<"u"&&window},6795:(fn,at,ee)=>{ee.d(at,{gz:()=>tn,F0:()=>Ct,rH:()=>dt,Bz:()=>Es,lC:()=>gs});var y=ee(1902),ce=ee(9751),U=ee(576),fe=ee(8996),ne=ee(9646),de=ee(1135),ut=ee(4742),Fe=ee(4671),ue=ee(3268),oe=ee(7669),Re=ee(1810),je=ee(5403),Ee=ee(9672);function It(...v){const I=(0,oe.yG)(v),m=(0,oe.jO)(v),{args:b,keys:k}=(0,ut.D)(v);if(0===b.length)return(0,fe.D)([],I);const Z=new ce.y(function st(v,I,m=Fe.y){return b=>{ht(I,()=>{const{length:k}=v,Z=new Array(k);let X=k,_e=k;for(let Ke=0;Ke<k;Ke++)ht(I,()=>{const Zt=(0,fe.D)(v[Ke],I);let Gt=!1;Zt.subscribe((0,je.x)(b,Cn=>{Z[Ke]=Cn,Gt||(Gt=!0,_e--),_e||b.next(m(Z.slice()))},()=>{--X||b.complete()}))},b)},b)}}(b,I,k?X=>(0,Re.n)(k,X):Fe.y));return m?Z.pipe((0,ue.Z)(m)):Z}function ht(v,I,m){v?(0,Ee.f)(m,v,I):I()}const Pn=(0,ee(3888).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});var Fn=ee(8189);function ot(...v){return function qe(){return(0,Fn.J)(1)}()((0,fe.D)(v,(0,oe.yG)(v)))}var Ge=ee(8421);function Je(v){return new ce.y(I=>{(0,Ge.Xf)(v()).subscribe(I)})}var _t=ee(9635);function Xe(v,I){const m=(0,U.m)(v)?v:()=>v,b=k=>k.error(m());return new ce.y(I?k=>I.schedule(b,0,k):b)}var et=ee(515),kt=ee(727),Ln=ee(4482);function yr(){return(0,Ln.e)((v,I)=>{let m=null;v._refCount++;const b=(0,je.x)(I,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(m=null);const k=v._connection,Z=m;m=null,k&&(!Z||k===Z)&&k.unsubscribe(),I.unsubscribe()});v.subscribe(b),b.closed||(m=v.connect())})}class yt extends ce.y{constructor(I,m){super(),this.source=I,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,Ln.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new kt.w0;const m=this.getSubject();I.add(this.source.subscribe((0,je.x)(m,void 0,()=>{this._teardown(),m.complete()},b=>{this._teardown(),m.error(b)},()=>this._teardown()))),I.closed&&(this._connection=null,I=kt.w0.EMPTY)}return I}refCount(){return yr()(this)}}var ft=ee(7579),Ne=ee(4755),me=ee(4004);function Oe(v,I){return(0,Ln.e)((m,b)=>{let k=null,Z=0,X=!1;const _e=()=>X&&!k&&b.complete();m.subscribe((0,je.x)(b,Ke=>{k?.unsubscribe();let Zt=0;const Gt=Z++;(0,Ge.Xf)(v(Ke,Gt)).subscribe(k=(0,je.x)(b,Cn=>b.next(I?I(Ke,Cn,Gt,Zt++):Cn),()=>{k=null,_e()}))},()=>{X=!0,_e()}))})}function We(v){return v<=0?()=>et.E:(0,Ln.e)((I,m)=>{let b=0;I.subscribe((0,je.x)(m,k=>{++b<=v&&(m.next(k),v<=b&&m.complete())}))})}function ct(v,I){return(0,Ln.e)((m,b)=>{let k=0;m.subscribe((0,je.x)(b,Z=>v.call(I,Z,k++)&&b.next(Z)))})}var Ce=ee(5577);function rt(v){return(0,Ln.e)((I,m)=>{let b=!1;I.subscribe((0,je.x)(m,k=>{b=!0,m.next(k)},()=>{b||m.next(v),m.complete()}))})}function tt(v=Le){return(0,Ln.e)((I,m)=>{let b=!1;I.subscribe((0,je.x)(m,k=>{b=!0,m.next(k)},()=>b?m.complete():m.error(v())))})}function Le(){return new Pn}function Vt(v,I){const m=arguments.length>=2;return b=>b.pipe(v?ct((k,Z)=>v(k,Z,b)):Fe.y,We(1),m?rt(I):tt(()=>new Pn))}function At(v,I){return(0,U.m)(I)?(0,Ce.z)(v,I,1):(0,Ce.z)(v,1)}var Ut=ee(8505);function mn(v){return(0,Ln.e)((I,m)=>{let Z,b=null,k=!1;b=I.subscribe((0,je.x)(m,void 0,void 0,X=>{Z=(0,Ge.Xf)(v(X,mn(v)(I))),b?(b.unsubscribe(),b=null,Z.subscribe(m)):k=!0})),k&&(b.unsubscribe(),b=null,Z.subscribe(m))})}function Hn(v){return v<=0?()=>et.E:(0,Ln.e)((I,m)=>{let b=[];I.subscribe((0,je.x)(m,k=>{b.push(k),v<b.length&&b.shift()},()=>{for(const k of b)m.next(k);m.complete()},void 0,()=>{b=null}))})}function _r(v){return(0,Ln.e)((I,m)=>{try{I.subscribe(m)}finally{m.add(v)}})}var Zn=ee(6550);const Rt="primary",In=Symbol("RouteTitle");class Yr{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const m=this.params[I];return Array.isArray(m)?m[0]:m}return null}getAll(I){if(this.has(I)){const m=this.params[I];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Vr(v){return new Yr(v)}function Sn(v,I,m){const b=m.path.split("/");if(b.length>v.length||"full"===m.pathMatch&&(I.hasChildren()||b.length<v.length))return null;const k={};for(let Z=0;Z<b.length;Z++){const X=b[Z],_e=v[Z];if(X.startsWith(":"))k[X.substring(1)]=_e;else if(X!==_e.path)return null}return{consumed:v.slice(0,b.length),posParams:k}}function Pt(v,I){const m=v?Object.keys(v):void 0,b=I?Object.keys(I):void 0;if(!m||!b||m.length!=b.length)return!1;let k;for(let Z=0;Z<m.length;Z++)if(k=m[Z],!Yt(v[k],I[k]))return!1;return!0}function Yt(v,I){if(Array.isArray(v)&&Array.isArray(I)){if(v.length!==I.length)return!1;const m=[...v].sort(),b=[...I].sort();return m.every((k,Z)=>b[Z]===k)}return v===I}function Sr(v){return v.length>0?v[v.length-1]:null}function Yn(v){return function Me(v){return!!v&&(v instanceof ce.y||(0,U.m)(v.lift)&&(0,U.m)(v.subscribe))}(v)?v:(0,y.QGY)(v)?(0,fe.D)(Promise.resolve(v)):(0,ne.of)(v)}const qr={exact:function Un(v,I,m){if(!Kr(v.segments,I.segments)||!ui(v.segments,I.segments,m)||v.numberOfChildren!==I.numberOfChildren)return!1;for(const b in I.children)if(!v.children[b]||!Un(v.children[b],I.children[b],m))return!1;return!0},subset:Dt},Vn={exact:function Wr(v,I){return Pt(v,I)},subset:function $i(v,I){return Object.keys(I).length<=Object.keys(v).length&&Object.keys(I).every(m=>Yt(v[m],I[m]))},ignored:()=>!0};function Qn(v,I,m){return qr[m.paths](v.root,I.root,m.matrixParams)&&Vn[m.queryParams](v.queryParams,I.queryParams)&&!("exact"===m.fragment&&v.fragment!==I.fragment)}function Dt(v,I,m){return yi(v,I,I.segments,m)}function yi(v,I,m,b){if(v.segments.length>m.length){const k=v.segments.slice(0,m.length);return!(!Kr(k,m)||I.hasChildren()||!ui(k,m,b))}if(v.segments.length===m.length){if(!Kr(v.segments,m)||!ui(v.segments,m,b))return!1;for(const k in I.children)if(!v.children[k]||!Dt(v.children[k],I.children[k],b))return!1;return!0}{const k=m.slice(0,v.segments.length),Z=m.slice(v.segments.length);return!!(Kr(v.segments,k)&&ui(v.segments,k,b)&&v.children[Rt])&&yi(v.children[Rt],I,Z,b)}}function ui(v,I,m){return I.every((b,k)=>Vn[m](v[k].parameters,b.parameters))}class cr{constructor(I=new gn([],{}),m={},b=null){this.root=I,this.queryParams=m,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vr(this.queryParams)),this._queryParamMap}toString(){return rn.serialize(this)}}class gn{constructor(I,m){this.segments=I,this.children=m,this.parent=null,Object.values(m).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bn(this)}}class wr{constructor(I,m){this.path=I,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Vr(this.parameters)),this._parameterMap}toString(){return bt(this)}}function Kr(v,I){return v.length===I.length&&v.every((m,b)=>m.path===I[b].path)}let Nr=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=y.Yz7({token:v,factory:function(){return new An},providedIn:"root"}),v})();class An{parse(I){const m=new nt(I);return new cr(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(I){const m=`/${he(I.root,!0)}`,b=function un(v){const I=Object.keys(v).map(m=>{const b=v[m];return Array.isArray(b)?b.map(k=>`${q(m)}=${q(k)}`).join("&"):`${q(m)}=${q(b)}`}).filter(m=>!!m);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${m}${b}${"string"==typeof I.fragment?`#${function K(v){return encodeURI(v)}(I.fragment)}`:""}`}}const rn=new An;function Bn(v){return v.segments.map(I=>bt(I)).join("/")}function he(v,I){if(!v.hasChildren())return Bn(v);if(I){const m=v.children[Rt]?he(v.children[Rt],!1):"",b=[];return Object.entries(v.children).forEach(([k,Z])=>{k!==Rt&&b.push(`${k}:${he(Z,!1)}`)}),b.length>0?`${m}(${b.join("//")})`:m}{const m=function Di(v,I){let m=[];return Object.entries(v.children).forEach(([b,k])=>{b===Rt&&(m=m.concat(I(k,b)))}),Object.entries(v.children).forEach(([b,k])=>{b!==Rt&&(m=m.concat(I(k,b)))}),m}(v,(b,k)=>k===Rt?[he(v.children[Rt],!1)]:[`${k}:${he(b,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[Rt]?`${Bn(v)}/${m[0]}`:`${Bn(v)}/(${m.join("//")})`}}function G(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function q(v){return G(v).replace(/%3B/gi,";")}function te(v){return G(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Te(v){return decodeURIComponent(v)}function Qe(v){return Te(v.replace(/\+/g,"%20"))}function bt(v){return`${te(v.path)}${function Bt(v){return Object.keys(v).map(I=>`;${te(I)}=${te(v[I])}`).join("")}(v.parameters)}`}const nn=/^[^\/()?;#]+/;function Jt(v){const I=v.match(nn);return I?I[0]:""}const kn=/^[^\/()?;=#]+/,di=/^[^=?&#]+/,Ve=/^[^&#]+/;class nt{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gn([],{}):new gn([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(I.length>0||Object.keys(m).length>0)&&(b[Rt]=new gn(I,m)),b}parseSegment(){const I=Jt(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture(I),new wr(Te(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const m=function lr(v){const I=v.match(kn);return I?I[0]:""}(this.remaining);if(!m)return;this.capture(m);let b="";if(this.consumeOptional("=")){const k=Jt(this.remaining);k&&(b=k,this.capture(b))}I[Te(m)]=Te(b)}parseQueryParam(I){const m=function ji(v){const I=v.match(di);return I?I[0]:""}(this.remaining);if(!m)return;this.capture(m);let b="";if(this.consumeOptional("=")){const X=function Se(v){const I=v.match(Ve);return I?I[0]:""}(this.remaining);X&&(b=X,this.capture(b))}const k=Qe(m),Z=Qe(b);if(I.hasOwnProperty(k)){let X=I[k];Array.isArray(X)||(X=[X],I[k]=X),X.push(Z)}else I[k]=Z}parseParens(I){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Jt(this.remaining),k=this.remaining[b.length];if("/"!==k&&")"!==k&&";"!==k)throw new y.vHH(4010,!1);let Z;b.indexOf(":")>-1?(Z=b.slice(0,b.indexOf(":")),this.capture(Z),this.capture(":")):I&&(Z=Rt);const X=this.parseChildren();m[Z]=1===Object.keys(X).length?X[Rt]:new gn([],X),this.consumeOptional("//")}return m}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new y.vHH(4011,!1)}}function $t(v){return v.segments.length>0?new gn([],{[Rt]:v}):v}function Wt(v){const I={};for(const b of Object.keys(v.children)){const Z=Wt(v.children[b]);if(b===Rt&&0===Z.segments.length&&Z.hasChildren())for(const[X,_e]of Object.entries(Z.children))I[X]=_e;else(Z.segments.length>0||Z.hasChildren())&&(I[b]=Z)}return function Nt(v){if(1===v.numberOfChildren&&v.children[Rt]){const I=v.children[Rt];return new gn(v.segments.concat(I.segments),I.children)}return v}(new gn(v.segments,I))}function pn(v){return v instanceof cr}function Er(v){let I;const k=$t(function m(Z){const X={};for(const Ke of Z.children){const Zt=m(Ke);X[Ke.outlet]=Zt}const _e=new gn(Z.url,X);return Z===v&&(I=_e),_e}(v.root));return I??k}function Qr(v,I,m,b){let k=v;for(;k.parent;)k=k.parent;if(0===I.length)return Hi(k,k,k,m,b);const Z=function Gs(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Yi(!0,0,v);let I=0,m=!1;const b=v.reduce((k,Z,X)=>{if("object"==typeof Z&&null!=Z){if(Z.outlets){const _e={};return Object.entries(Z.outlets).forEach(([Ke,Zt])=>{_e[Ke]="string"==typeof Zt?Zt.split("/"):Zt}),[...k,{outlets:_e}]}if(Z.segmentPath)return[...k,Z.segmentPath]}return"string"!=typeof Z?[...k,Z]:0===X?(Z.split("/").forEach((_e,Ke)=>{0==Ke&&"."===_e||(0==Ke&&""===_e?m=!0:".."===_e?I++:""!=_e&&k.push(_e))}),k):[...k,Z]},[]);return new Yi(m,I,b)}(I);if(Z.toRoot())return Hi(k,k,new gn([],{}),m,b);const X=function Qi(v,I,m){if(v.isAbsolute)return new ps(I,!0,0);if(!m)return new ps(I,!1,NaN);if(null===m.parent)return new ps(m,!0,0);const b=Jr(v.commands[0])?0:1;return function Xn(v,I,m){let b=v,k=I,Z=m;for(;Z>k;){if(Z-=k,b=b.parent,!b)throw new y.vHH(4005,!1);k=b.segments.length}return new ps(b,!1,k-Z)}(m,m.segments.length-1+b,v.numberOfDoubleDots)}(Z,k,v),_e=X.processChildren?Vi(X.segmentGroup,X.index,Z.commands):Li(X.segmentGroup,X.index,Z.commands);return Hi(k,X.segmentGroup,_e,m,b)}function Jr(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function ci(v){return"object"==typeof v&&null!=v&&v.outlets}function Hi(v,I,m,b,k){let X,Z={};b&&Object.entries(b).forEach(([Ke,Zt])=>{Z[Ke]=Array.isArray(Zt)?Zt.map(Gt=>`${Gt}`):`${Zt}`}),X=v===I?m:is(v,I,m);const _e=$t(Wt(X));return new cr(_e,Z,k)}function is(v,I,m){const b={};return Object.entries(v.children).forEach(([k,Z])=>{b[k]=Z===I?m:is(Z,I,m)}),new gn(v.segments,b)}class Yi{constructor(I,m,b){if(this.isAbsolute=I,this.numberOfDoubleDots=m,this.commands=b,I&&b.length>0&&Jr(b[0]))throw new y.vHH(4003,!1);const k=b.find(ci);if(k&&k!==Sr(b))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ps{constructor(I,m,b){this.segmentGroup=I,this.processChildren=m,this.index=b}}function Li(v,I,m){if(v||(v=new gn([],{})),0===v.segments.length&&v.hasChildren())return Vi(v,I,m);const b=function Bo(v,I,m){let b=0,k=I;const Z={match:!1,pathIndex:0,commandIndex:0};for(;k<v.segments.length;){if(b>=m.length)return Z;const X=v.segments[k],_e=m[b];if(ci(_e))break;const Ke=`${_e}`,Zt=b<m.length-1?m[b+1]:null;if(k>0&&void 0===Ke)break;if(Ke&&Zt&&"object"==typeof Zt&&void 0===Zt.outlets){if(!Ye(Ke,Zt,X))return Z;b+=2}else{if(!Ye(Ke,{},X))return Z;b++}k++}return{match:!0,pathIndex:k,commandIndex:b}}(v,I,m),k=m.slice(b.commandIndex);if(b.match&&b.pathIndex<v.segments.length){const Z=new gn(v.segments.slice(0,b.pathIndex),{});return Z.children[Rt]=new gn(v.segments.slice(b.pathIndex),v.children),Vi(Z,0,k)}return b.match&&0===k.length?new gn(v.segments,{}):b.match&&!v.hasChildren()?ye(v,I,m):b.match?Vi(v,0,k):ye(v,I,m)}function Vi(v,I,m){if(0===m.length)return new gn(v.segments,{});{const b=function Ji(v){return ci(v[0])?v[0].outlets:{[Rt]:v}}(m),k={};if(!b[Rt]&&v.children[Rt]&&1===v.numberOfChildren&&0===v.children[Rt].segments.length){const Z=Vi(v.children[Rt],I,m);return new gn(v.segments,Z.children)}return Object.entries(b).forEach(([Z,X])=>{"string"==typeof X&&(X=[X]),null!==X&&(k[Z]=Li(v.children[Z],I,X))}),Object.entries(v.children).forEach(([Z,X])=>{void 0===b[Z]&&(k[Z]=X)}),new gn(v.segments,k)}}function ye(v,I,m){const b=v.segments.slice(0,I);let k=0;for(;k<m.length;){const Z=m[k];if(ci(Z)){const Ke=ge(Z.outlets);return new gn(b,Ke)}if(0===k&&Jr(m[0])){b.push(new wr(v.segments[I].path,Ae(m[0]))),k++;continue}const X=ci(Z)?Z.outlets[Rt]:`${Z}`,_e=k<m.length-1?m[k+1]:null;X&&_e&&Jr(_e)?(b.push(new wr(X,Ae(_e))),k+=2):(b.push(new wr(X,{})),k++)}return new gn(b,{})}function ge(v){const I={};return Object.entries(v).forEach(([m,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(I[m]=ye(new gn([],{}),0,b))}),I}function Ae(v){const I={};return Object.entries(v).forEach(([m,b])=>I[m]=`${b}`),I}function Ye(v,I,m){return v==m.path&&Pt(I,m.parameters)}const wt="imperative";class Ht{constructor(I,m){this.id=I,this.url=m}}class $n extends Ht{constructor(I,m,b="imperative",k=null){super(I,m),this.type=0,this.navigationTrigger=b,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wn extends Ht{constructor(I,m,b){super(I,m),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vn extends Ht{constructor(I,m,b,k){super(I,m),this.reason=b,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ss extends Ht{constructor(I,m,b,k){super(I,m),this.reason=b,this.code=k,this.type=16}}class vi extends Ht{constructor(I,m,b,k){super(I,m),this.error=b,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ci extends Ht{constructor(I,m,b,k){super(I,m),this.urlAfterRedirects=b,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi extends Ht{constructor(I,m,b,k){super(I,m),this.urlAfterRedirects=b,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class po extends Ht{constructor(I,m,b,k,Z){super(I,m),this.urlAfterRedirects=b,this.state=k,this.shouldActivate=Z,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $o extends Ht{constructor(I,m,b,k){super(I,m),this.urlAfterRedirects=b,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class go extends Ht{constructor(I,m,b,k){super(I,m),this.urlAfterRedirects=b,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ls{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mo{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xi{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ao{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zs{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bn{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ar{constructor(I,m,b){this.routerEvent=I,this.position=m,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ds{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xr,this.attachRef=null}}let Xr=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(m,b){const k=this.getOrCreateContext(m);k.outlet=b,this.contexts.set(m,k)}onChildOutletDestroyed(m){const b=this.getContext(m);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let b=this.getContext(m);return b||(b=new ds,this.contexts.set(m,b)),b}getContext(m){return this.contexts.get(m)||null}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class jo{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const m=this.pathFromRoot(I);return m.length>1?m[m.length-2]:null}children(I){const m=As(I,this._root);return m?m.children.map(b=>b.value):[]}firstChild(I){const m=As(I,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(I){const m=qs(I,this._root);return m.length<2?[]:m[m.length-2].children.map(k=>k.value).filter(k=>k!==I)}pathFromRoot(I){return qs(I,this._root).map(m=>m.value)}}function As(v,I){if(v===I.value)return I;for(const m of I.children){const b=As(v,m);if(b)return b}return null}function qs(v,I){if(v===I.value)return[I];for(const m of I.children){const b=qs(v,m);if(b.length)return b.unshift(I),b}return[]}class Ur{constructor(I,m){this.value=I,this.children=m}toString(){return`TreeNode(${this.value})`}}function Ti(v){const I={};return v&&v.children.forEach(m=>I[m.value.outlet]=m),I}class Ir extends jo{constructor(I,m){super(I),this.snapshot=m,mr(this,I)}toString(){return this.snapshot.toString()}}function St(v,I){const m=function ln(v,I){const X=new Br([],{},{},"",{},Rt,I,null,{});return new Ms("",new Ur(X,[]))}(0,I),b=new de.X([new wr("",{})]),k=new de.X({}),Z=new de.X({}),X=new de.X({}),_e=new de.X(""),Ke=new tn(b,k,X,_e,Z,Rt,I,m.root);return Ke.snapshot=m.root,new Ir(new Ur(Ke,[]),m)}class tn{constructor(I,m,b,k,Z,X,_e,Ke){this.urlSubject=I,this.paramsSubject=m,this.queryParamsSubject=b,this.fragmentSubject=k,this.dataSubject=Z,this.outlet=X,this.component=_e,this._futureSnapshot=Ke,this.title=this.dataSubject?.pipe((0,me.U)(Zt=>Zt[In]))??(0,ne.of)(void 0),this.url=I,this.params=m,this.queryParams=b,this.fragment=k,this.data=Z}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,me.U)(I=>Vr(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,me.U)(I=>Vr(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bi(v,I="emptyOnly"){const m=v.pathFromRoot;let b=0;if("always"!==I)for(b=m.length-1;b>=1;){const k=m[b],Z=m[b-1];if(k.routeConfig&&""===k.routeConfig.path)b--;else{if(Z.component)break;b--}}return function xi(v){return v.reduce((I,m)=>({params:{...I.params,...m.params},data:{...I.data,...m.data},resolve:{...m.data,...I.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(b))}class Br{get title(){return this.data?.[In]}constructor(I,m,b,k,Z,X,_e,Ke,Zt){this.url=I,this.params=m,this.queryParams=b,this.fragment=k,this.data=Z,this.outlet=X,this.component=_e,this.routeConfig=Ke,this._resolve=Zt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ms extends jo{constructor(I,m){super(m),this.url=I,mr(this,m)}toString(){return xs(this._root)}}function mr(v,I){I.value._routerState=v,I.children.forEach(m=>mr(v,m))}function xs(v){const I=v.children.length>0?` { ${v.children.map(xs).join(", ")} } `:"";return`${v.value}${I}`}function Gi(v){if(v.snapshot){const I=v.snapshot,m=v._futureSnapshot;v.snapshot=m,Pt(I.queryParams,m.queryParams)||v.queryParamsSubject.next(m.queryParams),I.fragment!==m.fragment&&v.fragmentSubject.next(m.fragment),Pt(I.params,m.params)||v.paramsSubject.next(m.params),function Gn(v,I){if(v.length!==I.length)return!1;for(let m=0;m<v.length;++m)if(!Pt(v[m],I[m]))return!1;return!0}(I.url,m.url)||v.urlSubject.next(m.url),Pt(I.data,m.data)||v.dataSubject.next(m.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function cn(v,I){const m=Pt(v.params,I.params)&&function Jn(v,I){return Kr(v,I)&&v.every((m,b)=>Pt(m.parameters,I[b].parameters))}(v.url,I.url);return m&&!(!v.parent!=!I.parent)&&(!v.parent||cn(v.parent,I.parent))}let gs=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=Rt,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(Xr),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb),this.inputBinder=(0,y.f3M)(_i,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:b,previousValue:k}=m.name;if(b)return;this.isTrackedInParentContexts(k)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(k)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,b){this.activated=m,this._activatedRoute=b,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,b){if(this.isActivated)throw new y.vHH(4013,!1);this._activatedRoute=m;const k=this.location,X=m.snapshot.component,_e=this.parentContexts.getOrCreateContext(this.name).children,Ke=new Xs(m,_e,k.injector);this.activated=k.createComponent(X,{index:k.length,injector:Ke,environmentInjector:b??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275dir=y.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),v})();class Xs{constructor(I,m,b){this.route=I,this.childContexts=m,this.parent=b}get(I,m){return I===tn?this.route:I===Xr?this.childContexts:this.parent.get(I,m)}}const _i=new y.OlP("");let Dr=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:b}=m,k=It([b.queryParams,b.params,b.data]).pipe(Oe(([Z,X,_e],Ke)=>(_e={...Z,...X,..._e},0===Ke?(0,ne.of)(_e):Promise.resolve(_e)))).subscribe(Z=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==b||null===b.component)return void this.unsubscribeFromRouteData(m);const X=(0,y.qFp)(b.component);if(X)for(const{templateName:_e}of X.inputs)m.activatedComponentRef.setInput(_e,Z[_e]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,k)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();function ms(v,I,m){if(m&&v.shouldReuseRoute(I.value,m.value.snapshot)){const b=m.value;b._futureSnapshot=I.value;const k=function ei(v,I,m){return I.children.map(b=>{for(const k of m.children)if(v.shouldReuseRoute(b.value,k.value.snapshot))return ms(v,b,k);return ms(v,b)})}(v,I,m);return new Ur(b,k)}{if(v.shouldAttach(I.value)){const Z=v.retrieve(I.value);if(null!==Z){const X=Z.route;return X.value._futureSnapshot=I.value,X.children=I.children.map(_e=>ms(v,_e)),X}}const b=function Rs(v){return new tn(new de.X(v.url),new de.X(v.params),new de.X(v.queryParams),new de.X(v.fragment),new de.X(v.data),v.outlet,v.component,v)}(I.value),k=I.children.map(Z=>ms(v,Z));return new Ur(b,k)}}const ys="ngNavigationCancelingError";function ti(v,I){const{redirectTo:m,navigationBehaviorOptions:b}=pn(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,k=Si(!1,0,I);return k.url=m,k.navigationBehaviorOptions=b,k}function Si(v,I,m){const b=new Error("NavigationCancelingError: "+(v||""));return b[ys]=!0,b.cancellationCode=I,m&&(b.url=m),b}function Ns(v){return os(v)&&pn(v.url)}function os(v){return v&&v[ys]}let On=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275cmp=y.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(m,b){1&m&&y._UZ(0,"router-outlet")},dependencies:[gs],encapsulation:2}),v})();function pi(v){const I=v.children&&v.children.map(pi),m=I?{...v,children:I}:{...v};return!m.component&&!m.loadComponent&&(I||m.loadChildren)&&m.outlet&&m.outlet!==Rt&&(m.component=On),m}function Mr(v){return v.outlet||Rt}function Cr(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let I=v.parent;I;I=I.parent){const m=I.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Pr{constructor(I,m,b,k,Z){this.routeReuseStrategy=I,this.futureState=m,this.currState=b,this.forwardEvent=k,this.inputBindingEnabled=Z}activate(I){const m=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,b,I),Gi(this.futureState.root),this.activateChildRoutes(m,b,I)}deactivateChildRoutes(I,m,b){const k=Ti(m);I.children.forEach(Z=>{const X=Z.value.outlet;this.deactivateRoutes(Z,k[X],b),delete k[X]}),Object.values(k).forEach(Z=>{this.deactivateRouteAndItsChildren(Z,b)})}deactivateRoutes(I,m,b){const k=I.value,Z=m?m.value:null;if(k===Z)if(k.component){const X=b.getContext(k.outlet);X&&this.deactivateChildRoutes(I,m,X.children)}else this.deactivateChildRoutes(I,m,b);else Z&&this.deactivateRouteAndItsChildren(m,b)}deactivateRouteAndItsChildren(I,m){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,m):this.deactivateRouteAndOutlet(I,m)}detachAndStoreRouteSubtree(I,m){const b=m.getContext(I.value.outlet),k=b&&I.value.component?b.children:m,Z=Ti(I);for(const X of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[X],k);if(b&&b.outlet){const X=b.outlet.detach(),_e=b.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:X,route:I,contexts:_e})}}deactivateRouteAndOutlet(I,m){const b=m.getContext(I.value.outlet),k=b&&I.value.component?b.children:m,Z=Ti(I);for(const X of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[X],k);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(I,m,b){const k=Ti(m);I.children.forEach(Z=>{this.activateRoutes(Z,k[Z.value.outlet],b),this.forwardEvent(new bn(Z.value.snapshot))}),I.children.length&&this.forwardEvent(new Ao(I.value.snapshot))}activateRoutes(I,m,b){const k=I.value,Z=m?m.value:null;if(Gi(k),k===Z)if(k.component){const X=b.getOrCreateContext(k.outlet);this.activateChildRoutes(I,m,X.children)}else this.activateChildRoutes(I,m,b);else if(k.component){const X=b.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const _e=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),X.children.onOutletReAttached(_e.contexts),X.attachRef=_e.componentRef,X.route=_e.route.value,X.outlet&&X.outlet.attach(_e.componentRef,_e.route.value),Gi(_e.route.value),this.activateChildRoutes(I,null,X.children)}else{const _e=Cr(k.snapshot);X.attachRef=null,X.route=k,X.injector=_e,X.outlet&&X.outlet.activateWith(k,X.injector),this.activateChildRoutes(I,null,X.children)}}else this.activateChildRoutes(I,null,b)}}class yo{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class to{constructor(I,m){this.component=I,this.route=m}}function Jo(v,I,m){const b=v._root;return vo(b,I?I._root:null,m,[b.value])}function Fs(v,I){const m=Symbol(),b=I.get(v,m);return b===m?"function"!=typeof v||(0,y.Z0I)(v)?I.get(v):v:b}function vo(v,I,m,b,k={canDeactivateChecks:[],canActivateChecks:[]}){const Z=Ti(I);return v.children.forEach(X=>{(function H(v,I,m,b,k={canDeactivateChecks:[],canActivateChecks:[]}){const Z=v.value,X=I?I.value:null,_e=m?m.getContext(v.value.outlet):null;if(X&&Z.routeConfig===X.routeConfig){const Ke=function B(v,I,m){if("function"==typeof m)return m(v,I);switch(m){case"pathParamsChange":return!Kr(v.url,I.url);case"pathParamsOrQueryParamsChange":return!Kr(v.url,I.url)||!Pt(v.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cn(v,I)||!Pt(v.queryParams,I.queryParams);default:return!cn(v,I)}}(X,Z,Z.routeConfig.runGuardsAndResolvers);Ke?k.canActivateChecks.push(new yo(b)):(Z.data=X.data,Z._resolvedData=X._resolvedData),vo(v,I,Z.component?_e?_e.children:null:m,b,k),Ke&&_e&&_e.outlet&&_e.outlet.isActivated&&k.canDeactivateChecks.push(new to(_e.outlet.component,X))}else X&&ie(I,_e,k),k.canActivateChecks.push(new yo(b)),vo(v,null,Z.component?_e?_e.children:null:m,b,k)})(X,Z[X.value.outlet],m,b.concat([X.value]),k),delete Z[X.value.outlet]}),Object.entries(Z).forEach(([X,_e])=>ie(_e,m.getContext(X),k)),k}function ie(v,I,m){const b=Ti(v),k=v.value;Object.entries(b).forEach(([Z,X])=>{ie(X,k.component?I?I.children.getContext(Z):null:I,m)}),m.canDeactivateChecks.push(new to(k.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,k))}function se(v){return"function"==typeof v}function zn(v){return v instanceof Pn||"EmptyError"===v?.name}const rr=Symbol("INITIAL_VALUE");function er(){return Oe(v=>It(v.map(I=>I.pipe(We(1),function vt(...v){const I=(0,oe.yG)(v);return(0,Ln.e)((m,b)=>{(I?ot(v,m,I):ot(v,m)).subscribe(b)})}(rr)))).pipe((0,me.U)(I=>{for(const m of I)if(!0!==m){if(m===rr)return rr;if(!1===m||m instanceof cr)return m}return!0}),ct(I=>I!==rr),We(1)))}function Ls(v){return(0,_t.z)((0,Ut.b)(I=>{if(pn(I))throw ti(0,I)}),(0,me.U)(I=>!0===I))}class _s{constructor(I){this.segmentGroup=I||null}}class Ei{constructor(I){this.urlTree=I}}function _o(v){return Xe(new _s(v))}function zi(v){return Xe(new Ei(v))}class Va{constructor(I,m){this.urlSerializer=I,this.urlTree=m}noMatchError(I){return new y.vHH(4002,!1)}lineralizeSegments(I,m){let b=[],k=m.root;for(;;){if(b=b.concat(k.segments),0===k.numberOfChildren)return(0,ne.of)(b);if(k.numberOfChildren>1||!k.children[Rt])return Xe(new y.vHH(4e3,!1));k=k.children[Rt]}}applyRedirectCommands(I,m,b){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),I,b)}applyRedirectCreateUrlTree(I,m,b,k){const Z=this.createSegmentGroup(I,m.root,b,k);return new cr(Z,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(I,m){const b={};return Object.entries(I).forEach(([k,Z])=>{if("string"==typeof Z&&Z.startsWith(":")){const _e=Z.substring(1);b[k]=m[_e]}else b[k]=Z}),b}createSegmentGroup(I,m,b,k){const Z=this.createSegments(I,m.segments,b,k);let X={};return Object.entries(m.children).forEach(([_e,Ke])=>{X[_e]=this.createSegmentGroup(I,Ke,b,k)}),new gn(Z,X)}createSegments(I,m,b,k){return m.map(Z=>Z.path.startsWith(":")?this.findPosParam(I,Z,k):this.findOrReturn(Z,b))}findPosParam(I,m,b){const k=b[m.path.substring(1)];if(!k)throw new y.vHH(4001,!1);return k}findOrReturn(I,m){let b=0;for(const k of m){if(k.path===I.path)return m.splice(b),k;b++}return I}}const wa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ho(v,I,m,b,k){const Z=da(v,I,m);return Z.matched?(b=function Qo(v,I){return v.providers&&!v._injector&&(v._injector=(0,y.MMx)(v.providers,I,`Route: ${v.path}`)),v._injector??I}(I,b),function Ni(v,I,m,b){const k=I.canMatch;if(!k||0===k.length)return(0,ne.of)(!0);const Z=k.map(X=>{const _e=Fs(X,v);return Yn(function De(v){return v&&se(v.canMatch)}(_e)?_e.canMatch(I,m):v.runInContext(()=>_e(I,m)))});return(0,ne.of)(Z).pipe(er(),Ls())}(b,I,m).pipe((0,me.U)(X=>!0===X?Z:{...wa}))):(0,ne.of)(Z)}function da(v,I,m){if(""===I.path)return"full"===I.pathMatch&&(v.hasChildren()||m.length>0)?{...wa}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const k=(I.matcher||Sn)(m,v,I);if(!k)return{...wa};const Z={};Object.entries(k.posParams??{}).forEach(([_e,Ke])=>{Z[_e]=Ke.path});const X=k.consumed.length>0?{...Z,...k.consumed[k.consumed.length-1].parameters}:Z;return{matched:!0,consumedSegments:k.consumed,remainingSegments:m.slice(k.consumed.length),parameters:X,positionalParamSegments:k.posParams??{}}}function qi(v,I,m,b){return m.length>0&&function Iu(v,I,m){return m.some(b=>ro(v,I,b)&&Mr(b)!==Rt)}(v,m,b)?{segmentGroup:new gn(I,nr(b,new gn(m,v.children))),slicedSegments:[]}:0===m.length&&function Ia(v,I,m){return m.some(b=>ro(v,I,b))}(v,m,b)?{segmentGroup:new gn(v.segments,Ea(v,0,m,b,v.children)),slicedSegments:m}:{segmentGroup:new gn(v.segments,v.children),slicedSegments:m}}function Ea(v,I,m,b,k){const Z={};for(const X of b)if(ro(v,m,X)&&!k[Mr(X)]){const _e=new gn([],{});Z[Mr(X)]=_e}return{...k,...Z}}function nr(v,I){const m={};m[Rt]=I;for(const b of v)if(""===b.path&&Mr(b)!==Rt){const k=new gn([],{});m[Mr(b)]=k}return m}function ro(v,I,m){return(!(v.hasChildren()||I.length>0)||"full"!==m.pathMatch)&&""===m.path}class Du{constructor(I,m,b,k,Z,X,_e){this.injector=I,this.configLoader=m,this.rootComponentType=b,this.config=k,this.urlTree=Z,this.paramsInheritanceStrategy=X,this.urlSerializer=_e,this.allowRedirects=!0,this.applyRedirects=new Va(this.urlSerializer,this.urlTree)}noMatchError(I){return new y.vHH(4002,!1)}recognize(){const I=qi(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,I,Rt).pipe(mn(m=>{if(m instanceof Ei)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof _s?this.noMatchError(m):m}),(0,me.U)(m=>{const b=new Br([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rt,this.rootComponentType,null,{}),k=new Ur(b,m),Z=new Ms("",k),X=function Or(v,I,m=null,b=null){return Qr(Er(v),I,m,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return X.queryParams=this.urlTree.queryParams,Z.url=this.urlSerializer.serialize(X),this.inheritParamsAndData(Z._root),{state:Z,tree:X}}))}match(I){return this.processSegmentGroup(this.injector,this.config,I.root,Rt).pipe(mn(b=>{throw b instanceof _s?this.noMatchError(b):b}))}inheritParamsAndData(I){const m=I.value,b=bi(m,this.paramsInheritanceStrategy);m.params=Object.freeze(b.params),m.data=Object.freeze(b.data),I.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(I,m,b,k){return 0===b.segments.length&&b.hasChildren()?this.processChildren(I,m,b):this.processSegment(I,m,b,b.segments,k,!0)}processChildren(I,m,b){const k=[];for(const Z of Object.keys(b.children))"primary"===Z?k.unshift(Z):k.push(Z);return(0,fe.D)(k).pipe(At(Z=>{const X=b.children[Z],_e=function eo(v,I){const m=v.filter(b=>Mr(b)===I);return m.push(...v.filter(b=>Mr(b)!==I)),m}(m,Z);return this.processSegmentGroup(I,_e,X,Z)}),function vr(v,I){return(0,Ln.e)(function pr(v,I,m,b,k){return(Z,X)=>{let _e=m,Ke=I,Zt=0;Z.subscribe((0,je.x)(X,Gt=>{const Cn=Zt++;Ke=_e?v(Ke,Gt,Cn):(_e=!0,Gt),b&&X.next(Ke)},k&&(()=>{_e&&X.next(Ke),X.complete()})))}}(v,I,arguments.length>=2,!0))}((Z,X)=>(Z.push(...X),Z)),rt(null),function Wn(v,I){const m=arguments.length>=2;return b=>b.pipe(v?ct((k,Z)=>v(k,Z,b)):Fe.y,Hn(1),m?rt(I):tt(()=>new Pn))}(),(0,Ce.z)(Z=>{if(null===Z)return _o(b);const X=ws(Z);return function Go(v){v.sort((I,m)=>I.value.outlet===Rt?-1:m.value.outlet===Rt?1:I.value.outlet.localeCompare(m.value.outlet))}(X),(0,ne.of)(X)}))}processSegment(I,m,b,k,Z,X){return(0,fe.D)(m).pipe(At(_e=>this.processSegmentAgainstRoute(_e._injector??I,m,_e,b,k,Z,X).pipe(mn(Ke=>{if(Ke instanceof _s)return(0,ne.of)(null);throw Ke}))),Vt(_e=>!!_e),mn(_e=>{if(zn(_e))return function Da(v,I,m){return 0===I.length&&!v.children[m]}(b,k,Z)?(0,ne.of)([]):_o(b);throw _e}))}processSegmentAgainstRoute(I,m,b,k,Z,X,_e){return function ha(v,I,m,b){return!!(Mr(v)===b||b!==Rt&&ro(I,m,v))&&("**"===v.path||da(I,v,m).matched)}(b,k,Z,X)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(I,k,b,Z,X,_e):_e&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,k,m,b,Z,X):_o(k):_o(k)}expandSegmentAgainstRouteUsingRedirect(I,m,b,k,Z,X){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,b,k,X):this.expandRegularSegmentAgainstRouteUsingRedirect(I,m,b,k,Z,X)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,m,b,k){const Z=this.applyRedirects.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?zi(Z):this.applyRedirects.lineralizeSegments(b,Z).pipe((0,Ce.z)(X=>{const _e=new gn(X,{});return this.processSegment(I,m,_e,X,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,m,b,k,Z,X){const{matched:_e,consumedSegments:Ke,remainingSegments:Zt,positionalParamSegments:Gt}=da(m,k,Z);if(!_e)return _o(m);const Cn=this.applyRedirects.applyRedirectCommands(Ke,k.redirectTo,Gt);return k.redirectTo.startsWith("/")?zi(Cn):this.applyRedirects.lineralizeSegments(k,Cn).pipe((0,Ce.z)(rs=>this.processSegment(I,b,m,rs.concat(Zt),X,!1)))}matchSegmentAgainstRoute(I,m,b,k,Z,X){let _e;if("**"===b.path){const Ke=k.length>0?Sr(k).parameters:{},Zt=new Br(k,Ke,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Io(b),Mr(b),b.component??b._loadedComponent??null,b,Do(b));_e=(0,ne.of)({snapshot:Zt,consumedSegments:[],remainingSegments:[]}),m.children={}}else _e=Ho(m,b,k,I).pipe((0,me.U)(({matched:Ke,consumedSegments:Zt,remainingSegments:Gt,parameters:Cn})=>Ke?{snapshot:new Br(Zt,Cn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Io(b),Mr(b),b.component??b._loadedComponent??null,b,Do(b)),consumedSegments:Zt,remainingSegments:Gt}:null));return _e.pipe(Oe(Ke=>null===Ke?_o(m):this.getChildConfig(I=b._injector??I,b,k).pipe(Oe(({routes:Zt})=>{const Gt=b._loadedInjector??I,{snapshot:Cn,consumedSegments:rs,remainingSegments:ta}=Ke,{segmentGroup:qo,slicedSegments:Wo}=qi(m,rs,ta,Zt);if(0===Wo.length&&qo.hasChildren())return this.processChildren(Gt,Zt,qo).pipe((0,me.U)(fs=>null===fs?null:[new Ur(Cn,fs)]));if(0===Zt.length&&0===Wo.length)return(0,ne.of)([new Ur(Cn,[])]);const Po=Mr(b)===Z;return this.processSegment(Gt,Zt,qo,Wo,Po?Rt:Z,!0).pipe((0,me.U)(fs=>[new Ur(Cn,fs)]))}))))}getChildConfig(I,m,b){return m.children?(0,ne.of)({routes:m.children,injector:I}):m.loadChildren?void 0!==m._loadedRoutes?(0,ne.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Xo(v,I,m,b){const k=I.canLoad;if(void 0===k||0===k.length)return(0,ne.of)(!0);const Z=k.map(X=>{const _e=Fs(X,v);return Yn(function x(v){return v&&se(v.canLoad)}(_e)?_e.canLoad(I,m):v.runInContext(()=>_e(I,m)))});return(0,ne.of)(Z).pipe(er(),Ls())}(I,m,b).pipe((0,Ce.z)(k=>k?this.configLoader.loadChildren(I,m).pipe((0,Ut.b)(Z=>{m._loadedRoutes=Z.routes,m._loadedInjector=Z.injector})):function Ui(v){return Xe(Si(!1,3))}())):(0,ne.of)({routes:[],injector:I})}}function Eo(v){const I=v.value.routeConfig;return I&&""===I.path}function ws(v){const I=[],m=new Set;for(const b of v){if(!Eo(b)){I.push(b);continue}const k=I.find(Z=>b.value.routeConfig===Z.value.routeConfig);void 0!==k?(k.children.push(...b.children),m.add(k)):I.push(b)}for(const b of m){const k=ws(b.children);I.push(new Ur(b.value,k))}return I.filter(b=>!m.has(b))}function Io(v){return v.data||{}}function Do(v){return v.resolve||{}}function Be(v){return"string"==typeof v.title||null===v.title}function Xt(v){return Oe(I=>{const m=v(I);return m?(0,fe.D)(m).pipe((0,me.U)(()=>I)):(0,ne.of)(I)})}const ir=new y.OlP("ROUTES");let Dn=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,ne.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const b=Yn(m.loadComponent()).pipe((0,me.U)(Mn),(0,Ut.b)(Z=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=Z}),_r(()=>{this.componentLoaders.delete(m)})),k=new yt(b,()=>new ft.x).pipe(yr());return this.componentLoaders.set(m,k),k}loadChildren(m,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,ne.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const Z=this.loadModuleFactoryOrRoutes(b.loadChildren).pipe((0,me.U)(_e=>{this.onLoadEndListener&&this.onLoadEndListener(b);let Ke,Zt;return Array.isArray(_e)?Zt=_e:(Ke=_e.create(m).injector,Zt=Ke.get(ir,[],y.XFs.Self|y.XFs.Optional).flat()),{routes:Zt.map(pi),injector:Ke}}),_r(()=>{this.childrenLoaders.delete(b)})),X=new yt(Z,()=>new ft.x).pipe(yr());return this.childrenLoaders.set(b,X),X}loadModuleFactoryOrRoutes(m){return Yn(m()).pipe((0,me.U)(Mn),(0,Ce.z)(b=>b instanceof y.YKP||Array.isArray(b)?(0,ne.of)(b):(0,fe.D)(this.compiler.compileModuleAsync(b))))}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Mn(v){return function dr(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let Tr=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ft.x,this.configLoader=(0,y.f3M)(Dn),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(Nr),this.rootContexts=(0,y.f3M)(Xr),this.inputBindingEnabled=null!==(0,y.f3M)(_i,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ne.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=k=>this.events.next(new mo(k)),this.configLoader.onLoadStartListener=k=>this.events.next(new ls(k))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const b=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:b})}setupNavigations(m){return this.transitions=new de.X({id:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wt,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ct(b=>0!==b.id),(0,me.U)(b=>({...b,extractedUrl:m.urlHandlingStrategy.extract(b.rawUrl)})),Oe(b=>{let k=!1,Z=!1;return(0,ne.of)(b).pipe((0,Ut.b)(X=>{this.currentNavigation={id:X.id,initialUrl:X.rawUrl,extractedUrl:X.extractedUrl,trigger:X.source,extras:X.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Oe(X=>{const _e=m.browserUrlTree.toString(),Ke=!m.navigated||X.extractedUrl.toString()!==_e||_e!==m.currentUrlTree.toString();if(!Ke&&"reload"!==(X.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Gt="";return this.events.next(new ss(X.id,m.serializeUrl(b.rawUrl),Gt,0)),m.rawUrlTree=X.rawUrl,X.resolve(null),et.E}if(m.urlHandlingStrategy.shouldProcessUrl(X.rawUrl))return jn(X.source)&&(m.browserUrlTree=X.extractedUrl),(0,ne.of)(X).pipe(Oe(Gt=>{const Cn=this.transitions?.getValue();return this.events.next(new $n(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),Gt.source,Gt.restoredState)),Cn!==this.transitions?.getValue()?et.E:Promise.resolve(Gt)}),function S(v,I,m,b,k,Z){return(0,Ce.z)(X=>function wo(v,I,m,b,k,Z,X="emptyOnly"){return new Du(v,I,m,b,k,X,Z).recognize()}(v,I,m,b,X.extractedUrl,k,Z).pipe((0,me.U)(({state:_e,tree:Ke})=>({...X,targetSnapshot:_e,urlAfterRedirects:Ke}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,Ut.b)(Gt=>{if(b.targetSnapshot=Gt.targetSnapshot,b.urlAfterRedirects=Gt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Gt.urlAfterRedirects},"eager"===m.urlUpdateStrategy){if(!Gt.extras.skipLocationChange){const rs=m.urlHandlingStrategy.merge(Gt.urlAfterRedirects,Gt.rawUrl);m.setBrowserUrl(rs,Gt)}m.browserUrlTree=Gt.urlAfterRedirects}const Cn=new Ci(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot);this.events.next(Cn)}));if(Ke&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:Gt,extractedUrl:Cn,source:rs,restoredState:ta,extras:qo}=X,Wo=new $n(Gt,this.urlSerializer.serialize(Cn),rs,ta);this.events.next(Wo);const Po=St(0,this.rootComponentType).snapshot;return b={...X,targetSnapshot:Po,urlAfterRedirects:Cn,extras:{...qo,skipLocationChange:!1,replaceUrl:!1}},(0,ne.of)(b)}{const Gt="";return this.events.next(new ss(X.id,m.serializeUrl(b.extractedUrl),Gt,1)),m.rawUrlTree=X.rawUrl,X.resolve(null),et.E}}),(0,Ut.b)(X=>{const _e=new hi(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(X.urlAfterRedirects),X.targetSnapshot);this.events.next(_e)}),(0,me.U)(X=>b={...X,guards:Jo(X.targetSnapshot,X.currentSnapshot,this.rootContexts)}),function Rr(v,I){return(0,Ce.z)(m=>{const{targetSnapshot:b,currentSnapshot:k,guards:{canActivateChecks:Z,canDeactivateChecks:X}}=m;return 0===X.length&&0===Z.length?(0,ne.of)({...m,guardsResult:!0}):function tr(v,I,m,b){return(0,fe.D)(v).pipe((0,Ce.z)(k=>function es(v,I,m,b,k){const Z=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!Z||0===Z.length)return(0,ne.of)(!0);const X=Z.map(_e=>{const Ke=Cr(I)??k,Zt=Fs(_e,Ke);return Yn(function $(v){return v&&se(v.canDeactivate)}(Zt)?Zt.canDeactivate(v,I,m,b):Ke.runInContext(()=>Zt(v,I,m,b))).pipe(Vt())});return(0,ne.of)(X).pipe(er())}(k.component,k.route,m,I,b)),Vt(k=>!0!==k,!0))}(X,b,k,v).pipe((0,Ce.z)(_e=>_e&&function be(v){return"boolean"==typeof v}(_e)?function hs(v,I,m,b){return(0,fe.D)(I).pipe(At(k=>ot(function wi(v,I){return null!==v&&I&&I(new Xi(v)),(0,ne.of)(!0)}(k.route.parent,b),function $r(v,I){return null!==v&&I&&I(new zs(v)),(0,ne.of)(!0)}(k.route,b),function no(v,I,m){const b=I[I.length-1],Z=I.slice(0,I.length-1).reverse().map(X=>function Ro(v){const I=v.routeConfig?v.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:v,guards:I}:null}(X)).filter(X=>null!==X).map(X=>Je(()=>{const _e=X.guards.map(Ke=>{const Zt=Cr(X.node)??m,Gt=Fs(Ke,Zt);return Yn(function T(v){return v&&se(v.canActivateChild)}(Gt)?Gt.canActivateChild(b,v):Zt.runInContext(()=>Gt(b,v))).pipe(Vt())});return(0,ne.of)(_e).pipe(er())}));return(0,ne.of)(Z).pipe(er())}(v,k.path,m),function ni(v,I,m){const b=I.routeConfig?I.routeConfig.canActivate:null;if(!b||0===b.length)return(0,ne.of)(!0);const k=b.map(Z=>Je(()=>{const X=Cr(I)??m,_e=Fs(Z,X);return Yn(function R(v){return v&&se(v.canActivate)}(_e)?_e.canActivate(I,v):X.runInContext(()=>_e(I,v))).pipe(Vt())}));return(0,ne.of)(k).pipe(er())}(v,k.route,m))),Vt(k=>!0!==k,!0))}(b,Z,v,I):(0,ne.of)(_e)),(0,me.U)(_e=>({...m,guardsResult:_e})))})}(this.environmentInjector,X=>this.events.next(X)),(0,Ut.b)(X=>{if(b.guardsResult=X.guardsResult,pn(X.guardsResult))throw ti(0,X.guardsResult);const _e=new po(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(X.urlAfterRedirects),X.targetSnapshot,!!X.guardsResult);this.events.next(_e)}),ct(X=>!!X.guardsResult||(m.restoreHistory(X),this.cancelNavigationTransition(X,"",3),!1)),Xt(X=>{if(X.guards.canActivateChecks.length)return(0,ne.of)(X).pipe((0,Ut.b)(_e=>{const Ke=new $o(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot);this.events.next(Ke)}),Oe(_e=>{let Ke=!1;return(0,ne.of)(_e).pipe(function V(v,I){return(0,Ce.z)(m=>{const{targetSnapshot:b,guards:{canActivateChecks:k}}=m;if(!k.length)return(0,ne.of)(m);let Z=0;return(0,fe.D)(k).pipe(At(X=>function N(v,I,m,b){const k=v.routeConfig,Z=v._resolve;return void 0!==k?.title&&!Be(k)&&(Z[In]=k.title),function z(v,I,m,b){const k=function ae(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===k.length)return(0,ne.of)({});const Z={};return(0,fe.D)(k).pipe((0,Ce.z)(X=>function Ue(v,I,m,b){const k=Cr(I)??b,Z=Fs(v,k);return Yn(Z.resolve?Z.resolve(I,m):k.runInContext(()=>Z(I,m)))}(v[X],I,m,b).pipe(Vt(),(0,Ut.b)(_e=>{Z[X]=_e}))),Hn(1),function gr(v){return(0,me.U)(()=>v)}(Z),mn(X=>zn(X)?et.E:Xe(X)))}(Z,v,I,b).pipe((0,me.U)(X=>(v._resolvedData=X,v.data=bi(v,m).resolve,k&&Be(k)&&(v.data[In]=k.title),null)))}(X.route,b,v,I)),(0,Ut.b)(()=>Z++),Hn(1),(0,Ce.z)(X=>Z===k.length?(0,ne.of)(m):et.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,Ut.b)({next:()=>Ke=!0,complete:()=>{Ke||(m.restoreHistory(_e),this.cancelNavigationTransition(_e,"",2))}}))}),(0,Ut.b)(_e=>{const Ke=new go(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot);this.events.next(Ke)}))}),Xt(X=>{const _e=Ke=>{const Zt=[];Ke.routeConfig?.loadComponent&&!Ke.routeConfig._loadedComponent&&Zt.push(this.configLoader.loadComponent(Ke.routeConfig).pipe((0,Ut.b)(Gt=>{Ke.component=Gt}),(0,me.U)(()=>{})));for(const Gt of Ke.children)Zt.push(..._e(Gt));return Zt};return It(_e(X.targetSnapshot.root)).pipe(rt(),We(1))}),Xt(()=>this.afterPreactivation()),(0,me.U)(X=>{const _e=function Mo(v,I,m){const b=ms(v,I._root,m?m._root:void 0);return new Ir(b,I)}(m.routeReuseStrategy,X.targetSnapshot,X.currentRouterState);return b={...X,targetRouterState:_e}}),(0,Ut.b)(X=>{m.currentUrlTree=X.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(X.urlAfterRedirects,X.rawUrl),m.routerState=X.targetRouterState,"deferred"===m.urlUpdateStrategy&&(X.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,X),m.browserUrlTree=X.urlAfterRedirects)}),((v,I,m,b)=>(0,me.U)(k=>(new Pr(I,k.targetRouterState,k.currentRouterState,m,b).activate(v),k)))(this.rootContexts,m.routeReuseStrategy,X=>this.events.next(X),this.inputBindingEnabled),We(1),(0,Ut.b)({next:X=>{k=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new wn(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(X.targetRouterState.snapshot),X.resolve(!0)},complete:()=>{k=!0}}),_r(()=>{k||Z||this.cancelNavigationTransition(b,"",1),this.currentNavigation?.id===b.id&&(this.currentNavigation=null)}),mn(X=>{if(Z=!0,os(X)){Ns(X)||(m.navigated=!0,m.restoreHistory(b,!0));const _e=new vn(b.id,this.urlSerializer.serialize(b.extractedUrl),X.message,X.cancellationCode);if(this.events.next(_e),Ns(X)){const Ke=m.urlHandlingStrategy.merge(X.url,m.rawUrlTree),Zt={skipLocationChange:b.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||jn(b.source)};m.scheduleNavigation(Ke,wt,null,Zt,{resolve:b.resolve,reject:b.reject,promise:b.promise})}else b.resolve(!1)}else{m.restoreHistory(b,!0);const _e=new vi(b.id,this.urlSerializer.serialize(b.extractedUrl),X,b.targetSnapshot??void 0);this.events.next(_e);try{b.resolve(m.errorHandler(X))}catch(Ke){b.reject(Ke)}}return et.E}))}))}cancelNavigationTransition(m,b,k){const Z=new vn(m.id,this.urlSerializer.serialize(m.extractedUrl),b,k);this.events.next(Z),m.resolve(!1)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function jn(v){return v!==wt}let jr=(()=>{class v{buildTitle(m){let b,k=m.root;for(;void 0!==k;)b=this.getResolvedTitleForRoute(k)??b,k=k.children.find(Z=>Z.outlet===Rt);return b}getResolvedTitleForRoute(m){return m.data[In]}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=y.Yz7({token:v,factory:function(){return(0,y.f3M)(Vs)},providedIn:"root"}),v})(),Vs=(()=>{class v extends jr{constructor(m){super(),this.title=m}updateTitle(m){const b=this.buildTitle(m);void 0!==b&&this.title.setTitle(b)}}return v.\u0275fac=function(m){return new(m||v)(y.LFG(Zn.Dx))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),br=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=y.Yz7({token:v,factory:function(){return(0,y.f3M)(li)},providedIn:"root"}),v})();class ri{shouldDetach(I){return!1}store(I,m){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,m){return I.routeConfig===m.routeConfig}}let li=(()=>{class v extends ri{}return v.\u0275fac=function(){let I;return function(b){return(I||(I=y.n5z(v)))(b||v)}}(),v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Ks=new y.OlP("",{providedIn:"root",factory:()=>({})});let zo=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=y.Yz7({token:v,factory:function(){return(0,y.f3M)(gt)},providedIn:"root"}),v})(),gt=(()=>{class v{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,b){return m}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();var hr=(()=>((hr=hr||{})[hr.COMPLETE=0]="COMPLETE",hr[hr.FAILED=1]="FAILED",hr[hr.REDIRECTING=2]="REDIRECTING",hr))();function Zs(v,I){v.events.pipe(ct(m=>m instanceof wn||m instanceof vn||m instanceof vi||m instanceof ss),(0,me.U)(m=>m instanceof wn||m instanceof ss?hr.COMPLETE:m instanceof vn&&(0===m.code||1===m.code)?hr.REDIRECTING:hr.FAILED),ct(m=>m!==hr.REDIRECTING),We(1)).subscribe(()=>{I()})}function _n(v){throw v}function zt(v,I,m){return I.parse("/")}const on={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ct=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(Ks,{optional:!0})||{},this.pendingTasks=(0,y.f3M)(y.HDt),this.errorHandler=this.options.errorHandler||_n,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(zo),this.routeReuseStrategy=(0,y.f3M)(br),this.titleStrategy=(0,y.f3M)(jr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,y.f3M)(ir,{optional:!0})?.flat()??[],this.navigationTransitions=(0,y.f3M)(Tr),this.urlSerializer=(0,y.f3M)(Nr),this.location=(0,y.f3M)(Ne.Ye),this.componentInputBindingEnabled=!!(0,y.f3M)(_i,{optional:!0}),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new cr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=St(0,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),wt,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const b="popstate"===m.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,b,m.state)},0)}))}navigateToSyncWithBrowser(m,b,k){const Z={replaceUrl:!0},X=k?.navigationId?k:null;if(k){const Ke={...k};delete Ke.navigationId,delete Ke.\u0275routerPageId,0!==Object.keys(Ke).length&&(Z.state=Ke)}const _e=this.parseUrl(m);this.scheduleNavigation(_e,b,X,Z)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(pi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,b={}){const{relativeTo:k,queryParams:Z,fragment:X,queryParamsHandling:_e,preserveFragment:Ke}=b,Zt=Ke?this.currentUrlTree.fragment:X;let Cn,Gt=null;switch(_e){case"merge":Gt={...this.currentUrlTree.queryParams,...Z};break;case"preserve":Gt=this.currentUrlTree.queryParams;break;default:Gt=Z||null}null!==Gt&&(Gt=this.removeEmptyProps(Gt));try{Cn=Er(k?k.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),Cn=this.currentUrlTree.root}return Qr(Cn,m,Gt,Zt??null)}navigateByUrl(m,b={skipLocationChange:!1}){const k=pn(m)?m:this.parseUrl(m),Z=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(Z,wt,null,b)}navigate(m,b={skipLocationChange:!1}){return function $e(v){for(let I=0;I<v.length;I++)if(null==v[I])throw new y.vHH(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,b),b)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let b;try{b=this.urlSerializer.parse(m)}catch(k){b=this.malformedUriErrorHandler(k,this.urlSerializer,m)}return b}isActive(m,b){let k;if(k=!0===b?{...on}:!1===b?{...gl}:b,pn(m))return Qn(this.currentUrlTree,m,k);const Z=this.parseUrl(m);return Qn(this.currentUrlTree,Z,k)}removeEmptyProps(m){return Object.keys(m).reduce((b,k)=>{const Z=m[k];return null!=Z&&(b[k]=Z),b},{})}scheduleNavigation(m,b,k,Z,X){if(this.disposed)return Promise.resolve(!1);let _e,Ke,Zt;X?(_e=X.resolve,Ke=X.reject,Zt=X.promise):Zt=new Promise((Cn,rs)=>{_e=Cn,Ke=rs});const Gt=this.pendingTasks.add();return Zs(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Gt))}),this.navigationTransitions.handleNavigationRequest({source:b,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:Z,resolve:_e,reject:Ke,promise:Zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Zt.catch(Cn=>Promise.reject(Cn))}setBrowserUrl(m,b){const k=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(k)||b.extras.replaceUrl){const X={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId)};this.location.replaceState(k,"",X)}else{const Z={...b.extras.state,...this.generateNgRouterState(b.id,(this.browserPageId??0)+1)};this.location.go(k,"",Z)}}restoreHistory(m,b=!1){if("computed"===this.canceledNavigationResolution){const Z=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Z?this.location.historyGo(Z):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Z&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,b){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:b}:{navigationId:m}}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),dt=(()=>{class v{constructor(m,b,k,Z,X,_e){this.router=m,this.route=b,this.tabIndexAttribute=k,this.renderer=Z,this.el=X,this.locationStrategy=_e,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ft.x;const Ke=X.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ke||"area"===Ke,this.isAnchorElement?this.subscription=m.events.subscribe(Zt=>{Zt instanceof wn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,y.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,y.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,y.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,b,k,Z,X){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||b||k||Z||X||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,y.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,b){const k=this.renderer,Z=this.el.nativeElement;null!==b?k.setAttribute(Z,m,b):k.removeAttribute(Z,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(m){return new(m||v)(y.Y36(Ct),y.Y36(tn),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Ne.S$))},v.\u0275dir=y.lG2({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,b){1&m&&y.NdJ("click",function(Z){return b.onClick(Z.button,Z.ctrlKey,Z.shiftKey,Z.altKey,Z.metaKey)}),2&m&&y.uIk("target",b.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),v})();class ml{}let Tc=(()=>{class v{constructor(m,b,k,Z,X){this.router=m,this.injector=k,this.preloadingStrategy=Z,this.loader=X}setUpPreloading(){this.subscription=this.router.events.pipe(ct(m=>m instanceof wn),At(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,b){const k=[];for(const Z of b){Z.providers&&!Z._injector&&(Z._injector=(0,y.MMx)(Z.providers,m,`Route: ${Z.path}`));const X=Z._injector??m,_e=Z._loadedInjector??X;(Z.loadChildren&&!Z._loadedRoutes&&void 0===Z.canLoad||Z.loadComponent&&!Z._loadedComponent)&&k.push(this.preloadConfig(X,Z)),(Z.children||Z._loadedRoutes)&&k.push(this.processRoutes(_e,Z.children??Z._loadedRoutes))}return(0,fe.D)(k).pipe((0,Fn.J)())}preloadConfig(m,b){return this.preloadingStrategy.preload(b,()=>{let k;k=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(m,b):(0,ne.of)(null);const Z=k.pipe((0,Ce.z)(X=>null===X?(0,ne.of)(void 0):(b._loadedRoutes=X.routes,b._loadedInjector=X.injector,this.processRoutes(X.injector??m,X.routes))));if(b.loadComponent&&!b._loadedComponent){const X=this.loader.loadComponent(b);return(0,fe.D)([Z,X]).pipe((0,Fn.J)())}return Z})}}return v.\u0275fac=function(m){return new(m||v)(y.LFG(Ct),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(ml),y.LFG(Dn))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const lt=new y.OlP("");let sr=(()=>{class v{constructor(m,b,k,Z,X={}){this.urlSerializer=m,this.transitions=b,this.viewportScroller=k,this.zone=Z,this.options=X,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},X.scrollPositionRestoration=X.scrollPositionRestoration||"disabled",X.anchorScrolling=X.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof $n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof wn?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof ss&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Ar&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,b){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ar(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return v.\u0275fac=function(m){y.$Z()},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();function xn(v,I){return{\u0275kind:v,\u0275providers:I}}function ii(){const v=(0,y.f3M)(y.zs3);return I=>{const m=v.get(y.z2F);if(I!==m.components[0])return;const b=v.get(Ct),k=v.get(an);1===v.get(fa)&&b.initialNavigation(),v.get(xt,null,y.XFs.Optional)?.setUpPreloading(),v.get(lt,null,y.XFs.Optional)?.init(),b.resetRootComponentType(m.componentTypes[0]),k.closed||(k.next(),k.complete(),k.unsubscribe())}}const an=new y.OlP("",{factory:()=>new ft.x}),fa=new y.OlP("",{providedIn:"root",factory:()=>1}),xt=new y.OlP("");function io(v){return xn(0,[{provide:xt,useExisting:Tc},{provide:ml,useExisting:v}])}const No=new y.OlP("ROUTER_FORROOT_GUARD"),Ba=[Ne.Ye,{provide:Nr,useClass:An},Ct,Xr,{provide:tn,useFactory:function zu(v){return v.routerState.root},deps:[Ct]},Dn,[]];function Ja(){return new y.PXZ("Router",Ct)}let Es=(()=>{class v{constructor(m){}static forRoot(m,b){return{ngModule:v,providers:[Ba,[],{provide:ir,multi:!0,useValue:m},{provide:No,useFactory:Co,deps:[[Ct,new y.FiY,new y.tp0]]},{provide:Ks,useValue:b||{}},b?.useHash?{provide:Ne.S$,useClass:Ne.Do}:{provide:Ne.S$,useClass:Ne.b0},{provide:lt,useFactory:()=>{const v=(0,y.f3M)(Ne.EM),I=(0,y.f3M)(y.R0b),m=(0,y.f3M)(Ks),b=(0,y.f3M)(Tr),k=(0,y.f3M)(Nr);return m.scrollOffset&&v.setOffset(m.scrollOffset),new sr(k,b,v,I,m)}},b?.preloadingStrategy?io(b.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:Ja},b?.initialNavigation?ja(b):[],b?.bindToComponentInputs?xn(8,[Dr,{provide:_i,useExisting:Dr}]).\u0275providers:[],[{provide:Pe,useFactory:ii},{provide:y.tb,multi:!0,useExisting:Pe}]]}}static forChild(m){return{ngModule:v,providers:[{provide:ir,multi:!0,useValue:m}]}}}return v.\u0275fac=function(m){return new(m||v)(y.LFG(No,8))},v.\u0275mod=y.oAB({type:v}),v.\u0275inj=y.cJS({}),v})();function Co(v){return"guarded"}function ja(v){return["disabled"===v.initialNavigation?xn(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const I=(0,y.f3M)(Ct);return()=>{I.setUpLocationChangeListener()}}},{provide:fa,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?xn(2,[{provide:fa,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:I=>{const m=I.get(Ne.V_,Promise.resolve());return()=>m.then(()=>new Promise(b=>{const k=I.get(Ct),Z=I.get(an);Zs(k,()=>{b(!0)}),I.get(Tr).afterPreactivation=()=>(b(!0),Z.closed?(0,ne.of)(void 0):Z),k.initialNavigation()}))}}]).\u0275providers:[]]}const Pe=new y.OlP("")},6881:(fn,at,ee)=>{ee.d(at,{Jn:()=>ui,qX:()=>Qn,Xd:()=>Vn,Mq:()=>gn,C6:()=>wr,ZF:()=>cr,KN:()=>Di});var y=ee(5861),ce=ee(4859),U=ee(1877),Me=ee(2090);const fe=(Ve,Se)=>Se.some(nt=>Ve instanceof nt);let ne,de;const ue=new WeakMap,oe=new WeakMap,Re=new WeakMap,je=new WeakMap,Ee=new WeakMap;let ht={get(Ve,Se,nt){if(Ve instanceof IDBTransaction){if("done"===Se)return oe.get(Ve);if("objectStoreNames"===Se)return Ve.objectStoreNames||Re.get(Ve);if("store"===Se)return nt.objectStoreNames[1]?void 0:nt.objectStore(nt.objectStoreNames[0])}return qe(Ve[Se])},set:(Ve,Se,nt)=>(Ve[Se]=nt,!0),has:(Ve,Se)=>Ve instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in Ve};function Fn(Ve){return"function"==typeof Ve?function Pn(Ve){return Ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fe(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ve)?function(...Se){return Ve.apply(ot(this),Se),qe(ue.get(this))}:function(...Se){return qe(Ve.apply(ot(this),Se))}:function(Se,...nt){const $t=Ve.call(ot(this),Se,...nt);return Re.set($t,Se.sort?Se.sort():[Se]),qe($t)}}(Ve):(Ve instanceof IDBTransaction&&function st(Ve){if(oe.has(Ve))return;const Se=new Promise((nt,$t)=>{const Wt=()=>{Ve.removeEventListener("complete",Nt),Ve.removeEventListener("error",pn),Ve.removeEventListener("abort",pn)},Nt=()=>{nt(),Wt()},pn=()=>{$t(Ve.error||new DOMException("AbortError","AbortError")),Wt()};Ve.addEventListener("complete",Nt),Ve.addEventListener("error",pn),Ve.addEventListener("abort",pn)});oe.set(Ve,Se)}(Ve),fe(Ve,function ut(){return ne||(ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ve,ht):Ve)}function qe(Ve){if(Ve instanceof IDBRequest)return function It(Ve){const Se=new Promise((nt,$t)=>{const Wt=()=>{Ve.removeEventListener("success",Nt),Ve.removeEventListener("error",pn)},Nt=()=>{nt(qe(Ve.result)),Wt()},pn=()=>{$t(Ve.error),Wt()};Ve.addEventListener("success",Nt),Ve.addEventListener("error",pn)});return Se.then(nt=>{nt instanceof IDBCursor&&ue.set(nt,Ve)}).catch(()=>{}),Ee.set(Se,Ve),Se}(Ve);if(je.has(Ve))return je.get(Ve);const Se=Fn(Ve);return Se!==Ve&&(je.set(Ve,Se),Ee.set(Se,Ve)),Se}const ot=Ve=>Ee.get(Ve),_t=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],et=new Map;function kt(Ve,Se){if(!(Ve instanceof IDBDatabase)||Se in Ve||"string"!=typeof Se)return;if(et.get(Se))return et.get(Se);const nt=Se.replace(/FromIndex$/,""),$t=Se!==nt,Wt=Xe.includes(nt);if(!(nt in($t?IDBIndex:IDBObjectStore).prototype)||!Wt&&!_t.includes(nt))return;const Nt=function(){var pn=(0,y.Z)(function*(Or,...Er){const Qr=this.transaction(Or,Wt?"readwrite":"readonly");let Jr=Qr.store;return $t&&(Jr=Jr.index(Er.shift())),(yield Promise.all([Jr[nt](...Er),Wt&&Qr.done]))[0]});return function(Er){return pn.apply(this,arguments)}}();return et.set(Se,Nt),Nt}!function Qt(Ve){ht=Ve(ht)}(Ve=>({...Ve,get:(Se,nt,$t)=>kt(Se,nt)||Ve.get(Se,nt,$t),has:(Se,nt)=>!!kt(Se,nt)||Ve.has(Se,nt)}));class Ln{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function yr(Ve){const Se=Ve.getComponent();return"VERSION"===Se?.type}(nt)){const $t=nt.getImmediate();return`${$t.library}/${$t.version}`}return null}).filter(nt=>nt).join(" ")}}const yt="@firebase/app",Ne=new U.Yd("@firebase/app"),Gn="[DEFAULT]",Pt={[yt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yt=new Map,Sr=new Map;function Yn(Ve,Se){try{Ve.container.addComponent(Se)}catch(nt){Ne.debug(`Component ${Se.name} failed to register with FirebaseApp ${Ve.name}`,nt)}}function Vn(Ve){const Se=Ve.name;if(Sr.has(Se))return Ne.debug(`There were multiple attempts to register component ${Se}.`),!1;Sr.set(Se,Ve);for(const nt of Yt.values())Yn(nt,Ve);return!0}function Qn(Ve,Se){const nt=Ve.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),Ve.container.getProvider(Se)}const Dt=new Me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yi{constructor(Se,nt,$t){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=$t,this.container.addComponent(new ce.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const ui="9.22.2";function cr(Ve,Se={}){let nt=Ve;"object"!=typeof Se&&(Se={name:Se});const $t=Object.assign({name:Gn,automaticDataCollectionEnabled:!1},Se),Wt=$t.name;if("string"!=typeof Wt||!Wt)throw Dt.create("bad-app-name",{appName:String(Wt)});if(nt||(nt=(0,Me.aH)()),!nt)throw Dt.create("no-options");const Nt=Yt.get(Wt);if(Nt){if((0,Me.vZ)(nt,Nt.options)&&(0,Me.vZ)($t,Nt.config))return Nt;throw Dt.create("duplicate-app",{appName:Wt})}const pn=new ce.H0(Wt);for(const Er of Sr.values())pn.addComponent(Er);const Or=new yi(nt,$t,pn);return Yt.set(Wt,Or),Or}function gn(Ve=Gn){const Se=Yt.get(Ve);if(!Se&&Ve===Gn&&(0,Me.aH)())return cr();if(!Se)throw Dt.create("no-app",{appName:Ve});return Se}function wr(){return Array.from(Yt.values())}function Di(Ve,Se,nt){var $t;let Wt=null!==($t=Pt[Ve])&&void 0!==$t?$t:Ve;nt&&(Wt+=`-${nt}`);const Nt=Wt.match(/\s|\//),pn=Se.match(/\s|\//);if(Nt||pn){const Or=[`Unable to register library "${Wt}" with version "${Se}":`];return Nt&&Or.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),Nt&&pn&&Or.push("and"),pn&&Or.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void Ne.warn(Or.join(" "))}Vn(new ce.wA(`${Wt}-version`,()=>({library:Wt,version:Se}),"VERSION"))}const rn="firebase-heartbeat-database",Bn=1,he="firebase-heartbeat-store";let G=null;function q(){return G||(G=function Ge(Ve,Se,{blocked:nt,upgrade:$t,blocking:Wt,terminated:Nt}={}){const pn=indexedDB.open(Ve,Se),Or=qe(pn);return $t&&pn.addEventListener("upgradeneeded",Er=>{$t(qe(pn.result),Er.oldVersion,Er.newVersion,qe(pn.transaction),Er)}),nt&&pn.addEventListener("blocked",Er=>nt(Er.oldVersion,Er.newVersion,Er)),Or.then(Er=>{Nt&&Er.addEventListener("close",()=>Nt()),Wt&&Er.addEventListener("versionchange",Qr=>Wt(Qr.oldVersion,Qr.newVersion,Qr))}).catch(()=>{}),Or}(rn,Bn,{upgrade:(Ve,Se)=>{0===Se&&Ve.createObjectStore(he)}}).catch(Ve=>{throw Dt.create("idb-open",{originalErrorMessage:Ve.message})})),G}function te(){return(te=(0,y.Z)(function*(Ve){try{return yield(yield q()).transaction(he).objectStore(he).get(bt(Ve))}catch(Se){if(Se instanceof Me.ZR)Ne.warn(Se.message);else{const nt=Dt.create("idb-get",{originalErrorMessage:Se?.message});Ne.warn(nt.message)}}})).apply(this,arguments)}function Te(Ve,Se){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,y.Z)(function*(Ve,Se){try{const $t=(yield q()).transaction(he,"readwrite");yield $t.objectStore(he).put(Se,bt(Ve)),yield $t.done}catch(nt){if(nt instanceof Me.ZR)Ne.warn(nt.message);else{const $t=Dt.create("idb-set",{originalErrorMessage:nt?.message});Ne.warn($t.message)}}})).apply(this,arguments)}function bt(Ve){return`${Ve.name}!${Ve.options.appId}`}class nn{constructor(Se){this.container=Se,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new lr(nt),this._heartbeatsCachePromise=this._storage.read().then($t=>(this._heartbeatsCache=$t,$t))}triggerHeartbeat(){var Se=this;return(0,y.Z)(function*(){const $t=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=Jt();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!Se._heartbeatsCache.heartbeats.some(Nt=>Nt.date===Wt))return Se._heartbeatsCache.heartbeats.push({date:Wt,agent:$t}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(Nt=>{const pn=new Date(Nt.date).valueOf();return Date.now()-pn<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,y.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const nt=Jt(),{heartbeatsToSend:$t,unsentEntries:Wt}=function kn(Ve,Se=1024){const nt=[];let $t=Ve.slice();for(const Wt of Ve){const Nt=nt.find(pn=>pn.agent===Wt.agent);if(Nt){if(Nt.dates.push(Wt.date),di(nt)>Se){Nt.dates.pop();break}}else if(nt.push({agent:Wt.agent,dates:[Wt.date]}),di(nt)>Se){nt.pop();break}$t=$t.slice(1)}return{heartbeatsToSend:nt,unsentEntries:$t}}(Se._heartbeatsCache.heartbeats),Nt=(0,Me.L)(JSON.stringify({version:2,heartbeats:$t}));return Se._heartbeatsCache.lastSentHeartbeatDate=nt,Wt.length>0?(Se._heartbeatsCache.heartbeats=Wt,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),Nt})()}}function Jt(){return(new Date).toISOString().substring(0,10)}class lr{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,Me.hl)()&&(0,Me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,y.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function K(Ve){return te.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var nt=this;return(0,y.Z)(function*(){var $t;if(yield nt._canUseIndexedDBPromise){const Nt=yield nt.read();return Te(nt.app,{lastSentHeartbeatDate:null!==($t=Se.lastSentHeartbeatDate)&&void 0!==$t?$t:Nt.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var nt=this;return(0,y.Z)(function*(){var $t;if(yield nt._canUseIndexedDBPromise){const Nt=yield nt.read();return Te(nt.app,{lastSentHeartbeatDate:null!==($t=Se.lastSentHeartbeatDate)&&void 0!==$t?$t:Nt.lastSentHeartbeatDate,heartbeats:[...Nt.heartbeats,...Se.heartbeats]})}})()}}function di(Ve){return(0,Me.L)(JSON.stringify({version:2,heartbeats:Ve})).length}!function ji(Ve){Vn(new ce.wA("platform-logger",Se=>new Ln(Se),"PRIVATE")),Vn(new ce.wA("heartbeat",Se=>new nn(Se),"PRIVATE")),Di(yt,"0.9.12",Ve),Di(yt,"0.9.12","esm2017"),Di("fire-js","")}("")},4859:(fn,at,ee)=>{ee.d(at,{H0:()=>ut,wA:()=>U});var y=ee(5861),ce=ee(2090);class U{constructor(ue,oe,Re){this.name=ue,this.instanceFactory=oe,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ue){return this.instantiationMode=ue,this}setMultipleInstances(ue){return this.multipleInstances=ue,this}setServiceProps(ue){return this.serviceProps=ue,this}setInstanceCreatedCallback(ue){return this.onInstanceCreated=ue,this}}const Me="[DEFAULT]";class fe{constructor(ue,oe){this.name=ue,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ue){const oe=this.normalizeInstanceIdentifier(ue);if(!this.instancesDeferred.has(oe)){const Re=new ce.BH;if(this.instancesDeferred.set(oe,Re),this.isInitialized(oe)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:oe});je&&Re.resolve(je)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(ue){var oe;const Re=this.normalizeInstanceIdentifier(ue?.identifier),je=null!==(oe=ue?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(Ee){if(je)return null;throw Ee}}getComponent(){return this.component}setComponent(ue){if(ue.name!==this.name)throw Error(`Mismatching Component ${ue.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ue,this.shouldAutoInitialize()){if(function de(Fe){return"EAGER"===Fe.instantiationMode}(ue))try{this.getOrInitializeService({instanceIdentifier:Me})}catch{}for(const[oe,Re]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(oe);try{const Ee=this.getOrInitializeService({instanceIdentifier:je});Re.resolve(Ee)}catch{}}}}clearInstance(ue=Me){this.instancesDeferred.delete(ue),this.instancesOptions.delete(ue),this.instances.delete(ue)}delete(){var ue=this;return(0,y.Z)(function*(){const oe=Array.from(ue.instances.values());yield Promise.all([...oe.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...oe.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ue=Me){return this.instances.has(ue)}getOptions(ue=Me){return this.instancesOptions.get(ue)||{}}initialize(ue={}){const{options:oe={}}=ue,Re=this.normalizeInstanceIdentifier(ue.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:Re,options:oe});for(const[Ee,It]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(Ee)&&It.resolve(je);return je}onInit(ue,oe){var Re;const je=this.normalizeInstanceIdentifier(oe),Ee=null!==(Re=this.onInitCallbacks.get(je))&&void 0!==Re?Re:new Set;Ee.add(ue),this.onInitCallbacks.set(je,Ee);const It=this.instances.get(je);return It&&ue(It,je),()=>{Ee.delete(ue)}}invokeOnInitCallbacks(ue,oe){const Re=this.onInitCallbacks.get(oe);if(Re)for(const je of Re)try{je(ue,oe)}catch{}}getOrInitializeService({instanceIdentifier:ue,options:oe={}}){let Re=this.instances.get(ue);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:(Fe=ue,Fe===Me?void 0:Fe),options:oe}),this.instances.set(ue,Re),this.instancesOptions.set(ue,oe),this.invokeOnInitCallbacks(Re,ue),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ue,Re)}catch{}var Fe;return Re||null}normalizeInstanceIdentifier(ue=Me){return this.component?this.component.multipleInstances?ue:Me:ue}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ut{constructor(ue){this.name=ue,this.providers=new Map}addComponent(ue){const oe=this.getProvider(ue.name);if(oe.isComponentSet())throw new Error(`Component ${ue.name} has already been registered with ${this.name}`);oe.setComponent(ue)}addOrOverwriteComponent(ue){this.getProvider(ue.name).isComponentSet()&&this.providers.delete(ue.name),this.addComponent(ue)}getProvider(ue){if(this.providers.has(ue))return this.providers.get(ue);const oe=new fe(ue,this);return this.providers.set(ue,oe),oe}getProviders(){return Array.from(this.providers.values())}}},1877:(fn,at,ee)=>{ee.d(at,{Yd:()=>de,in:()=>ce});const y=[];var ce=(()=>((ce=ce||{})[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",ce))();const U={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},Me=ce.INFO,fe={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},ne=(ue,oe,...Re)=>{if(oe<ue.logLevel)return;const je=(new Date).toISOString(),Ee=fe[oe];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[Ee](`[${je}]  ${ue.name}:`,...Re)};class de{constructor(oe){this.name=oe,this._logLevel=Me,this._logHandler=ne,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in ce))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?U[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...oe),this._logHandler(this,ce.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...oe),this._logHandler(this,ce.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...oe),this._logHandler(this,ce.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...oe),this._logHandler(this,ce.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...oe),this._logHandler(this,ce.ERROR,...oe)}}},259:(fn,at,ee)=>{ee.d(at,{C6:()=>y.C6,KN:()=>y.KN,Mq:()=>y.Mq,ZF:()=>y.ZF});var y=ee(6881);(0,y.KN)("firebase","9.22.2","app")},5861:(fn,at,ee)=>{function y(U,Me,fe,ne,de,ut,Fe){try{var ue=U[ut](Fe),oe=ue.value}catch(Re){return void fe(Re)}ue.done?Me(oe):Promise.resolve(oe).then(ne,de)}function ce(U){return function(){var Me=this,fe=arguments;return new Promise(function(ne,de){var ut=U.apply(Me,fe);function Fe(oe){y(ut,ne,de,Fe,ue,"next",oe)}function ue(oe){y(ut,ne,de,Fe,ue,"throw",oe)}Fe(void 0)})}}ee.d(at,{Z:()=>ce})},7582:(fn,at,ee)=>{function Me(Ne,me){var Oe={};for(var We in Ne)Object.prototype.hasOwnProperty.call(Ne,We)&&me.indexOf(We)<0&&(Oe[We]=Ne[We]);if(null!=Ne&&"function"==typeof Object.getOwnPropertySymbols){var vt=0;for(We=Object.getOwnPropertySymbols(Ne);vt<We.length;vt++)me.indexOf(We[vt])<0&&Object.prototype.propertyIsEnumerable.call(Ne,We[vt])&&(Oe[We[vt]]=Ne[We[vt]])}return Oe}function Re(Ne,me,Oe,We){return new(Oe||(Oe=Promise))(function(ct,Ce){function rt(Vt){try{Le(We.next(Vt))}catch(At){Ce(At)}}function tt(Vt){try{Le(We.throw(Vt))}catch(At){Ce(At)}}function Le(Vt){Vt.done?ct(Vt.value):function vt(ct){return ct instanceof Oe?ct:new Oe(function(Ce){Ce(ct)})}(Vt.value).then(rt,tt)}Le((We=We.apply(Ne,me||[])).next())})}function qe(Ne){return this instanceof qe?(this.v=Ne,this):new qe(Ne)}function ot(Ne,me,Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var vt,We=Oe.apply(Ne,me||[]),ct=[];return vt={},Ce("next"),Ce("throw"),Ce("return"),vt[Symbol.asyncIterator]=function(){return this},vt;function Ce(Ut){We[Ut]&&(vt[Ut]=function(mn){return new Promise(function(pr,vr){ct.push([Ut,mn,pr,vr])>1||rt(Ut,mn)})})}function rt(Ut,mn){try{!function tt(Ut){Ut.value instanceof qe?Promise.resolve(Ut.value.v).then(Le,Vt):At(ct[0][2],Ut)}(We[Ut](mn))}catch(pr){At(ct[0][3],pr)}}function Le(Ut){rt("next",Ut)}function Vt(Ut){rt("throw",Ut)}function At(Ut,mn){Ut(mn),ct.shift(),ct.length&&rt(ct[0][0],ct[0][1])}}function Je(Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,me=Ne[Symbol.asyncIterator];return me?me.call(Ne):(Ne=function st(Ne){var me="function"==typeof Symbol&&Symbol.iterator,Oe=me&&Ne[me],We=0;if(Oe)return Oe.call(Ne);if(Ne&&"number"==typeof Ne.length)return{next:function(){return Ne&&We>=Ne.length&&(Ne=void 0),{value:Ne&&Ne[We++],done:!Ne}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ne),Oe={},We("next"),We("throw"),We("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe);function We(ct){Oe[ct]=Ne[ct]&&function(Ce){return new Promise(function(rt,tt){!function vt(ct,Ce,rt,tt){Promise.resolve(tt).then(function(Le){ct({value:Le,done:rt})},Ce)}(rt,tt,(Ce=Ne[ct](Ce)).done,Ce.value)})}}}ee.d(at,{FC:()=>ot,KL:()=>Je,_T:()=>Me,mG:()=>Re,qq:()=>qe})}},fn=>{fn(fn.s=1839)}]);